import{S as a,i as e,s as t,e as s,t as l,c as r,a as o,g as c,d as n,f as i,E as h,G as u,k as f,n as d,b as m,h as p,I as v,J as b,K as g,L as E,M as k,N as w,O as y,P as B,j as N,H as $,m as I,o as j,v as O,r as T,w as x}from"../../chunks/vendor-83b66aae.js";import{B as q,b as U}from"../../chunks/books-b70cc085.js";function D(a,e,t){const s=a.slice();return s[6]=e[t],s}function L(a,e,t){const s=a.slice();return s[9]=e[t][0],s[10]=e[t][1],s}function V(a){let e,t,f=a[9]+"";return{c(){e=s("option"),t=l(f),this.h()},l(a){e=r(a,"OPTION",{value:!0});var s=o(e);t=c(s,f),s.forEach(n),this.h()},h(){e.__value=a[10],e.value=e.__value},m(a,s){i(a,e,s),h(e,t)},p:u,d(a){a&&n(e)}}}function _(a){let e,t,u,v,b,g,E,k,w,y=a[6].name+"";return{c(){e=s("li"),t=s("div"),u=s("h3"),v=l(y),b=f(),g=s("a"),E=l("Edit"),w=f(),this.h()},l(a){e=r(a,"LI",{class:!0});var s=o(e);t=r(s,"DIV",{class:!0});var l=o(t);u=r(l,"H3",{class:!0});var i=o(u);v=c(i,y),i.forEach(n),l.forEach(n),b=d(s),g=r(s,"A",{role:!0,class:!0,"aria-label":!0,href:!0});var h=o(g);E=c(h,"Edit"),h.forEach(n),w=d(s),s.forEach(n),this.h()},h(){m(u,"class","fw-bold"),m(t,"class","ms-2 me-auto"),m(g,"role","button"),m(g,"class","btn btn-primary"),m(g,"aria-label","Update"),m(g,"href",k=`/books/${a[6].id}`),m(e,"class","list-group-item d-flex justify-content-between align-items-start")},m(a,s){i(a,e,s),h(e,t),h(t,u),h(u,v),h(e,b),h(e,g),h(g,E),h(e,w)},p(a,e){4&e&&y!==(y=a[6].name+"")&&p(v,y),4&e&&k!==(k=`/books/${a[6].id}`)&&m(g,"href",k)},d(a){a&&n(e)}}}function C(a){let e,t,p,y,B,N,$,I,j,O,T,x,U,C,P=Object.entries(q),H=[];for(let s=0;s<P.length;s+=1)H[s]=V(L(a,P,s));let J=a[2].metas.rows,M=[];for(let s=0;s<J.length;s+=1)M[s]=_(D(a,J,s));return{c(){e=s("form"),t=s("div"),p=s("input"),y=f(),B=s("div"),N=s("select");for(let a=0;a<H.length;a+=1)H[a].c();$=f(),I=s("div"),j=s("button"),O=l("Create Book"),T=f(),x=s("ul");for(let a=0;a<M.length;a+=1)M[a].c();this.h()},l(a){e=r(a,"FORM",{action:!0,class:!0});var s=o(e);t=r(s,"DIV",{class:!0});var l=o(t);p=r(l,"INPUT",{type:!0,class:!0,placeholder:!0,"aria-label":!0,required:!0}),l.forEach(n),y=d(s),B=r(s,"DIV",{class:!0});var i=o(B);N=r(i,"SELECT",{class:!0,placeholder:!0,"aria-label":!0,required:!0});var h=o(N);for(let e=0;e<H.length;e+=1)H[e].l(h);h.forEach(n),i.forEach(n),$=d(s),I=r(s,"DIV",{class:!0});var u=o(I);j=r(u,"BUTTON",{type:!0,class:!0,"aria-label":!0});var f=o(j);O=c(f,"Create Book"),f.forEach(n),u.forEach(n),s.forEach(n),T=d(a),x=r(a,"UL",{class:!0});var m=o(x);for(let e=0;e<M.length;e+=1)M[e].l(m);m.forEach(n),this.h()},h(){m(p,"type","text"),m(p,"class","form-control"),m(p,"placeholder","New Book Name"),m(p,"aria-label","New Book Name"),p.required=!0,m(t,"class","col-auto"),m(N,"class","form-select"),m(N,"placeholder","New Book Type"),m(N,"aria-label","New Book Type"),N.required=!0,void 0===a[1]&&v((()=>a[5].call(N))),m(B,"class","col-auto"),m(j,"type","submit"),m(j,"class","btn btn-primary"),m(j,"aria-label","Update"),m(I,"class","col-auto"),m(e,"action","javascript:void(0);"),m(e,"class","row mt-4"),m(x,"class","list-group mt-4")},m(s,l){i(s,e,l),h(e,t),h(t,p),b(p,a[0]),h(e,y),h(e,B),h(B,N);for(let a=0;a<H.length;a+=1)H[a].m(N,null);g(N,a[1]),h(e,$),h(e,I),h(I,j),h(j,O),i(s,T,l),i(s,x,l);for(let a=0;a<M.length;a+=1)M[a].m(x,null);U||(C=[E(p,"input",a[4]),E(N,"change",a[5]),E(j,"click",a[3])],U=!0)},p(a,[e]){if(1&e&&p.value!==a[0]&&b(p,a[0]),0&e){let t;for(P=Object.entries(q),t=0;t<P.length;t+=1){const s=L(a,P,t);H[t]?H[t].p(s,e):(H[t]=V(s),H[t].c(),H[t].m(N,null))}for(;t<H.length;t+=1)H[t].d(1);H.length=P.length}if(2&e&&g(N,a[1]),4&e){let t;for(J=a[2].metas.rows,t=0;t<J.length;t+=1){const s=D(a,J,t);M[t]?M[t].p(s,e):(M[t]=_(s),M[t].c(),M[t].m(x,null))}for(;t<M.length;t+=1)M[t].d(1);M.length=J.length}},i:u,o:u,d(a){a&&n(e),k(H,a),a&&n(T),a&&n(x),k(M,a),U=!1,w(C)}}}function P(a,e,t){let s,l;y(a,U,(a=>t(2,s=a)));let r=q.Journel;return[l,r,s,function(){l&&U.createBook(l,r)},function(){l=this.value,t(0,l)},function(){r=B(this),t(1,r)}]}class H extends a{constructor(a){super(),e(this,a,P,C,t,{})}}function J(a){let e,t,s;return t=new H({}),{c(){e=f(),N(t.$$.fragment),this.h()},l(a){$('[data-svelte="svelte-gx7tqy"]',document.head).forEach(n),e=d(a),I(t.$$.fragment,a),this.h()},h(){document.title="Books"},m(a,l){i(a,e,l),j(t,a,l),s=!0},p:u,i(a){s||(O(t.$$.fragment,a),s=!0)},o(a){T(t.$$.fragment,a),s=!1},d(a){a&&n(e),x(t,a)}}}export default class extends a{constructor(a){super(),e(this,a,null,J,t,{})}}
