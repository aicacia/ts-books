import{S as t,i as e,s as n,e as o,c as a,a as r,d as s,b as l,V as i,f as c,B as d,W as u,u as f,v as h,r as m,l as $,X as p,k as g,n as k,Y as v,E as b,L as x,F as w,N as y,Z as E,D as I,t as D,g as T,h as S,G as B,z as V,_,$ as N,y as O,a0 as L,j,m as P,o as C,w as A,a1 as M,a2 as q,I as H,K as z,M as U,O as J,a3 as F,P as R,H as G}from"../../chunks/vendor-979ae52c.js";import{u as K,a as W,b as X,c as Y}from"../../chunks/books-38635fb7.js";import{_ as Z}from"../../chunks/preload-helper-9f12a5fd.js";function Q(t,e,n){const o=t.slice();return o[14]=e[n],o[16]=n,o}const tt=t=>({item:2&t,index:2&t}),et=t=>({item:t[14],index:t[16]});function nt(t){let e,n,$,p=[],g=new Map,k=t[1];const v=t=>t[7](t[14]);for(let o=0;o<k.length;o+=1){let e=Q(t,k,o),n=v(e);g.set(n,p[o]=ot(n,e))}return{c(){e=o("ul");for(let t=0;t<p.length;t+=1)p[t].c();this.h()},l(t){e=a(t,"UL",{class:!0});var n=r(e);for(let e=0;e<p.length;e+=1)p[e].l(n);n.forEach(s),this.h()},h(){l(e,"class",n=i(t[0])+" svelte-1xt2noz")},m(t,n){c(t,e,n);for(let o=0;o<p.length;o+=1)p[o].m(e,null);$=!0},p(t,o){766&o&&(k=t[1],d(),p=u(p,o,v,1,t,k,g,e,E,ot,null,Q),f()),(!$||1&o&&n!==(n=i(t[0])+" svelte-1xt2noz"))&&l(e,"class",n)},i(t){if(!$){for(let t=0;t<k.length;t+=1)h(p[t]);$=!0}},o(t){for(let e=0;e<p.length;e+=1)m(p[e]);$=!1},d(t){t&&s(e);for(let e=0;e<p.length;e+=1)p[e].d()}}}function ot(t,e){let n,i,d,u,f,$,p;const E=e[10].default,B=I(E,e,e[9],et),V=B||function(t){let e,n,l=t[7](t[14])+"";return{c(){e=o("p"),n=D(l)},l(t){e=a(t,"P",{});var o=r(e);n=T(o,l),o.forEach(s)},m(t,o){c(t,e,o),b(e,n)},p(t,e){2&e&&l!==(l=t[7](t[14])+"")&&S(n,l)},d(t){t&&s(e)}}}(e);return{key:t,first:null,c(){n=o("li"),V&&V.c(),i=g(),this.h()},l(t){n=a(t,"LI",{"data-index":!0,"data-id":!0,draggable:!0,class:!0});var e=r(n);V&&V.l(e),i=k(e),e.forEach(s),this.h()},h(){l(n,"data-index",d=e[16]),l(n,"data-id",u=JSON.stringify(e[7](e[14]))),l(n,"draggable","true"),l(n,"class","svelte-1xt2noz"),v(n,"over",e[7](e[14])===e[2]),this.first=n},m(t,o){c(t,n,o),V&&V.m(n,null),b(n,i),f=!0,$||(p=[x(n,"dragstart",e[3]),x(n,"dragover",e[4]),x(n,"dragleave",e[5]),x(n,"drop",e[6])],$=!0)},p(t,o){e=t,B?B.p&&(!f||514&o)&&w(B,E,e,e[9],o,tt,et):V&&V.p&&2&o&&V.p(e,o),(!f||2&o&&d!==(d=e[16]))&&l(n,"data-index",d),(!f||2&o&&u!==(u=JSON.stringify(e[7](e[14]))))&&l(n,"data-id",u),134&o&&v(n,"over",e[7](e[14])===e[2])},i(t){f||(h(V,t),f=!0)},o(t){m(V,t),f=!1},d(t){t&&s(n),V&&V.d(t),$=!1,y(p)}}}function at(t){let e,n,o=t[1]&&t[1].length&&nt(t);return{c(){o&&o.c(),e=$()},l(t){o&&o.l(t),e=$()},m(t,a){o&&o.m(t,a),c(t,e,a),n=!0},p(t,[n]){t[1]&&t[1].length?o?(o.p(t,n),2&n&&h(o,1)):(o=nt(t),o.c(),h(o,1),o.m(e.parentNode,e)):o&&(d(),m(o,1,1,(()=>{o=null})),f())},i(t){n||(h(o),n=!0)},o(t){m(o),n=!1},d(t){o&&o.d(t),t&&s(e)}}}function rt(t,e,n){let{$$slots:o={},$$scope:a}=e,r=!1;const s=t=>t.dataset&&t.dataset.index?t.dataset:s(t.parentNode),l=p(),i=({from:t,to:e})=>{let n=[...d];n[t]=[n[e],n[e]=n[t]][0],l("sort",n)};let{klass:c}=e,{list:d}=e,{key:u}=e;return t.$$set=t=>{"klass"in t&&n(0,c=t.klass),"list"in t&&n(1,d=t.list),"key"in t&&n(8,u=t.key),"$$scope"in t&&n(9,a=t.$$scope)},[c,d,r,t=>{t.dataTransfer.setData("source",t.target.dataset.index)},t=>{t.preventDefault();let e=s(t.target);r!==e.id&&n(2,r=JSON.parse(e.id))},t=>{let e=s(t.target);r===e.id&&n(2,r=!1)},t=>{n(2,r=!1),t.preventDefault();let e=s(t.target),o=t.dataTransfer.getData("source"),a=e.index;i({from:o,to:a})},t=>u?t[u]:t,u,a,o]}class st extends t{constructor(t){super(),e(this,t,rt,at,n,{klass:0,list:1,key:8})}}function lt(t){let e;return{c(){e=o("div")},l(t){e=a(t,"DIV",{}),r(e).forEach(s)},m(n,o){c(n,e,o),t[5](e)},p:B,i:B,o:B,d(n){n&&s(e),t[5](null)}}}function it(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(a,r){function s(t){try{i(o.next(t))}catch(e){r(e)}}function l(t){try{i(o.throw(t))}catch(e){r(e)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}i((o=o.apply(t,e||[])).next())}))};let a,{text:r}=e,{multiline:s=!0}=e;const l=p();let i,c;return V((()=>o(void 0,void 0,void 0,(function*(){const{default:t}=yield Z((()=>import("../../chunks/quill-40411959.js").then((function(t){return t.q}))),["/_app/chunks/quill-40411959.js","/_app/chunks/vendor-979ae52c.js"]);n(4,i=new t(c,{modules:{toolbar:!1},theme:"snow"})),r&&i.setText(r),i.on("text-change",(function(t,e,n){"user"===n&&l("textchange",t)})),c.addEventListener("keydown",(function(t){if("Backspace"===t.key){const e=i.getText();""!==e&&"\n"!==e&&t.stopPropagation()}}),{capture:!0})})))),t.$$set=t=>{"text"in t&&n(1,r=t.text),"multiline"in t&&n(2,s=t.multiline)},t.$$.update=()=>{26&t.$$.dirty&&r!==a&&i&&(n(3,a=r),i.setText(r))},[c,r,s,a,i,function(t){_[t?"unshift":"push"]((()=>{c=t,n(0,c)}))}]}class ct extends t{constructor(t){super(),e(this,t,it,lt,n,{text:1,multiline:2})}}function dt(t){let e,n=N.parse(t[0])+"";return{c(){e=o("div"),this.h()},l(t){e=a(t,"DIV",{class:!0}),r(e).forEach(s),this.h()},h(){l(e,"class","markdown")},m(o,a){c(o,e,a),e.innerHTML=n,t[2](e)},p(t,[o]){1&o&&n!==(n=N.parse(t[0])+"")&&(e.innerHTML=n)},i:B,o:B,d(n){n&&s(e),t[2](null)}}}function ut(t,e,n){let o,a,{markdown:r}=e;const s={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1};return O((()=>{a&&o!==r&&(o=r,window.renderMathInElement(a,s))})),t.$$set=t=>{"markdown"in t&&n(0,r=t.markdown)},[r,a,function(t){_[t?"unshift":"push"]((()=>{a=t,n(1,a)}))}]}class ft extends t{constructor(t){super(),e(this,t,ut,dt,n,{markdown:0})}}function ht(t,e){let n=0;for(const o of e)if(o.retain&&(n+=o.retain),"string"==typeof o.insert){const e=o.insert.split("");t.insertAt(n,...e),n+=e.length}else o.delete&&t.deleteAt(n,o.delete)}function mt(t){let e,n,i;return{c(){e=o("div"),n=o("h3"),i=D("Click to Edit"),this.h()},l(t){e=a(t,"DIV",{class:!0});var o=r(e);n=a(o,"H3",{});var l=r(n);i=T(l,"Click to Edit"),l.forEach(s),o.forEach(s),this.h()},h(){l(e,"class","d-flex align-items-center justify-content-center")},m(t,o){c(t,e,o),b(e,n),b(n,i)},p:B,i:B,o:B,d(t){t&&s(e)}}}function $t(t){let e,n;return e=new ft({props:{markdown:t[1].toString()}}),{c(){j(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,o){C(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.markdown=t[1].toString()),e.$set(o)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function pt(t){let e,n,i,d,u,f,$;return i=new ct({props:{text:t[1]}}),i.$on("textchange",t[3]),f=new ft({props:{markdown:t[2]}}),{c(){e=o("div"),n=o("div"),j(i.$$.fragment),d=g(),u=o("div"),j(f.$$.fragment),this.h()},l(t){e=a(t,"DIV",{class:!0});var o=r(e);n=a(o,"DIV",{class:!0});var l=r(n);P(i.$$.fragment,l),l.forEach(s),d=k(o),u=a(o,"DIV",{class:!0});var c=r(u);P(f.$$.fragment,c),c.forEach(s),o.forEach(s),this.h()},h(){l(n,"class","col-6"),l(u,"class","col-6"),l(e,"class","row")},m(t,o){c(t,e,o),b(e,n),C(i,n,null),b(e,d),b(e,u),C(f,u,null),$=!0},p(t,e){const n={};2&e&&(n.text=t[1]),i.$set(n);const o={};4&e&&(o.markdown=t[2]),f.$set(o)},i(t){$||(h(i.$$.fragment,t),h(f.$$.fragment,t),$=!0)},o(t){m(i.$$.fragment,t),m(f.$$.fragment,t),$=!1},d(t){t&&s(e),A(i),A(f)}}}function gt(t){let e,n,l,i,u;const $=[pt,$t,mt],p=[];function g(t,e){return t[0]?0:(2&e&&(n=!!t[1].trim()),n?1:2)}return l=g(t,-1),i=p[l]=$[l](t),{c(){e=o("div"),i.c()},l(t){e=a(t,"DIV",{});var n=r(e);i.l(n),n.forEach(s)},m(t,n){c(t,e,n),p[l].m(e,null),u=!0},p(t,[n]){let o=l;l=g(t,n),l===o?p[l].p(t,n):(d(),m(p[o],1,1,(()=>{p[o]=null})),f(),i=p[l],i?i.p(t,n):(i=p[l]=$[l](t),i.c()),h(i,1),i.m(e,null))},i(t){u||(h(i),u=!0)},o(t){m(i),u=!1},d(t){t&&s(e),p[l].d()}}}function kt(t,e,n){let o,{bookId:a}=e,{block:r}=e,{edit:s}=e,l=r.text.toString(),i=l;return L((()=>{s!==o&&(o=s,n(1,l=r.text.toString()),n(2,i=l))})),V((()=>{window.addEventListener("click",(()=>n(0,s=!1)))})),t.$$set=t=>{"bookId"in t&&n(4,a=t.bookId),"block"in t&&n(5,r=t.block),"edit"in t&&n(0,s=t.edit)},[s,l,i,function(t){K(a,r.id,(e=>{ht(e.text,t.detail.ops),n(2,i=e.text.toString())}))},a,r]}class vt extends t{constructor(t){super(),e(this,t,kt,gt,n,{bookId:4,block:5,edit:0})}}function bt(t){let e,n;return e=new vt({props:{bookId:t[0],block:t[1],edit:t[2]}}),{c(){j(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,o){C(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.bookId=t[0]),2&n&&(o.block=t[1]),4&n&&(o.edit=t[2]),e.$set(o)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function xt(t){let e,n,l,i,u=t[1].type===W.Text&&bt(t);return{c(){e=o("div"),u&&u.c()},l(t){e=a(t,"DIV",{});var n=r(e);u&&u.l(n),n.forEach(s)},m(o,a){c(o,e,a),u&&u.m(e,null),n=!0,l||(i=x(e,"click",M(t[3])),l=!0)},p(t,[n]){t[1].type===W.Text?u?(u.p(t,n),2&n&&h(u,1)):(u=bt(t),u.c(),h(u,1),u.m(e,null)):u&&(d(),m(u,1,1,(()=>{u=null})),f())},i(t){n||(h(u),n=!0)},o(t){m(u),n=!1},d(t){t&&s(e),u&&u.d(),l=!1,i()}}}function wt(t,e,n){let o,{bookId:a}=e,{block:r}=e;function s(){n(2,o=!1)}q((()=>{window.removeEventListener("click",s)}));return t.$$set=t=>{"bookId"in t&&n(0,a=t.bookId),"block"in t&&n(1,r=t.block)},[a,r,o,()=>n(2,o=!0)]}class yt extends t{constructor(t){super(),e(this,t,wt,xt,n,{bookId:0,block:1})}}function Et(t){let e,n=t[0].toString()+"";return{c(){e=D(n)},l(t){e=T(t,n)},m(t,n){c(t,e,n)},p(t,o){1&o&&n!==(n=t[0].toString()+"")&&S(e,n)},i:B,o:B,d(t){t&&s(e)}}}function It(t){let e,n;return e=new ct({props:{text:t[1],multiline:!1}}),e.$on("textchange",t[3]),{c(){j(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,o){C(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.text=t[1]),e.$set(o)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Dt(t){let e,n,l,i,u,$;const p=[It,Et],g=[];function k(t,e){return t[2]?0:1}return n=k(t),l=g[n]=p[n](t),{c(){e=o("div"),l.c()},l(t){e=a(t,"DIV",{});var n=r(e);l.l(n),n.forEach(s)},m(o,a){c(o,e,a),g[n].m(e,null),i=!0,u||($=x(e,"click",M(t[4])),u=!0)},p(t,[o]){let a=n;n=k(t),n===a?g[n].p(t,o):(d(),m(g[a],1,1,(()=>{g[a]=null})),f(),l=g[n],l?l.p(t,o):(l=g[n]=p[n](t),l.c()),h(l,1),l.m(e,null))},i(t){i||(h(l),i=!0)},o(t){m(l),i=!1},d(t){t&&s(e),g[n].d(),u=!1,$()}}}function Tt(t,e,n){let{text:o}=e;const a=p();let r,s,l=o.toString();function i(){n(2,r=!1)}L((()=>{r!==s&&(s=r,n(1,l=o.toString()))})),V((()=>{window.addEventListener("click",i)})),q((()=>{window.removeEventListener("click",i)}));return t.$$set=t=>{"text"in t&&n(0,o=t.text)},[o,l,r,function(t){a("textchange",t.detail)},()=>n(2,r=!0)]}class St extends t{constructor(t){super(),e(this,t,Tt,Dt,n,{text:0})}}function Bt(t,e,n){const o=t.slice();return o[12]=e[n][0],o[13]=e[n][1],o}function Vt(t){let e,n,i,d,u,f,$,p,v,w,y,E,I,B,V,_,N,O,L,M=t[16].index+1+"",q=t[16].id+"",H=new Date(t[16].createdAt).toDateString()+"";return _=new yt({props:{bookId:t[0].id,block:t[16]}}),{c(){e=o("li"),n=o("div"),i=o("button"),d=o("i"),u=g(),f=o("p"),$=D(M),p=g(),v=D(q),w=g(),y=o("p"),E=D(H),I=g(),B=o("button"),V=g(),j(_.$$.fragment),this.h()},l(t){e=a(t,"LI",{class:!0});var o=r(e);n=a(o,"DIV",{class:!0});var l=r(n);i=a(l,"BUTTON",{type:!0,class:!0});var c=r(i);d=a(c,"I",{class:!0}),r(d).forEach(s),c.forEach(s),u=k(l),f=a(l,"P",{});var h=r(f);$=T(h,M),p=k(h),v=T(h,q),h.forEach(s),w=k(l),y=a(l,"P",{});var m=r(y);E=T(m,H),m.forEach(s),I=k(l),B=a(l,"BUTTON",{type:!0,class:!0,"aria-label":!0}),r(B).forEach(s),l.forEach(s),V=k(o),P(_.$$.fragment,o),o.forEach(s),this.h()},h(){l(d,"class","bi bi-arrows-move"),l(i,"type","button"),l(i,"class","btn btn-primary drag-sort-btn"),l(B,"type","button"),l(B,"class","btn-close"),l(B,"aria-label","Close"),l(n,"class","d-flex justify-content-between align-items-start"),l(e,"class","list-group-item")},m(o,a){c(o,e,a),b(e,n),b(n,i),b(i,d),b(n,u),b(n,f),b(f,$),b(f,p),b(f,v),b(n,w),b(n,y),b(y,E),b(n,I),b(n,B),b(e,V),C(_,e,null),N=!0,O||(L=x(B,"click",(function(){F(t[6](t[16]))&&t[6](t[16]).apply(this,arguments)})),O=!0)},p(e,n){t=e,(!N||65536&n)&&M!==(M=t[16].index+1+"")&&S($,M),(!N||65536&n)&&q!==(q=t[16].id+"")&&S(v,q),(!N||65536&n)&&H!==(H=new Date(t[16].createdAt).toDateString()+"")&&S(E,H);const o={};1&n&&(o.bookId=t[0].id),65536&n&&(o.block=t[16]),_.$set(o)},i(t){N||(h(_.$$.fragment,t),N=!0)},o(t){m(_.$$.fragment,t),N=!1},d(t){t&&s(e),A(_),O=!1,L()}}}function _t(t){let e,n,l=t[12]+"";return{c(){e=o("option"),n=D(l),this.h()},l(t){e=a(t,"OPTION",{value:!0});var o=r(e);n=T(o,l),o.forEach(s),this.h()},h(){e.__value=t[13],e.value=e.__value},m(t,o){c(t,e,o),b(e,n)},p:B,d(t){t&&s(e)}}}function Nt(t){let e,n,i,d,u,f,$,p,v,w,E,I,S,B,V,_;n=new St({props:{text:t[0].name}}),n.$on("textchange",t[5]),d=new st({props:{list:t[2],key:"id",klass:"mt-4 list-group list-group-flush",$$slots:{default:[Vt,({item:t})=>({16:t}),({item:t})=>t?65536:0]},$$scope:{ctx:t}}}),d.$on("sort",t[7]);let N=Object.entries(W),O=[];for(let o=0;o<N.length;o+=1)O[o]=_t(Bt(t,N,o));return{c(){e=o("h1"),j(n.$$.fragment),i=g(),j(d.$$.fragment),u=g(),f=o("div"),$=o("form"),p=o("div"),v=o("select");for(let t=0;t<O.length;t+=1)O[t].c();w=g(),E=o("div"),I=o("button"),S=D("Create"),this.h()},l(t){e=a(t,"H1",{});var o=r(e);P(n.$$.fragment,o),o.forEach(s),i=k(t),P(d.$$.fragment,t),u=k(t),f=a(t,"DIV",{class:!0});var l=r(f);$=a(l,"FORM",{action:!0,class:!0});var c=r($);p=a(c,"DIV",{class:!0});var h=r(p);v=a(h,"SELECT",{class:!0,placeholder:!0,"aria-label":!0,required:!0});var m=r(v);for(let e=0;e<O.length;e+=1)O[e].l(m);m.forEach(s),h.forEach(s),w=k(c),E=a(c,"DIV",{class:!0});var g=r(E);I=a(g,"BUTTON",{type:!0,class:!0,"aria-label":!0});var b=r(I);S=T(b,"Create"),b.forEach(s),g.forEach(s),c.forEach(s),l.forEach(s),this.h()},h(){l(v,"class","form-select"),l(v,"placeholder","New Block Type"),l(v,"aria-label","New Block Type"),v.required=!0,void 0===t[1]&&H((()=>t[9].call(v))),l(p,"class","col-auto"),l(I,"type","submit"),l(I,"class","btn btn-primary"),l(I,"aria-label","Create Block"),l(E,"class","col-auto"),l($,"action","javascript:void(0);"),l($,"class","row mt-4"),l(f,"class","d-flex align-items-center justify-content-center")},m(o,a){c(o,e,a),C(n,e,null),c(o,i,a),C(d,o,a),c(o,u,a),c(o,f,a),b(f,$),b($,p),b(p,v);for(let t=0;t<O.length;t+=1)O[t].m(v,null);z(v,t[1]),b($,w),b($,E),b(E,I),b(I,S),B=!0,V||(_=[x(v,"change",t[9]),x(I,"click",t[4])],V=!0)},p(t,[e]){const o={};1&e&&(o.text=t[0].name),n.$set(o);const a={};if(4&e&&(a.list=t[2]),196609&e&&(a.$$scope={dirty:e,ctx:t}),d.$set(a),0&e){let n;for(N=Object.entries(W),n=0;n<N.length;n+=1){const o=Bt(t,N,n);O[n]?O[n].p(o,e):(O[n]=_t(o),O[n].c(),O[n].m(v,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=N.length}2&e&&z(v,t[1])},i(t){B||(h(n.$$.fragment,t),h(d.$$.fragment,t),B=!0)},o(t){m(n.$$.fragment,t),m(d.$$.fragment,t),B=!1},d(t){t&&s(e),A(n),t&&s(i),A(d,t),t&&s(u),t&&s(f),U(O,t),V=!1,y(_)}}}function Ot(t,e){return t.index-e.index}function Lt(t,e,n){let o,a;var r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(a,r){function s(t){try{i(o.next(t))}catch(e){r(e)}}function l(t){try{i(o.throw(t))}catch(e){r(e)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}i((o=o.apply(t,e||[])).next())}))};let{book:s}=e,l=W.Text,i=X.getBookById(s.id);return J(t,i,(t=>n(8,a=t))),q((()=>{X.unloadBookById(s.id)})),t.$$set=t=>{"book"in t&&n(0,s=t.book)},t.$$.update=()=>{256&t.$$.dirty&&n(2,o=a.blocks.rows.sort(Ot))},[s,l,o,i,function(){return r(this,void 0,void 0,(function*(){yield Y(s.id,l)}))},function(t){X.change((e=>{ht(e.metas.byId(s.id).name,t.detail.ops)}))},function(t){return function(){X.getBookById(s.id).change((e=>{e.blocks.remove(t.id)}))}},function(t){i.change((e=>{let n=0;t.detail.map((t=>t.id)).forEach((t=>{const o=e.blocks.byId(t);o&&(o.index=n++)}))}))},a,function(){l=R(this),n(1,l)}]}class jt extends t{constructor(t){super(),e(this,t,Lt,Nt,n,{book:0})}}function Pt(t){let e,n;return{c(){e=o("div"),n=o("span"),this.h()},l(t){e=a(t,"DIV",{class:!0});var o=r(e);n=a(o,"SPAN",{class:!0,role:!0,"aria-hidden":!0}),r(n).forEach(s),o.forEach(s),this.h()},h(){l(n,"class","spinner-border spinner-border-sm"),l(n,"role","status"),l(n,"aria-hidden","true"),l(e,"class","d-flex align-items-center justify-content-center")},m(t,o){c(t,e,o),b(e,n)},p:B,i:B,o:B,d(t){t&&s(e)}}}function Ct(t){let e,n;return e=new jt({props:{book:t[0]}}),{c(){j(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,o){C(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.book=t[0]),e.$set(o)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function At(t){var e;let n,o,a,r,l,i;document.title=n="Book: "+(null==(e=t[0])?void 0:e.name);const u=[Ct,Pt],p=[];function v(t,e){return t[0]?0:1}return a=v(t),r=p[a]=u[a](t),{c(){o=g(),r.c(),l=$()},l(t){G('[data-svelte="svelte-1ansdeq"]',document.head).forEach(s),o=k(t),r.l(t),l=$()},m(t,e){c(t,o,e),p[a].m(t,e),c(t,l,e),i=!0},p(t,[e]){var o;(!i||1&e)&&n!==(n="Book: "+(null==(o=t[0])?void 0:o.name))&&(document.title=n);let s=a;a=v(t),a===s?p[a].p(t,e):(d(),m(p[s],1,1,(()=>{p[s]=null})),f(),r=p[a],r?r.p(t,e):(r=p[a]=u[a](t),r.c()),h(r,1),r.m(l.parentNode,l))},i(t){i||(h(r),i=!0)},o(t){m(r),i=!1},d(t){t&&s(o),p[a].d(t),t&&s(l)}}}async function Mt({page:{params:t}}){return{props:{bookId:t.bookId}}}function qt(t,e,n){let o,a;J(t,X,(t=>n(2,a=t)));let{bookId:r}=e;return t.$$set=t=>{"bookId"in t&&n(1,r=t.bookId)},t.$$.update=()=>{6&t.$$.dirty&&n(0,o=a.metas.byId(r))},[o,r,a]}export default class extends t{constructor(t){super(),e(this,t,qt,At,n,{bookId:1})}}export{Mt as load};
