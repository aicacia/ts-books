function noop(){}function assign(t,e){for(const r in e)t[r]=e[r];return t}function run(t){return t()}function blank_object(){return Object.create(null)}function run_all(t){t.forEach(run)}function is_function(t){return"function"==typeof t}function safe_not_equal(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function is_empty(t){return 0===Object.keys(t).length}function subscribe(t,...e){if(null==t)return noop;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function get_store_value(t){let e;return subscribe(t,(t=>e=t))(),e}function component_subscribe(t,e,r){t.$$.on_destroy.push(subscribe(e,r))}function create_slot(t,e,r,n){if(t){const o=get_slot_context(t,e,r,n);return t[0](o)}}function get_slot_context(t,e,r,n){return t[1]&&n?assign(r.ctx.slice(),t[1](n(e))):r.ctx}function get_slot_changes(t,e,r,n){if(t[2]&&n){const o=t[2](n(r));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],r=Math.max(e.dirty.length,o.length);for(let n=0;n<r;n+=1)t[n]=e.dirty[n]|o[n];return t}return e.dirty|o}return e.dirty}function update_slot(t,e,r,n,o,i,a){const s=get_slot_changes(e,n,o,i);if(s){const o=get_slot_context(e,r,n,a);t.p(o,s)}}function append(t,e){t.appendChild(e)}function insert(t,e,r){t.insertBefore(e,r||null)}function detach(t){t.parentNode.removeChild(t)}function destroy_each(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function element(t){return document.createElement(t)}function svg_element(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function text(t){return document.createTextNode(t)}function space(){return text(" ")}function empty(){return text("")}function listen(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function stop_propagation(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function attr(t,e,r){null==r?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function children(t){return Array.from(t.childNodes)}function claim_element(t,e,r,n){for(let o=0;o<t.length;o+=1){const n=t[o];if(n.nodeName===e){let e=0;const i=[];for(;e<n.attributes.length;){const t=n.attributes[e++];r[t.name]||i.push(t.name)}for(let t=0;t<i.length;t++)n.removeAttribute(i[t]);return t.splice(o,1)[0]}}return n?svg_element(e):element(e)}function claim_text(t,e){for(let r=0;r<t.length;r+=1){const n=t[r];if(3===n.nodeType)return n.data=""+e,t.splice(r,1)[0]}return text(e)}function claim_space(t){return claim_text(t," ")}function set_data(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function set_input_value(t,e){t.value=null==e?"":e}function select_option(t,e){for(let r=0;r<t.options.length;r+=1){const n=t.options[r];if(n.__value===e)return void(n.selected=!0)}}function select_value(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function query_selector_all(t,e=document.body){return Array.from(e.querySelectorAll(t))}class HtmlTag{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,r=null){this.e||(this.e=element(e.nodeName),this.t=e,this.h(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)insert(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(detach)}}let current_component;function set_current_component(t){current_component=t}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(t){get_current_component().$$.on_mount.push(t)}function afterUpdate(t){get_current_component().$$.after_update.push(t)}function setContext(t,e){get_current_component().$$.context.set(t,e)}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(t){render_callbacks.push(t)}let flushing=!1;const seen_callbacks=new Set;function flush(){if(!flushing){flushing=!0;do{for(let t=0;t<dirty_components.length;t+=1){const e=dirty_components[t];set_current_component(e),update(e.$$)}for(set_current_component(null),dirty_components.length=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const e=render_callbacks[t];seen_callbacks.has(e)||(seen_callbacks.add(e),e())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,flushing=!1,seen_callbacks.clear()}}function update(t){if(null!==t.fragment){t.update(),run_all(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(t,e){t&&t.i&&(outroing.delete(t),t.i(e))}function transition_out(t,e,r,n){if(t&&t.o){if(outroing.has(t))return;outroing.add(t),outros.c.push((()=>{outroing.delete(t),n&&(r&&t.d(1),n())})),t.o(e)}}function get_spread_update(t,e){const r={},n={},o={$$scope:1};let i=t.length;for(;i--;){const a=t[i],s=e[i];if(s){for(const t in a)t in s||(n[t]=1);for(const t in s)o[t]||(r[t]=s[t],o[t]=1);t[i]=s}else for(const t in a)o[t]=1}for(const a in n)a in r||(r[a]=void 0);return r}function get_spread_object(t){return"object"==typeof t&&null!==t?t:{}}function create_component(t){t&&t.c()}function claim_component(t,e){t&&t.l(e)}function mount_component(t,e,r,n){const{fragment:o,on_mount:i,on_destroy:a,after_update:s}=t.$$;o&&o.m(e,r),n||add_render_callback((()=>{const e=i.map(run).filter(is_function);a?a.push(...e):run_all(e),t.$$.on_mount=[]})),s.forEach(add_render_callback)}function destroy_component(t,e){const r=t.$$;null!==r.fragment&&(run_all(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function make_dirty(t,e){-1===t.$$.dirty[0]&&(dirty_components.push(t),schedule_update(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function init(t,e,r,n,o,i,a=[-1]){const s=current_component;set_current_component(t);const c=t.$$={fragment:null,ctx:null,props:i,update:noop,not_equal:o,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:e.context||[]),callbacks:blank_object(),dirty:a,skip_bound:!1};let u=!1;if(c.ctx=r?r(t,e.props||{},((e,r,...n)=>{const i=n.length?n[0]:r;return c.ctx&&o(c.ctx[e],c.ctx[e]=i)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](i),u&&make_dirty(t,e)),r})):[],c.update(),u=!0,run_all(c.before_update),c.fragment=!!n&&n(c.ctx),e.target){if(e.hydrate){const t=children(e.target);c.fragment&&c.fragment.l(t),t.forEach(detach)}else c.fragment&&c.fragment.c();e.intro&&transition_in(t.$$.fragment),mount_component(t,e.target,e.anchor,e.customElement),flush()}set_current_component(s)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(t,e){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const subscriber_queue=[];function writable(t,e=noop){let r;const n=[];function o(e){if(safe_not_equal(t,e)&&(t=e,r)){const e=!subscriber_queue.length;for(let r=0;r<n.length;r+=1){const e=n[r];e[1](),subscriber_queue.push(e,t)}if(e){for(let t=0;t<subscriber_queue.length;t+=2)subscriber_queue[t][0](subscriber_queue[t+1]);subscriber_queue.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(i,a=noop){const s=[i,a];return n.push(s),1===n.length&&(r=e(o)||noop),i(t),()=>{const t=n.indexOf(s);-1!==t&&n.splice(t,1),0===n.length&&(r(),r=null)}}}}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}function createCommonjsModule(t){var e={exports:{}};return t(e,e.exports),e.exports}function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}var automerge=createCommonjsModule((function(module,exports){var factory;factory=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s="./src/automerge.js")}({"./backend/index.js":function(t,e,r){var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(c){o=!0,i=c}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r("./node_modules/immutable/dist/immutable.js"),a=i.Map,s=i.List,c=i.fromJS,u=r("./src/common.js");u.isObject;var l=u.lessOrEqual,g=u.parseElemId,f=r("./backend/op_set.js"),h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.diffs={},this.children={}}return o(t,[{key:"unpackValue",value:function(t,e,r){Object.assign(e,r),r.link&&this.children[t].push(r.value)}},{key:"unpackConflicts",value:function(t,e,r){if(r){e.conflicts=[];var o=!0,i=!1,a=void 0;try{for(var s,c=r[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value,l=n(u,2),g=l[0],f=l[1],h={actor:g};this.unpackValue(t,h,f),e.conflicts.push(h)}}catch(p){i=!0,a=p}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}}}},{key:"instantiateMap",value:function(t,e,r){var n=this.diffs[e];e!==f.ROOT_ID&&n.push({obj:e,type:r,action:"create"});var o=f.getObjectConflicts(t,e,this),i=!0,a=!1,s=void 0;try{for(var c,u=f.getObjectFields(t,e)[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value,g={obj:e,type:r,action:"set",key:l};this.unpackValue(e,g,f.getObjectField(t,e,l,this)),this.unpackConflicts(e,g,o.get(l)),n.push(g)}}catch(h){a=!0,s=h}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}}},{key:"instantiateList",value:function(t,e,r){var n=this.diffs[e],o=0;n.push({obj:e,type:r,action:"create"});var i=!0,a=!1,s=void 0;try{for(var c,u=f.listIterator(t,e,this)[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value,h=l.index,p=l.elemId,d=l.value,y=l.conflicts;if(o=Math.max(o,g(p).counter),void 0!==h){var m={obj:e,type:r,action:"insert",index:h,elemId:p};this.unpackValue(e,m,d),this.unpackConflicts(e,m,y),n.push(m)}}}catch(v){a=!0,s=v}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}n.push({obj:e,type:r,action:"maxElem",value:o})}},{key:"instantiateObject",value:function(t,e){if(this.diffs[e])return{value:e,link:!0};var r=e===f.ROOT_ID,n=t.getIn(["byObject",e,"_init","action"]);if(this.diffs[e]=[],this.children[e]=[],r||"makeMap"===n)this.instantiateMap(t,e,"map");else if("makeTable"===n)this.instantiateMap(t,e,"table");else if("makeList"===n)this.instantiateList(t,e,"list");else{if("makeText"!==n)throw new RangeError("Unknown object type: "+n);this.instantiateList(t,e,"text")}return{value:e,link:!0}}},{key:"makePatch",value:function(t,e){var r=!0,n=!1,o=void 0;try{for(var i,a=this.children[t][Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;this.makePatch(s,e)}}catch(p){n=!0,o=p}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}var c=!0,u=!1,l=void 0;try{for(var g,f=this.diffs[t][Symbol.iterator]();!(c=(g=f.next()).done);c=!0){var h=g.value;e.push(h)}}catch(p){u=!0,l=p}finally{try{!c&&f.return&&f.return()}finally{if(u)throw l}}}}]),t}();function p(t,e){var r=t.getIn(["opSet","undoPos"])>0,n=!t.getIn(["opSet","redoStack"]).isEmpty();return{clock:t.getIn(["opSet","clock"]).toJS(),deps:t.getIn(["opSet","deps"]).toJS(),canUndo:r,canRedo:n,diffs:e}}function d(t,e,r){var o=[],i=t.get("opSet"),a=!0,s=!1,u=void 0;try{for(var l,g=c(e)[Symbol.iterator]();!(a=(l=g.next()).done);a=!0){var h=l.value;h=h.remove("requestType");var d=f.addChange(i,h,r),y=n(d,2),m=y[0],v=y[1],_=!0,b=!1,w=void 0;try{for(var S,E=v[Symbol.iterator]();!(_=(S=E.next()).done);_=!0){var k=S.value;o.push(k)}}catch(T){b=!0,w=T}finally{try{!_&&E.return&&E.return()}finally{if(b)throw w}}i=m}}catch(T){s=!0,u=T}finally{try{!a&&g.return&&g.return()}finally{if(s)throw u}}return[t=t.set("opSet",i),p(t,o)]}function y(t,e){return d(t,e,!1)}t.exports={init:function(){return a({opSet:f.init()})},applyChanges:y,applyLocalChange:function(t,e){if("string"!=typeof e.actor||"number"!=typeof e.seq)throw new TypeError("Change request requries `actor` and `seq` properties");if(e.seq<=t.getIn(["opSet","clock",e.actor],0))throw new RangeError("Change request has already been applied");var r=void 0;if("change"===e.requestType){var o=d(t,[e],!1!==e.undoable),i=n(o,2);t=i[0],r=i[1]}else if("undo"===e.requestType){var u=function(t,e){var r=t.getIn(["opSet","undoPos"]),o=t.getIn(["opSet","undoStack",r-1]);if(r<1||!o)throw new RangeError("Cannot undo: there is nothing to be undone");var i=e.actor,u=e.seq,l=e.deps,g=e.message,h=a({actor:i,seq:u,deps:c(l),message:g,ops:o}),d=t.get("opSet"),y=s().withMutations((function(t){var e=!0,r=!1,n=void 0;try{for(var i,s=o[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var c=i.value;if(!["set","del","link","inc"].includes(c.get("action")))throw new RangeError("Unexpected operation type in undo history: "+c);var u=f.getFieldOps(d,c.get("obj"),c.get("key"));if("inc"===c.get("action"))t.push(a({action:"inc",obj:c.get("obj"),key:c.get("key"),value:-c.get("value")}));else if(u.isEmpty())t.push(a({action:"del",obj:c.get("obj"),key:c.get("key")}));else{var l=!0,g=!1,h=void 0;try{for(var p,y=u[Symbol.iterator]();!(l=(p=y.next()).done);l=!0){var m=p.value;t.push(m.remove("actor").remove("seq"))}}catch(v){g=!0,h=v}finally{try{!l&&y.return&&y.return()}finally{if(g)throw h}}}}}catch(v){r=!0,n=v}finally{try{!e&&s.return&&s.return()}finally{if(r)throw n}}}));d=d.set("undoPos",r-1).update("redoStack",(function(t){return t.push(y)}));var m=f.addChange(d,h,!1),v=n(m,2),_=v[0],b=v[1];return[t=t.set("opSet",_),p(t,b)]}(t,e),l=n(u,2);t=l[0],r=l[1]}else{if("redo"!==e.requestType)throw new RangeError("Unknown requestType: "+e.requestType);var g=function(t,e){var r=t.getIn(["opSet","redoStack"]).last();if(!r)throw new RangeError("Cannot redo: the last change was not an undo");var o=e.actor,i=e.seq,s=e.deps,u=e.message,l=a({actor:o,seq:i,deps:c(s),message:u,ops:r}),g=t.get("opSet").update("undoPos",(function(t){return t+1})).update("redoStack",(function(t){return t.pop()})),h=f.addChange(g,l,!1),d=n(h,2),y=d[0],m=d[1];return[t=t.set("opSet",y),p(t,m)]}(t,e),h=n(g,2);t=h[0],r=h[1]}return r.actor=e.actor,r.seq=e.seq,[t,r]},getPatch:function(t){var e=[],r=t.get("opSet"),n=new h(r);return n.instantiateObject(r,f.ROOT_ID),n.makePatch(f.ROOT_ID,e),p(t,e)},getChanges:function(t,e){var r=t.getIn(["opSet","clock"]),n=e.getIn(["opSet","clock"]);if(!l(r,n))throw new RangeError("Cannot diff two states that have diverged");return f.getMissingChanges(e.get("opSet"),r).toJS()},getChangesForActor:function(t,e){return f.getChangesForActor(t.get("opSet"),e).toJS()},getMissingChanges:function(t,e){return f.getMissingChanges(t.get("opSet"),e).toJS()},getMissingDeps:function(t){return f.getMissingDeps(t.get("opSet"))},merge:function(t,e){var r=f.getMissingChanges(e.get("opSet"),t.getIn(["opSet","clock"]));return y(t,r)}}},"./backend/op_set.js":function(t,e,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(c){o=!0,i=c}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=r("./node_modules/immutable/dist/immutable.js"),a=i.Map,s=i.List,c=i.Set,u=r("./backend/skip_list.js").SkipList,l=r("./src/common.js"),g=l.ROOT_ID,f=l.parseElemId;function h(t,e,r){var n=[e.get("actor"),e.get("seq")],o=n[0],i=n[1],a=[r.get("actor"),r.get("seq")],s=a[0],c=a[1];if(!(o&&s&&i&&c))return!1;var u=t.getIn(["states",o,i-1,"allDeps"]),l=t.getIn(["states",s,c-1,"allDeps"]);return u.get(s,0)<c&&l.get(o,0)<i}function p(t,e){var r=e.get("actor"),n=e.get("seq"),o=!0;return e.get("deps").set(r,n-1).forEach((function(e,r){t.getIn(["clock",r],0)<e&&(o=!1)})),o}function d(t,e){return e.reduce((function(e,r,n){if(r<=0)return e;var o=t.getIn(["states",n,r-1,"allDeps"]);return e.mergeWith((function(t,e){return Math.max(t,e)}),o).set(n,r)}),a())}function y(t,e){for(var r=[];e!==g;){var n=t.getIn(["byObject",e,"_inbound"],c()).first();if(!n)return null;e=n.get("obj");var o=t.getIn(["byObject",e,"_init","action"]);if("makeList"===o||"makeText"===o){var i=t.getIn(["byObject",e,"_elemIds"]).indexOf(n.get("key"));if(i<0)return null;r.unshift(i)}else r.unshift(n.get("key"))}return r}function m(t,e){var r=e.get("obj");if(t.hasIn(["byObject",r,"_keys"]))throw new Error("Duplicate creation of object "+r);var n={action:"create",obj:r},o=a({_init:e,_inbound:c(),_keys:a()});return"makeMap"===e.get("action")?n.type="map":"makeTable"===e.get("action")?n.type="table":(n.type="makeText"===e.get("action")?"text":"list",o=o.set("_elemIds",new u)),[t=t.setIn(["byObject",r],o),[n]]}function v(t,e){var r=e.get("obj"),n=e.get("elem"),o=e.get("actor")+":"+n,i=Math.max(n,t.getIn(["byObject",r,"_maxElem"],0)),a="makeText"===t.getIn(["byObject",r,"_init","action"])?"text":"list";if(!t.get("byObject").has(r))throw new Error("Modification of unknown object "+r);if(t.hasIn(["byObject",r,"_insertion",o]))throw new Error("Duplicate list element ID "+o);return[t=t.updateIn(["byObject",r,"_following",e.get("key")],s(),(function(t){return t.push(e)})).setIn(["byObject",r,"_maxElem"],i).setIn(["byObject",r,"_insertion",o],e),[{obj:r,type:a,action:"maxElem",value:i,path:y(t,r)}]]}function _(t){var e=[],r=!0,n=!1,o=void 0;try{for(var i,a=t.shift()[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value,c={actor:s.get("actor"),value:s.get("value")};"link"===s.get("action")&&(c.link=!0),s.get("datatype")&&(c.datatype=s.get("datatype")),e.push(c)}}catch(u){n=!0,o=u}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return e}function b(t,e,r,n,o,i){var a="makeText"===t.getIn(["byObject",e,"_init","action"])?"text":"list",s=i?i.first():null,c=t.getIn(["byObject",e,"_elemIds"]),u=s?s.get("value"):null,l={action:o,type:a,obj:e,index:r,path:y(t,e)};if(s&&"link"===s.get("action")&&(l.link=!0,u={obj:s.get("value")}),"insert"===o)c=c.insertIndex(r,s.get("key"),u),l.elemId=n,l.value=s.get("value"),s.get("datatype")&&(l.datatype=s.get("datatype"));else if("set"===o)c=c.setValue(s.get("key"),u),l.value=s.get("value"),s.get("datatype")&&(l.datatype=s.get("datatype"));else{if("remove"!==o)throw new Error("Unknown action type: "+o);c=c.removeIndex(r)}return i&&i.size>1&&(l.conflicts=_(i)),[t=t.setIn(["byObject",e,"_elemIds"],c),[l]]}function w(t,e,r,n){var o=j(t,e,n),i=o.first(),a={action:"",type:r,obj:e,key:n,path:y(t,e)};return o.isEmpty()?a.action="remove":(a.action="set",a.value=i.get("value"),"link"===i.get("action")&&(a.link=!0),i.get("datatype")&&(a.datatype=i.get("datatype")),o.size>1&&(a.conflicts=_(o))),[t,[a]]}function S(t,e,r){var n=e.get("obj"),o=t.getIn(["byObject",n,"_init","action"]);if(!t.get("byObject").has(n))throw new Error("Modification of unknown object "+n);if(t.has("undoLocal")&&r){var i=void 0;(i="inc"===e.get("action")?s.of(a({action:"inc",obj:n,key:e.get("key"),value:-e.get("value")})):t.getIn(["byObject",n,"_keys",e.get("key")],s()).map((function(t){return t.filter((function(t,e){return["action","obj","key","value","datatype"].includes(e)}))}))).isEmpty()&&(i=s.of(a({action:"del",obj:n,key:e.get("key")}))),t=t.update("undoLocal",(function(t){return t.concat(i)}))}var u=t.getIn(["byObject",n,"_keys",e.get("key")],s()),l=void 0,f=void 0;if("inc"===e.get("action"))l=s(),f=u.map((function(r){return"set"!==r.get("action")||"number"!=typeof r.get("value")||"counter"!==r.get("datatype")||h(t,r,e)?r:r.set("value",r.get("value")+e.get("value"))}));else{var p=u.groupBy((function(r){return!!h(t,r,e)}));l=p.get(!1,s()),f=p.get(!0,s())}var d=function(e){t=t.updateIn(["byObject",e.get("value"),"_inbound"],(function(t){return t.remove(e)}))},y=!0,m=!1,v=void 0;try{for(var _,S=l.filter((function(t){return"link"===t.get("action")}))[Symbol.iterator]();!(y=(_=S.next()).done);y=!0)d(_.value)}catch(E){m=!0,v=E}finally{try{!y&&S.return&&S.return()}finally{if(m)throw v}}if("link"===e.get("action")&&(t=t.updateIn(["byObject",e.get("value"),"_inbound"],c(),(function(t){return t.add(e)}))),["set","link"].includes(e.get("action"))&&(f=f.push(e)),f=f.sortBy((function(t){return t.get("actor")})).reverse(),t=t.setIn(["byObject",n,"_keys",e.get("key")],f),n===g||"makeMap"===o)return w(t,n,"map",e.get("key"));if("makeTable"===o)return w(t,n,"table",e.get("key"));if("makeList"===o||"makeText"===o)return function(t,e,r){var n=j(t,e,r),o=t.getIn(["byObject",e,"_elemIds"]),i=o.indexOf(r);if(i>=0)return n.isEmpty()?b(t,e,i,r,"remove",null):b(t,e,i,r,"set",n);if(n.isEmpty())return[t,[]];for(var a=r;i=-1,(a=C(t,e,a))&&!((i=o.indexOf(a))>=0););return b(t,e,i+1,r,"insert",n)}(t,n,e.get("key"));throw new RangeError("Unknown operation type "+o)}function E(t){for(var e={},r=[],n=t.length-1;n>=0;n--){var o=t[n],i=o.obj,a=o.action;if("maxElem"===a)(void 0===e[i]||e[i]<o.value)&&(e[i]=o.value,r.push(o));else if("insert"===a){var s=f(o.elemId).counter;(void 0===e[i]||e[i]<s)&&(e[i]=s),r.push(o)}else r.push(o)}return r.reverse()}function k(t,e){var r=e.get("actor"),n=e.get("seq"),i=t.getIn(["states",r],s());if(n<=i.size){if(!i.get(n-1).get("change").equals(e))throw new Error("Inconsistent reuse of sequence number "+n+" by "+r);return[t,[]]}var u,l=d(t,e.get("deps").set(r,n-1)),g=function(t,e){var r=[],n=c(),i=!0,a=!1,s=void 0;try{for(var u,l=e[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var g=u.value,f=void 0,h=g.get("action");if(["makeMap","makeList","makeText","makeTable"].includes(h)){n=n.add(g.get("obj"));var p=m(t,g),d=o(p,2);t=d[0],f=d[1]}else if("ins"===h){var y=v(t,g),_=o(y,2);t=_[0],f=_[1]}else{if(!["set","del","link","inc"].includes(h))throw new RangeError("Unknown operation type "+h);var b=S(t,g,!n.contains(g.get("obj"))),w=o(b,2);t=w[0],f=w[1]}var k=!0,T=!1,j=void 0;try{for(var x,I=f[Symbol.iterator]();!(k=(x=I.next()).done);k=!0){var O=x.value;r.push(O)}}catch(A){T=!0,j=A}finally{try{!k&&I.return&&I.return()}finally{if(T)throw j}}}}catch(A){a=!0,s=A}finally{try{!i&&l.return&&l.return()}finally{if(a)throw s}}return[t,E(r)]}(t=t.setIn(["states",r],i.push(a({change:e,allDeps:l}))),e.get("ops").map((function(t){return t.merge({actor:r,seq:n})}))),f=o(g,2);t=f[0],u=f[1];var h=t.get("deps").filter((function(t,e){return t>l.get(e,0)})).set(r,n);return[t=t.set("deps",h).setIn(["clock",r],n).update("history",(function(t){return t.push(e)})),u]}function T(t){for(var e=s(),r=void 0,n=[];;){var i=!0,a=!1,c=void 0;try{for(var u,l=t.get("queue")[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var g=u.value;if(p(t,g)){var f=k(t,g),h=o(f,2);t=h[0],r=h[1];var d=!0,y=!1,m=void 0;try{for(var v,_=r[Symbol.iterator]();!(d=(v=_.next()).done);d=!0){var b=v.value;n.push(b)}}catch(w){y=!0,m=w}finally{try{!d&&_.return&&_.return()}finally{if(y)throw m}}}else e=e.push(g)}}catch(w){a=!0,c=w}finally{try{!i&&l.return&&l.return()}finally{if(a)throw c}}if(e.count()===t.get("queue").count())return[t,n];t=t.set("queue",e),e=s()}}function j(t,e,r){return t.getIn(["byObject",e,"_keys",r],s())}function x(t,e,r){if("_head"!==r){var n=t.getIn(["byObject",e,"_insertion",r]);if(!n)throw new TypeError("Missing index entry for list element "+r);return n.get("key")}}function I(t,e){return t.get("elem")<e.get("elem")?-1:t.get("elem")>e.get("elem")?1:t.get("actor")<e.get("actor")?-1:t.get("actor")>e.get("actor")?1:0}function O(t,e,r,n){var o=null;if(n){var i=f(n);o=a({actor:i.actorId,elem:i.counter})}return t.getIn(["byObject",e,"_following",r],s()).filter((function(t){return"ins"===t.get("action")})).filter((function(t){return!o||I(t,o)<0})).sort(I).reverse().map((function(t){return t.get("actor")+":"+t.get("elem")}))}function A(t,e,r){var n=O(t,e,r);if(!n.isEmpty())return n.first();for(var o=void 0;;){if(!(o=x(t,e,r)))return;var i=O(t,e,o,r);if(!i.isEmpty())return i.first();r=o}}function C(t,e,r){var n=x(t,e,r),o=O(t,e,n);if(o.first()===r)return"_head"===n?null:n;var i=void 0,a=!0,s=!1,c=void 0;try{for(var u,l=o[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var g=u.value;if(g===r)break;i=g}}catch(f){s=!0,c=f}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}for(;;){if((o=O(t,e,i)).isEmpty())return i;i=o.last()}}function M(t,e,r){if("object"!==(void 0===e?"undefined":n(e))||null===e)return e;if("link"===e.get("action"))return r.instantiateObject(t,e.get("value"));if("set"===e.get("action")){var o={value:e.get("value")};return e.get("datatype")&&(o.datatype=e.get("datatype")),o}throw new TypeError("Unexpected operation action: "+e.get("action"))}t.exports={init:function(){return a().set("states",a()).set("history",s()).set("byObject",a().set(g,a().set("_keys",a()))).set("clock",a()).set("deps",a()).set("undoPos",0).set("undoStack",s()).set("redoStack",s()).set("queue",s())},addChange:function(t,e,r){if(t=t.update("queue",(function(t){return t.push(e)})),r){var n,i=T(t=t.set("undoLocal",s())),a=o(i,2);return t=a[0],n=a[1],[t=function(t){var e=t.get("undoPos");return t.update("undoStack",(function(r){return r.slice(0,e).push(t.get("undoLocal"))})).set("undoPos",e+1).set("redoStack",s()).remove("undoLocal")}(t),n]}return T(t)},getMissingChanges:function(t,e){var r=d(t,e);return t.get("states").map((function(t,e){return t.skip(r.get(e,0))})).valueSeq().flatten(1).map((function(t){return t.get("change")}))},getChangesForActor:function(t,e,r){return r=r||0,t.get("states").filter((function(t,r){return r===e})).map((function(t,e){return t.skip(r)})).valueSeq().flatten(1).map((function(t){return t.get("change")}))},getMissingDeps:function(t){var e={},r=!0,n=!1,o=void 0;try{for(var i,a=t.get("queue")[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;s.get("deps").set(s.get("actor"),s.get("seq")-1).forEach((function(r,n){t.getIn(["clock",n],0)<r&&(e[n]=Math.max(r,e[n]||0))}))}}catch(c){n=!0,o=c}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return e},getObjectFields:function(t,e){return t.getIn(["byObject",e,"_keys"]).keySeq().filter((function(r){return function(t,e,r){return!j(t,e,r).isEmpty()}(t,e,r)})).toSet()},getObjectField:function(t,e,r,n){var o=j(t,e,r);if(!o.isEmpty())return M(t,o.first(),n)},getObjectConflicts:function(t,e,r){return t.getIn(["byObject",e,"_keys"]).filter((function(r,n){return j(t,e,n).size>1})).mapEntries((function(e){var n=o(e,2);return[n[0],n[1].shift().toMap().mapEntries((function(e){var n=o(e,2);n[0];var i=n[1];return[i.get("actor"),M(t,i,r)]}))]}))},getFieldOps:j,listElemByIndex:function(t,e,r,n){var o=t.getIn(["byObject",e,"_elemIds"]).keyOf(r);if(o){var i=j(t,e,o);if(!i.isEmpty())return M(t,i.first(),n)}},listLength:function(t,e){return t.getIn(["byObject",e,"_elemIds"]).length},listIterator:function(t,e,r){var n="_head",i=-1,a={next:function(){for(;n;){if(!(n=A(t,e,n)))return{done:!0};var a={elemId:n},s=j(t,e,n);return s.isEmpty()||(i+=1,a.index=i,a.value=M(t,s.first(),r),a.conflicts=null,s.size>1&&(a.conflicts=s.shift().toMap().mapEntries((function(e){var n=o(e,2);n[0];var i=n[1];return[i.get("actor"),M(t,i,r)]})))),{done:!1,value:a}}}};return a[Symbol.iterator]=function(){return a},a},ROOT_ID:g}},"./backend/skip_list.js":function(t,e,r){var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=r("./node_modules/immutable/dist/immutable.js").Map,a=function(){function t(e,r,n,i,a,s,c){o(this,t),this.key=e,this.value=r,this.level=n,this.prevKey=i,this.nextKey=a,this.prevCount=s,this.nextCount=c}return n(t,[{key:"setValue",value:function(e){return new t(this.key,e,this.level,this.prevKey,this.nextKey,this.prevCount,this.nextCount)}},{key:"insertAfter",value:function(e,r,n,o){if(r>this.level&&null!==this.key)throw new RangeError("Cannot increase the level of a non-head node");for(var i=Math.max(this.level,r),a=this.nextKey.slice(),s=this.nextCount.slice(),c=n;c<i;c++)c<r?(a[c]=e,s[c]=o):s[c]+=1;return new t(this.key,this.value,i,this.prevKey,a,this.prevCount,s)}},{key:"insertBefore",value:function(e,r,n,o){if(r>this.level)throw new RangeError("Cannot increase node level");for(var i=this.prevKey.slice(),a=this.prevCount.slice(),s=n;s<this.level;s++)s<r?(i[s]=e,a[s]=o):a[s]+=1;return new t(this.key,this.value,this.level,i,this.nextKey,a,this.nextCount)}},{key:"removeAfter",value:function(e,r,n,o){for(var i=this.nextKey.slice(),a=this.nextCount.slice(),s=e;s<this.level;s++)s<r?(i[s]=n[s],a[s]=o[s]):a[s]-=1;return new t(this.key,this.value,this.level,this.prevKey,i,this.prevCount,a)}},{key:"removeBefore",value:function(e,r,n,o){for(var i=this.prevKey.slice(),a=this.prevCount.slice(),s=e;s<this.level;s++)s<r?(i[s]=n[s],a[s]=o[s]):a[s]-=1;return new t(this.key,this.value,this.level,i,this.nextKey,a,this.nextCount)}}]),t}(),s=function(){function t(e){o(this,t);var r=new a(null,null,1,[],[null],[],[null]),n=e?e():{next:function(){for(var t=Math.floor(4294967296*Math.random()),e=1;t<1<<32-2*e&&e<16;)e+=1;return{value:e,done:!1}}};return c(0,i().set(null,r),n)}return n(t,[{key:"predecessors",value:function(t,e){for(var r=[t],n=[1],o=1;o<e;o++){for(var i=r[o-1],a=n[o-1];i;){var s=this._nodes.get(i);if(s.level>o)break;if(s.level<o)throw new RangeError("Node "+i+" below expected level "+(o-1));a+=s.prevCount[o-1],i=s.prevKey[o-1]}r[o]=i,n[o]=a}return{preKeys:r,preCounts:n}}},{key:"successors",value:function(t,e){for(var r=[t],n=[1],o=1;o<e;o++){for(var i=r[o-1],a=n[o-1];i;){var s=this._nodes.get(i);if(s.level>o)break;if(s.level<o)throw new RangeError("Node "+i+" below expected level "+(o-1));a+=s.nextCount[o-1],i=s.nextKey[o-1]}r[o]=i,n[o]=a}return{sucKeys:r,sucCounts:n}}},{key:"insertAfter",value:function(t,e,r){if("string"!=typeof e||""===e)throw new RangeError("Key must be a nonempty string");if(!this._nodes.has(t))throw new RangeError("The referenced predecessor key does not exist");if(this._nodes.has(e))throw new RangeError("Cannot insert a key that already exists");var n=this._randomSource.next().value,o=Math.max(n,this.headNode.level),i=this._nodes.get(t).nextKey[0]||null,s=this.predecessors(t,o),u=s.preKeys,l=s.preCounts,g=this.successors(i,o),f=g.sucKeys,h=g.sucCounts;return c(this.length+1,this._nodes.withMutations((function(t){for(var i=0,s=0,c=function(r){var a=Math.min(r,n);r!==o&&u[r]===u[i]||(t.update(u[i],(function(t){return t.insertAfter(e,a,i,l[i])})),i=r),!f[s]||r!==o&&f[r]===f[s]||(t.update(f[s],(function(t){return t.insertBefore(e,a,s,h[s])})),s=r)},g=1;g<=o;g++)c(g);t.set(e,new a(e,r,n,u.slice(0,n),f.slice(0,n),l.slice(0,n),h.slice(0,n)))})),this._randomSource)}},{key:"insertIndex",value:function(t,e,r){if("number"!=typeof t||t<0)throw new RangeError("Index must be a non-negative integer");return 0===t?this.insertAfter(null,e,r):this.insertAfter(this.keyOf(t-1),e,r)}},{key:"removeKey",value:function(t){if("string"!=typeof t||!this._nodes.has(t))throw new RangeError("The given key cannot be removed because it does not exist");for(var e=this._nodes.get(t),r=this.headNode.level,n=this.predecessors(e.prevKey[0],r),o=n.preKeys,i=n.preCounts,a=this.successors(e.nextKey[0],r),s=a.sucKeys,u=a.sucCounts,l=new Array(r),g=0;g<r;g++)l[g]=i[g]+u[g]-1;return c(this.length-1,this._nodes.withMutations((function(n){n.remove(t);for(var i=0,a=0,c=function(t){var c=Math.min(t,e.level);t!==r&&o[t]===o[i]||(n.update(o[i],(function(t){return t.removeAfter(i,c,s,l)})),i=t),!s[a]||t!==r&&s[t]===s[a]||(n.update(s[a],(function(t){return t.removeBefore(a,c,o,l)})),a=t)},u=1;u<=r;u++)c(u)})),this._randomSource)}},{key:"removeIndex",value:function(t){return this.removeKey(this.keyOf(t))}},{key:"indexOf",value:function(t){if("string"!=typeof t||""===t||!this._nodes.has(t))return-1;for(var e=this._nodes.get(t),r=0;e&&e.key;)r+=e.prevCount[e.level-1],e=this._nodes.get(e.prevKey[e.level-1]);return r-1}},{key:"keyOf",value:function(t){if("number"!=typeof t)return null;if(t<0&&(t+=this.length),t<0||t>=this.length)return null;for(var e=this._nodes.get(null),r=e.level-1,n=0;;){if(n===t+1)return e.key;n+e.nextCount[r]>t+1?r-=1:(n+=e.nextCount[r],e=this._nodes.get(e.nextKey[r]))}}},{key:"getValue",value:function(t){if("string"!=typeof t||""===t)throw new RangeError("Key must be a nonempty string");var e=this._nodes.get(t);return e&&e.value}},{key:"setValue",value:function(t,e){if("string"!=typeof t||""===t)throw new RangeError("Key must be a nonempty string");var r=this._nodes.get(t);if(!r)throw new RangeError("The referenced key does not exist");return r=r.setValue(e),c(this.length,this._nodes.set(t,r),this._randomSource)}},{key:"iterator",value:function(t){var e=this,r=this._nodes,n=r.get(null).nextKey[0];return function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({next:function(){if(!n)return{value:void 0,done:!0};var e=r.get(n),o=void 0;switch(t){case"keys":o={value:n,done:!1};break;case"values":o={value:e.value,done:!1};break;case"entries":o={value:[n,e.value],done:!1}}return n=e.nextKey[0],o}},Symbol.iterator,(function(){return e.iterator(t)}))}},{key:Symbol.iterator,value:function(){return this.iterator("values")}},{key:"headNode",get:function(){return this._nodes.get(null)}}]),t}();function c(t,e,r){var n=Object.create(s.prototype);return n.length=t,n._nodes=e,n._randomSource=r,n}t.exports={SkipList:s}},"./frontend/apply_patch.js":function(t,e,r){function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r("./src/common.js"),i=o.ROOT_ID,a=o.isObject,s=o.copyObject,c=o.parseElemId,u=r("./frontend/constants.js"),l=u.OPTIONS,g=u.OBJECT_ID,f=u.CONFLICTS,h=u.ELEM_IDS,p=u.MAX_ELEM,d=r("./frontend/text.js");d.Text;var y=d.instantiateText,m=r("./frontend/table.js"),v=m.Table,_=m.instantiateTable,b=r("./frontend/counter.js").Counter;function w(t,e,r){if(t.link)return r[t.value]||e[t.value];if("timestamp"===t.datatype)return new Date(t.value);if("counter"===t.datatype)return new b(t.value);if(void 0!==t.datatype)throw new TypeError("Unknown datatype: "+t.datatype);return t.value}function S(t,e){var r={},n=t[f][e]||{},o=[t[e]].concat(Object.values(n)),i=!0,s=!1,c=void 0;try{for(var u,l=o[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var h=u.value;a(h)&&h[g]&&(r[h[g]]=!0)}}catch(p){s=!0,c=p}finally{try{!i&&l.return&&l.return()}finally{if(s)throw c}}return r}function E(t,e,r,n){var o=!0,i=!1,a=void 0;try{for(var s,c=Object.keys(e)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;r[u]||delete n[u]}}catch(y){i=!0,a=y}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}var l=!0,g=!1,f=void 0;try{for(var h,p=Object.keys(r)[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var d=h.value;if(n[d]&&n[d]!==t)throw new RangeError("Object "+d+" has multiple parents");n[d]||(n[d]=t)}}catch(y){g=!0,f=y}finally{try{!l&&p.return&&p.return()}finally{if(g)throw f}}}function k(t,e){if(t&&t[g]!==e)throw new RangeError("cloneMapObject ID mismatch: "+t[g]+" !== "+e);var r=s(t),n=s(t?t[f]:void 0);return Object.defineProperty(r,f,{value:n}),Object.defineProperty(r,g,{value:e}),r}function T(t,e,r,n){r[t.obj]||(r[t.obj]=k(e[t.obj],t.obj));var o=r[t.obj],i=o[f],a={},s={};if("create"===t.action);else if("set"===t.action){if(a=S(o,t.key),o[t.key]=w(t,e,r),t.conflicts){i[t.key]={};var c=!0,u=!1,l=void 0;try{for(var g,h=t.conflicts[Symbol.iterator]();!(c=(g=h.next()).done);c=!0){var p=g.value;i[t.key][p.actor]=w(p,e,r)}}catch(d){u=!0,l=d}finally{try{!c&&h.return&&h.return()}finally{if(u)throw l}}Object.freeze(i[t.key])}else delete i[t.key];s=S(o,t.key)}else{if("remove"!==t.action)throw new RangeError("Unknown action type: "+t.action);a=S(o,t.key),delete o[t.key],delete i[t.key]}E(t.obj,a,s,n)}function j(t,e,r){r[t]||(r[t]=k(e[t],t));var n=r[t],o=!0,c=!1,u=void 0;try{for(var h,p=Object.keys(n)[Symbol.iterator]();!(o=(h=p.next()).done);o=!0){var d=h.value,y=n[d];a(y)&&r[y[g]]&&(n[d]=r[y[g]]);var m=n[f][d]||{},v=null,_=!0,b=!1,w=void 0;try{for(var S,E=Object.keys(m)[Symbol.iterator]();!(_=(S=E.next()).done);_=!0){var T=S.value;y=m[T],a(y)&&r[y[g]]&&(v||(v=s(m),n[f][d]=v),v[T]=r[y[g]])}}catch(j){b=!0,w=j}finally{try{!_&&E.return&&E.return()}finally{if(b)throw w}}v&&e[i][l].freeze&&Object.freeze(v)}}catch(j){c=!0,u=j}finally{try{!o&&p.return&&p.return()}finally{if(c)throw u}}}function x(t,e,r,n){r[t.obj]||(r[t.obj]=e[t.obj]?e[t.obj]._clone():_(t.obj));var o=r[t.obj],i={},s={};if("create"===t.action);else if("set"===t.action){var c=o.byId(t.key);a(c)&&(i[c[g]]=!0),t.link?(o._set(t.key,r[t.value]||e[t.value]),s[t.value]=!0):o._set(t.key,t.value)}else{if("remove"!==t.action)throw new RangeError("Unknown action type: "+t.action);var u=o.byId(t.key);a(u)&&(i[u[g]]=!0),o.remove(t.key)}E(t.obj,i,s,n)}function I(t,e,r){r[t]||(r[t]=e[t]._clone());var n=r[t],o=!0,i=!1,s=void 0;try{for(var c,u=Object.keys(n.entries)[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value,f=n.byId(l);a(f)&&r[f[g]]&&n._set(l,r[f[g]])}}catch(h){i=!0,s=h}finally{try{!o&&u.return&&u.return()}finally{if(i)throw s}}}function O(t,e){if(t&&t[g]!==e)throw new RangeError("cloneListObject ID mismatch: "+t[g]+" !== "+e);var r=t?t.slice():[],n=t&&t[f]?t[f].slice():[],o=t&&t[h]?t[h].slice():[],i=t&&t[p]?t[p]:0;return Object.defineProperty(r,g,{value:e}),Object.defineProperty(r,f,{value:n}),Object.defineProperty(r,h,{value:o}),Object.defineProperty(r,p,{value:i,writable:!0}),r}function A(t,e,r,n){r[t.obj]||(r[t.obj]=O(e[t.obj],t.obj));var o=r[t.obj],i=o[f],a=o[h],s=null,u=null;if(["insert","set"].includes(t.action)&&(s=w(t,e,r),t.conflicts)){u={};var l=!0,g=!1,d=void 0;try{for(var y,m=t.conflicts[Symbol.iterator]();!(l=(y=m.next()).done);l=!0){var v=y.value;u[v.actor]=w(v,e,r)}}catch(k){g=!0,d=k}finally{try{!l&&m.return&&m.return()}finally{if(g)throw d}}Object.freeze(u)}var _={},b={};if("create"===t.action);else if("insert"===t.action)o[p]=Math.max(o[p],c(t.elemId).counter),o.splice(t.index,0,s),i.splice(t.index,0,u),a.splice(t.index,0,t.elemId),b=S(o,t.index);else if("set"===t.action)_=S(o,t.index),o[t.index]=s,i[t.index]=u,b=S(o,t.index);else if("remove"===t.action)_=S(o,t.index),o.splice(t.index,1),i.splice(t.index,1),a.splice(t.index,1);else{if("maxElem"!==t.action)throw new RangeError("Unknown action type: "+t.action);o[p]=Math.max(o[p],t.value)}E(t.obj,_,b,n)}function C(t,e,r){r[t]||(r[t]=O(e[t],t));for(var n=r[t],o=0;o<n.length;o++){var c=n[o];a(c)&&r[c[g]]&&(n[o]=r[c[g]]);var u=n[f][o]||{},h=null,p=!0,d=!1,y=void 0;try{for(var m,v=Object.keys(u)[Symbol.iterator]();!(p=(m=v.next()).done);p=!0){var _=m.value;c=u[_],a(c)&&r[c[g]]&&(h||(h=s(u),n[f][o]=h),h[_]=r[c[g]])}}catch(b){d=!0,y=b}finally{try{!p&&v.return&&v.return()}finally{if(d)throw y}}h&&e[i][l].freeze&&Object.freeze(h)}}function M(t,e,r,o,i){var a=t[e].obj;if(!i[a])if(o[a]){var s=o[a].elems.slice(),u=o[a][p];i[a]=y(a,s,u)}else i[a]=y(a,[],0);for(var l=i[a].elems,g=i[a][p],f=-1,h=void 0,d=void 0;e<=r;){var m=t[e];if("create"===m.action);else if("insert"===m.action){f<0&&(f=m.index,h=0,d=[]),g=Math.max(g,c(m.elemId).counter);var v=w(m,o,i);d.push({elemId:m.elemId,value:v,conflicts:m.conflicts}),e!==r&&"insert"===t[e+1].action&&t[e+1].index===m.index+1||(l.splice.apply(l,[f,h].concat(n(d))),f=-1)}else if("set"===m.action)l[m.index]={elemId:l[m.index].elemId,value:w(m,o,i),conflicts:m.conflicts};else if("remove"===m.action)f<0&&(f=m.index,h=0,d=[]),h+=1,e!==r&&["insert","remove"].includes(t[e+1].action)&&t[e+1].index===m.index||(l.splice(f,h),f=-1);else{if("maxElem"!==m.action)throw new RangeError("Unknown action type: "+m.action);g=Math.max(g,m.value)}e+=1}i[a]=y(a,l,g)}t.exports={applyDiffs:function(t,e,r,n){for(var o=0,i=0;i<t.length;i++){var a=t[i];if("map"===a.type)T(a,e,r,n),o=i+1;else if("table"===a.type)x(a,e,r,n),o=i+1;else if("list"===a.type)A(a,e,r,n),o=i+1;else{if("text"!==a.type)throw new TypeError("Unknown object type: "+a.type);i!==t.length-1&&t[i+1].obj===a.obj||(M(t,o,i,e,r),o=i+1)}}},updateParentObjects:function(t,e,r){for(var n=e;Object.keys(n).length>0;){var o={},i=!0,a=!1,s=void 0;try{for(var c,u=Object.keys(n)[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=r[c.value];l&&(o[l]=!0)}}catch(m){a=!0,s=m}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}n=o;var g=!0,f=!1,h=void 0;try{for(var p,d=Object.keys(o)[Symbol.iterator]();!(g=(p=d.next()).done);g=!0){var y=p.value;Array.isArray(e[y]||t[y])?C(y,t,e):(e[y]||t[y])instanceof v?I(y,t,e):j(y,t,e)}}catch(m){f=!0,h=m}finally{try{!g&&d.return&&d.return()}finally{if(f)throw h}}}},cloneRootObject:function(t){if(t[g]!==i)throw new RangeError("Not the root object: "+t[g]);return k(t,i)}}},"./frontend/constants.js":function(t,e,r){var n=Symbol("_options"),o=Symbol("_cache"),i=Symbol("_inbound"),a=Symbol("_state"),s=Symbol("_objectId"),c=Symbol("_conflicts"),u=Symbol("_change"),l=Symbol("_elemIds"),g=Symbol("_maxElem");t.exports={OPTIONS:n,CACHE:o,INBOUND:i,STATE:a,OBJECT_ID:s,CONFLICTS:c,CHANGE:u,ELEM_IDS:l,MAX_ELEM:g}},"./frontend/context.js":function(t,e,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r("./frontend/constants.js"),a=i.CACHE,s=i.INBOUND,c=i.OBJECT_ID,u=i.CONFLICTS,l=i.MAX_ELEM,g=r("./frontend/apply_patch.js").applyDiffs,f=r("./frontend/text.js"),h=f.Text,p=f.getElemId,d=r("./frontend/table.js").Table,y=r("./frontend/counter.js"),m=y.Counter,v=y.getWriteableCounter,_=r("./src/common.js"),b=_.isObject,w=_.copyObject,S=r("./src/uuid.js"),E=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actorId=r,this.cache=e[a],this.updated={},this.inbound=w(e[s]),this.ops=[],this.diffs=[]}return o(t,[{key:"addOp",value:function(t){this.ops.push(t)}},{key:"apply",value:function(t){this.diffs.push(t),g([t],this.cache,this.updated,this.inbound)}},{key:"getObject",value:function(t){var e=this.updated[t]||this.cache[t];if(!e)throw new RangeError("Target object does not exist: "+t);return e}},{key:"getObjectField",value:function(t,e){if(["string","number"].includes(void 0===e?"undefined":n(e))){var r=this.getObject(t);return r[e]instanceof m?v(r[e].value,this,t,e):b(r[e])?this.instantiateObject(r[e][c]):r[e]}}},{key:"createNestedObjects",value:function(t){if("string"==typeof t[c])throw new TypeError("Cannot assign an object that already belongs to an Automerge document. See https://github.com/automerge/automerge#making-fine-grained-changes");var e=S();if(t instanceof h){this.apply({action:"create",type:"text",obj:e}),this.addOp({action:"makeText",obj:e}),t.length>0&&this.splice(e,0,0,[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)));var r=this.getObject(e);t[c]=e,t.elems=r.elems,t[l]=r.maxElem,t.context=this}else if(t instanceof d){if(t.count>0)throw new RangeError("Assigning a non-empty Table object is not supported");this.apply({action:"create",type:"table",obj:e}),this.addOp({action:"makeTable",obj:e})}else if(Array.isArray(t))this.apply({action:"create",type:"list",obj:e}),this.addOp({action:"makeList",obj:e}),this.splice(e,0,0,t);else{this.apply({action:"create",type:"map",obj:e}),this.addOp({action:"makeMap",obj:e});var n=!0,o=!1,i=void 0;try{for(var a,s=Object.keys(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;this.setMapKey(e,"map",u,t[u])}}catch(g){o=!0,i=g}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}return e}},{key:"setValue",value:function(t,e,r){if(!["object","boolean","number","string"].includes(void 0===r?"undefined":n(r)))throw new TypeError("Unsupported type of value: "+(void 0===r?"undefined":n(r)));if(b(r)){if(r instanceof Date){var o=r.getTime();return this.addOp({action:"set",obj:t,key:e,value:o,datatype:"timestamp"}),{value:o,datatype:"timestamp"}}if(r instanceof m)return this.addOp({action:"set",obj:t,key:e,value:r.value,datatype:"counter"}),{value:r.value,datatype:"counter"};var i=this.createNestedObjects(r);return this.addOp({action:"link",obj:t,key:e,value:i}),{value:i,link:!0}}return this.addOp({action:"set",obj:t,key:e,value:r}),{value:r}}},{key:"setMapKey",value:function(t,e,r,o){if("string"!=typeof r)throw new RangeError("The key of a map entry must be a string, not "+(void 0===r?"undefined":n(r)));if(""===r)throw new RangeError("The key of a map entry must not be an empty string");var i=this.getObject(t);if(i[r]instanceof m)throw new RangeError("Cannot overwrite a Counter object; use .increment() or .decrement() to change its value.");if(i[r]!==o||i[u][r]||void 0===o){var a=this.setValue(t,r,o);this.apply(Object.assign({action:"set",type:e,obj:t,key:r},a))}}},{key:"deleteMapKey",value:function(t,e){void 0!==this.getObject(t)[e]&&(this.apply({action:"remove",type:"map",obj:t,key:e}),this.addOp({action:"del",obj:t,key:e}))}},{key:"insertListItem",value:function(t,e,r){var n=this.getObject(t);if(e<0||e>n.length)throw new RangeError("List index "+e+" is out of bounds for list of length "+n.length);var o=n[l]+1,i=n instanceof h?"text":"list",a=0===e?"_head":p(n,e-1),s=this.actorId+":"+o;this.addOp({action:"ins",obj:t,key:a,elem:o});var c=this.setValue(t,s,r);this.apply(Object.assign({action:"insert",type:i,obj:t,index:e,elemId:s},c)),this.getObject(t)[l]=o}},{key:"setListIndex",value:function(t,e,r){var n=this.getObject(t);if(e!==n.length){if(e<0||e>n.length)throw new RangeError("List index "+e+" is out of bounds for list of length "+n.length);if(n[e]instanceof m)throw new RangeError("Cannot overwrite a Counter object; use .increment() or .decrement() to change its value.");if(n[e]!==r||n[u][e]||void 0===r){var o=p(n,e),i=n instanceof h?"text":"list",a=this.setValue(t,o,r);this.apply(Object.assign({action:"set",type:i,obj:t,index:e},a))}}else this.insertListItem(t,e,r)}},{key:"splice",value:function(t,e,r,n){var o=this.getObject(t),i=o instanceof h?"text":"list";if(r>0){if(e<0||e>o.length-r)throw new RangeError(r+" deletions starting at index "+e+" are out of bounds for list of length "+o.length);for(var a=0;a<r;a++)this.addOp({action:"del",obj:t,key:p(o,e)}),this.apply({action:"remove",type:i,obj:t,index:e}),0===a&&(o=this.getObject(t))}for(var s=0;s<n.length;s++)this.insertListItem(t,e+s,n[s])}},{key:"addTableRow",value:function(t,e){if(!b(e)||Array.isArray(e))throw new TypeError("A table row must be an object");if(e[c])throw new TypeError("Cannot reuse an existing object as table row");if(e.id)throw new TypeError('A table row must not have an "id" property; it is generated automatically');var r=this.createNestedObjects(e);return this.apply({action:"set",type:"table",obj:t,key:r,value:r,link:!0}),this.addOp({action:"link",obj:t,key:r,value:r}),r}},{key:"deleteTableRow",value:function(t,e){this.apply({action:"remove",type:"table",obj:t,key:e}),this.addOp({action:"del",obj:t,key:e})}},{key:"increment",value:function(t,e,r){var n=this.getObject(t);if(!(n[e]instanceof m))throw new TypeError("Only counter values can be incremented");var o=n[e].value+r;if(Array.isArray(n)||n instanceof h){var i=p(n,e),a=n instanceof h?"text":"list";this.addOp({action:"inc",obj:t,key:i,value:r}),this.apply({action:"set",obj:t,type:a,index:e,value:o,datatype:"counter"})}else this.addOp({action:"inc",obj:t,key:e,value:r}),this.apply({action:"set",obj:t,type:"map",key:e,value:o,datatype:"counter"})}}]),t}();t.exports={Context:E}},"./frontend/counter.js":function(t,e,r){var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(e){i(this,t),this.value=e||0,Object.freeze(this)}return n(t,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.valueOf().toString()}},{key:"toJSON",value:function(){return this.value}}]),t}(),s=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"increment",value:function(t){return t="number"==typeof t?t:1,this.context.increment(this.objectId,this.key,t),this.value+=t,this.value}},{key:"decrement",value:function(t){return this.increment("number"==typeof t?-t:-1)}}]),e}(a);t.exports={Counter:a,getWriteableCounter:function(t,e,r,n){var o=Object.create(s.prototype);return o.value=t,o.context=e,o.objectId=r,o.key=n,o}}},"./frontend/index.js":function(t,e,r){var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(c){o=!0,i=c}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=r("./frontend/constants.js"),a=i.OPTIONS,s=i.CACHE,c=i.INBOUND,u=i.STATE,l=i.OBJECT_ID,g=i.CONFLICTS,f=i.CHANGE,h=i.ELEM_IDS,p=r("./src/common.js"),d=p.ROOT_ID,y=p.isObject,m=p.copyObject,v=r("./src/uuid.js"),_=r("./frontend/apply_patch.js"),b=_.applyDiffs,w=_.updateParentObjects,S=_.cloneRootObject,E=r("./frontend/proxies.js").rootObjectProxy,k=r("./frontend/context.js").Context,T=r("./frontend/text.js").Text,j=r("./frontend/table.js").Table,x=r("./frontend/counter.js").Counter;function I(t,e,r,n){var o=e[d];if(o||(o=S(t[s][d]),e[d]=o),Object.defineProperty(o,a,{value:t[a]}),Object.defineProperty(o,s,{value:e}),Object.defineProperty(o,c,{value:r}),Object.defineProperty(o,u,{value:n}),t[a].freeze){var i=!0,l=!1,f=void 0;try{for(var h,p=Object.keys(e)[Symbol.iterator]();!(i=(h=p.next()).done);i=!0){var y=h.value;e[y]instanceof j?e[y]._freeze():(Object.freeze(e[y]),Object.freeze(e[y][g]))}}catch(k){l=!0,f=k}finally{try{!i&&p.return&&p.return()}finally{if(l)throw f}}}var m=!0,v=!1,_=void 0;try{for(var b,w=Object.keys(t[s])[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var E=b.value;e[E]||(e[E]=t[s][E])}}catch(k){v=!0,_=k}finally{try{!m&&w.return&&w.return()}finally{if(v)throw _}}return t[a].freeze&&(Object.freeze(e),Object.freeze(r)),o}function O(t,e,r,i){var s=q(t);if(!s)throw new Error("Actor ID must be initialized with setActorId() before making a change");var c=m(t[u]);c.seq+=1;var l=m(c.deps);delete l[s];var g={requestType:e,actor:s,seq:c.seq,deps:l};if(i&&void 0!==i.message&&(g.message=i.message),i&&!1===i.undoable&&(g.undoable=!1),r&&(g.ops=function(t){for(var e={},r=[],n=t.length-1;n>=0;n--){var i=t[n],a=i.obj,s=i.key,c=i.action;["set","del","link","inc"].includes(c)?e[a]?e[a][s]?"inc"===e[a][s].action&&["set","inc"].includes(c)&&(e[a][s].action=c,e[a][s].value+=i.value):(e[a][s]=i,r.push(i)):(e[a]=o({},s,i),r.push(i)):r.push(i)}return r.reverse()}(r.ops)),t[a].backend){var f=t[a].backend.applyLocalChange(c.backendState,g),h=n(f,2),p=h[0],d=h[1];return c.backendState=p,c.requests=[],[A(t,d,c,!0),g]}r||(r=new k(t,s));var y=m(g);return y.before=t,y.diffs=r.diffs,c.requests=c.requests.slice(),c.requests.push(y),[I(t,r.updated,r.inbound,c),g]}function A(t,e,r,n){var o=q(t),i=m(t[c]),a={};if(b(e.diffs,t[s],a,i),w(t[s],a,i),n){var u=e.clock?e.clock[o]:void 0;u&&u>r.seq&&(r.seq=u),r.deps=e.deps,r.canUndo=e.canUndo,r.canRedo=e.canRedo}return I(t,a,i,r)}function C(t,e){var r=[],n=!0,o=!1,i=void 0;try{t:for(var a,s=t.diffs[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;c=m(c);var u=!0,l=!1,g=void 0;try{for(var f,h=e.diffs[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var p=f.value;if(c.obj===p.obj&&"list"===c.type&&["insert","set","remove"].includes(c.action)&&("insert"===p.action&&p.index<=c.index&&(c.index+=1),"remove"===p.action&&p.index<c.index&&(c.index-=1),"remove"===p.action&&p.index===c.index&&("set"===c.action&&(c.action="insert"),"remove"===c.action)))continue t}}catch(d){l=!0,g=d}finally{try{!u&&h.return&&h.return()}finally{if(l)throw g}}r.push(c)}}catch(d){o=!0,i=d}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}t.diffs=r}function M(t){if("string"==typeof t)t={actorId:t};else if(void 0===t)t={};else if(!y(t))throw new TypeError("Unsupported value for init() options: "+t);void 0!==t.actorId||t.deferActorId||(t.actorId=v());var e={},r=o({},d,e),n={seq:0,requests:[],deps:{},canUndo:!1,canRedo:!1};return t.backend&&(n.backendState=t.backend.init()),Object.defineProperty(e,l,{value:d}),Object.defineProperty(e,a,{value:Object.freeze(t)}),Object.defineProperty(e,g,{value:Object.freeze({})}),Object.defineProperty(e,s,{value:Object.freeze(r)}),Object.defineProperty(e,c,{value:Object.freeze({})}),Object.defineProperty(e,u,{value:Object.freeze(n)}),Object.freeze(e)}function R(t,e,r){if(t[l]!==d)throw new TypeError("The first argument to Automerge.change must be the document root");if(t[f])throw new TypeError("Calls to Automerge.change cannot be nested");if("function"==typeof e&&void 0===r){var n=[r,e];e=n[0],r=n[1]}if("string"==typeof e&&(e={message:e}),void 0!==e&&!y(e))throw new TypeError("Unsupported type of options");var o=q(t);if(!o)throw new Error("Actor ID must be initialized with setActorId() before making a change");var i=new k(t,o);return r(E(i)),0===Object.keys(i.updated).length?[t,null]:(w(t[s],i.updated,i.inbound),O(t,"change",i,e))}function L(t){return t[u].requests.some((function(t){return["undo","redo"].includes(t.requestType)}))}function q(t){return t[u].actorId||t[a].actorId}t.exports={init:M,from:function(t,e){return R(M(e),"Initialization",(function(e){return Object.assign(e,t)}))},change:R,emptyChange:function(t,e){if("string"==typeof e&&(e={message:e}),void 0!==e&&!y(e))throw new TypeError("Unsupported type of options");var r=q(t);if(!r)throw new Error("Actor ID must be initialized with setActorId() before making a change");return O(t,"change",new k(t,r),e)},applyPatch:function(t,e){var r=m(t[u]),n=void 0;if(r.requests.length>0)if(n=r.requests[0].before,e.actor===q(t)&&void 0!==e.seq){if(r.requests[0].seq!==e.seq)throw new RangeError("Mismatched sequence number: patch "+e.seq+" does not match next request "+r.requests[0].seq);r.requests=r.requests.slice(1).map(m)}else r.requests=r.requests.slice().map(m);else n=t,r.requests=[];if(t[a].backend){if(!e.state)throw new RangeError("When an immediate backend is used, a patch must contain the new backend state");return r.backendState=e.state,r.requests=[],A(t,e,r,!0)}var o=A(n,e,r,!0),i=!0,s=!1,c=void 0;try{for(var l,g=r.requests[Symbol.iterator]();!(i=(l=g.next()).done);i=!0){var f=l.value;f.before=o,C(f,e),o=A(f.before,f,r,!1)}}catch(h){s=!0,c=h}finally{try{!i&&g.return&&g.return()}finally{if(s)throw c}}return o},canUndo:function(t){return!!t[u].canUndo&&!L(t)},undo:function(t,e){if("string"==typeof e&&(e={message:e}),void 0!==e&&!y(e))throw new TypeError("Unsupported type of options");if(!t[u].canUndo)throw new Error("Cannot undo: there is nothing to be undone");if(L(t))throw new Error("Can only have one undo in flight at any one time");return O(t,"undo",null,e)},canRedo:function(t){return!!t[u].canRedo&&!L(t)},redo:function(t,e){if("string"==typeof e&&(e={message:e}),void 0!==e&&!y(e))throw new TypeError("Unsupported type of options");if(!t[u].canRedo)throw new Error("Cannot redo: there is no prior undo");if(L(t))throw new Error("Can only have one redo in flight at any one time");return O(t,"redo",null,e)},getObjectId:function(t){return t[l]},getObjectById:function(t,e){var r=t[f];return r?r.instantiateObject(e):t[s][e]},getActorId:q,setActorId:function(t,e){var r=Object.assign({},t[u],{actorId:e});return I(t,{},t[c],r)},getConflicts:function(t,e){return t[g][e]},getBackendState:function(t){return t[u].backendState},getElementIds:function(t){return t[h]},Text:T,Table:j,Counter:x}},"./frontend/proxies.js":function(t,e,r){var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(c){o=!0,i=c}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r("./src/common.js").ROOT_ID,i=r("./frontend/constants.js"),a=i.OBJECT_ID,s=i.CHANGE,c=i.STATE,u=r("./frontend/text.js").Text,l=r("./frontend/table.js").Table;function g(t){if("string"==typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"!=typeof t)throw new TypeError("A list index must be a number, but you passed "+JSON.stringify(t));if(t<0||isNaN(t)||t===1/0||t===-1/0)throw new RangeError("A list index must be positive, but you passed "+t);return t}var f={get:function(t,e){var r=t.context,n=t.objectId;return e===a?n:e===s?r:e===c?{actorId:r.actorId}:r.getObjectField(n,e)},set:function(t,e,r){var n=t.context,o=t.objectId,i=t.readonly;if(Array.isArray(i)&&i.indexOf(e)>=0)throw new RangeError('Object property "'+e+'" cannot be modified');return n.setMapKey(o,"map",e,r),!0},deleteProperty:function(t,e){var r=t.context,n=t.objectId,o=t.readonly;if(Array.isArray(o)&&o.indexOf(e)>=0)throw new RangeError('Object property "'+e+'" cannot be modified');return r.deleteMapKey(n,e),!0},has:function(t,e){var r=t.context,n=t.objectId;return[a,s].includes(e)||e in r.getObject(n)},getOwnPropertyDescriptor:function(t,e){var r=t.context,n=t.objectId;if(e in r.getObject(n))return{configurable:!0,enumerable:!0,value:r.getObjectField(n,e)}},ownKeys:function(t){var e=t.context,r=t.objectId;return Object.keys(e.getObject(r))}},h={get:function(t,e){var r=n(t,2),o=r[0],i=r[1];return e===Symbol.iterator?o.getObject(i)[Symbol.iterator]:e===a?i:e===s?o:"length"===e?o.getObject(i).length:"string"==typeof e&&/^[0-9]+$/.test(e)?o.getObjectField(i,g(e)):function(t,e){for(var r={deleteAt:function(r,n){return t.splice(e,g(r),n||1,[]),this},fill:function(r,n,o){for(var i=t.getObject(e),a=g(n||0);a<g(o||i.length);a++)t.setListIndex(e,a,r);return this},indexOf:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=r[a];if(o){for(var i=t.getObject(e),s=n;s<i.length;s++)if(i[s][a]===o)return s;return-1}return t.getObject(e).indexOf(r,n)},insertAt:function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.splice(e,g(r),0,o),this},pop:function(){var r=t.getObject(e);if(0!=r.length){var n=t.getObjectField(e,r.length-1);return t.splice(e,r.length-1,1,[]),n}},push:function(){for(var r=t.getObject(e),n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return t.splice(e,r.length,0,o),t.getObject(e).length},shift:function(){if(0!=t.getObject(e).length){var r=t.getObjectField(e,0);return t.splice(e,0,1,[]),r}},splice:function(r,n){var o=t.getObject(e);r=g(r),(void 0===n||n>o.length-r)&&(n=o.length-r);for(var i=[],a=0;a<n;a++)i.push(t.getObjectField(e,r+a));for(var s=arguments.length,c=Array(s>2?s-2:0),u=2;u<s;u++)c[u-2]=arguments[u];return t.splice(e,r,n,c),i},unshift:function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.splice(e,0,0,n),t.getObject(e).length}},n=function(n){var o=t.getObject(e);r[n]=function(){return o[n]()}},o=["entries","keys","values"],i=0;i<o.length;i++)n(o[i]);for(var s=function(n){r[n]=function(){for(var r,o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=t.getObject(e).map((function(r,n){return t.getObjectField(e,n)}));return(r=s[n]).call.apply(r,[s].concat(i))}},c=["concat","every","filter","find","findIndex","forEach","includes","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString","toString"],u=0;u<c.length;u++)s(c[u]);return r}(o,i)[e]},set:function(t,e,r){var o=n(t,2),i=o[0],a=o[1];return i.setListIndex(a,g(e),r),!0},deleteProperty:function(t,e){var r=n(t,2),o=r[0],i=r[1];return o.splice(i,g(e),1,[]),!0},has:function(t,e){var r=n(t,2),o=r[0],i=r[1];return"string"==typeof e&&/^[0-9]+$/.test(e)?g(e)<o.getObject(i).length:["length",a,s].includes(e)},getOwnPropertyDescriptor:function(t,e){var r=n(t,2),o=r[0],i=r[1],s=o.getObject(i);if("length"===e)return{writable:!0,value:s.length};if(e===a)return{configurable:!1,enumerable:!1,value:i};if("string"==typeof e&&/^[0-9]+$/.test(e)){var c=g(e);if(c<s.length)return{configurable:!0,enumerable:!0,value:o.getObjectField(i,c)}}},ownKeys:function(t){var e=n(t,2),r=e[0],o=e[1],i=r.getObject(o),a=["length"],s=!0,c=!1,u=void 0;try{for(var l,g=Object.keys(i)[Symbol.iterator]();!(s=(l=g.next()).done);s=!0){var f=l.value;a.push(f)}}catch(h){c=!0,u=h}finally{try{!s&&g.return&&g.return()}finally{if(c)throw u}}return a}};function p(t,e,r){return new Proxy({context:t,objectId:e,readonly:r},f)}function d(t,e){var r=this.getObject(t);return Array.isArray(r)?function(t,e){return new Proxy([t,e],h)}(this,t):r instanceof u||r instanceof l?r.getWriteable(this):p(this,t,e)}t.exports={rootObjectProxy:function(t){return t.instantiateObject=d,p(t,o)}}},"./frontend/table.js":function(t,e,r){var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=r("./frontend/constants.js"),s=a.OBJECT_ID,c=a.CONFLICTS,u=r("./src/common.js"),l=u.isObject,g=u.copyObject;function f(t,e,r){var n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(e[c]!==r[c]){if("number"==typeof e[c]&&"number"==typeof r[c])return e[c]-r[c];var u=""+e[c],l=""+r[c];if(u!==l)return u<l?-1:1}}}catch(g){o=!0,i=g}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return 0}var h=function(){function t(){i(this,t),this.entries=Object.freeze({}),Object.freeze(this)}return n(t,[{key:"byId",value:function(t){return this.entries[t]}},{key:"filter",value:function(t,e){return this.rows.filter(t,e)}},{key:"find",value:function(t,e){return this.rows.find(t,e)}},{key:"map",value:function(t,e){return this.rows.map(t,e)}},{key:"sort",value:function(t){if("function"==typeof t)return this.rows.sort(t);if("string"==typeof t)return this.rows.sort((function(e,r){return f([t],e,r)}));if(Array.isArray(t))return this.rows.sort((function(e,r){return f(t,e,r)}));if(void 0===t)return this.rows.sort((function(t,e){return f(["id"],t,e)}));throw new TypeError("Unsupported sorting argument: "+t)}},{key:Symbol.iterator,value:function(){var t=this.rows,e=-1;return{next:function(){return(e+=1)<t.length?{done:!1,value:t[e]}:{done:!0}}}}},{key:"_clone",value:function(){if(!this[s])throw new RangeError("clone() requires the objectId to be set");return d(this[s],g(this.entries))}},{key:"_set",value:function(t,e){if(Object.isFrozen(this.entries))throw new Error("A table can only be modified in a change function");l(e)&&!Array.isArray(e)&&Object.defineProperty(e,"id",{value:t,enumerable:!0}),this.entries[t]=e}},{key:"remove",value:function(t){if(Object.isFrozen(this.entries))throw new Error("A table can only be modified in a change function");delete this.entries[t]}},{key:"_freeze",value:function(){Object.freeze(this.entries),Object.freeze(this)}},{key:"getWriteable",value:function(t){if(!this[s])throw new RangeError("getWriteable() requires the objectId to be set");var e=Object.create(p.prototype);return e[s]=this[s],e.context=t,e.entries=this.entries,e}},{key:"toJSON",value:function(){var t={},e=!0,r=!1,n=void 0;try{for(var o,i=this.ids[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;t[a]=this.byId(a)}}catch(s){r=!0,n=s}finally{try{!e&&i.return&&i.return()}finally{if(r)throw n}}return t}},{key:"ids",get:function(){var t=this;return Object.keys(this.entries).filter((function(e){var r=t.entries[e];return l(r)&&r.id===e}))}},{key:"count",get:function(){return this.ids.length}},{key:"rows",get:function(){var t=this;return this.ids.map((function(e){return t.byId(e)}))}}]),t}(),p=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"byId",value:function(t){if(l(this.entries[t])&&this.entries[t].id===t)return this.context.instantiateObject(t,["id"])}},{key:"add",value:function(t){return this.context.addTableRow(this[s],t)}},{key:"remove",value:function(t){if(!l(this.entries[t])||this.entries[t].id!==t)throw new RangeError("There is no row with ID "+t+" in this table");this.context.deleteTableRow(this[s],t)}}]),e}(h);function d(t,e){var r=Object.create(h.prototype);return r[s]=t,r[c]=Object.freeze({}),r.entries=e||{},r}t.exports={Table:h,instantiateTable:d}},"./frontend/text.js":function(t,e,r){var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}for(var i=r("./frontend/constants.js"),a=i.OBJECT_ID,s=i.ELEM_IDS,c=i.MAX_ELEM,u=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e)return h(void 0,e.split("").map((function(t){return{value:t}})),void 0);if(Array.isArray(e))return h(void 0,e.map((function(t){return{value:t}})),void 0);if(void 0===e)return h(void 0,[],0);throw new TypeError("Unsupported initial value for Text: "+e)}return n(t,[{key:"get",value:function(t){return this.elems[t].value}},{key:"getElemId",value:function(t){return this.elems[t].elemId}},{key:Symbol.iterator,value:function(){var t=this.elems,e=-1;return{next:function(){return(e+=1)<t.length?{done:!1,value:t[e].value}:{done:!0}}}}},{key:"toString",value:function(){var t="",e=!0,r=!1,n=void 0;try{for(var o,i=this.elems[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;"string"==typeof a.value&&(t+=a.value)}}catch(s){r=!0,n=s}finally{try{!e&&i.return&&i.return()}finally{if(r)throw n}}return t}},{key:"toSpans",value:function(){var t=[],e="",r=!0,n=!1,o=void 0;try{for(var i,a=this.elems[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;"string"==typeof s.value?e+=s.value:(e.length>0&&(t.push(e),e=""),t.push(s.value))}}catch(c){n=!0,o=c}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return e.length>0&&t.push(e),t}},{key:"toJSON",value:function(){return this.toString()}},{key:"getWriteable",value:function(t){if(!this[a])throw new RangeError("getWriteable() requires the objectId to be set");var e=h(this[a],this.elems,this[c]);return e.context=t,e}},{key:"set",value:function(t,e){if(this.context)this.context.setListIndex(this[a],t,e);else{if(this[a])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");this.elems[t].value=e}return this}},{key:"insertAt",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(this.context)this.context.splice(this[a],t,0,r);else{if(this[a])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");var i;(i=this.elems).splice.apply(i,[t,0].concat(o(r.map((function(t){return{value:t}})))))}return this}},{key:"deleteAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.context)this.context.splice(this[a],t,e,[]);else{if(this[a])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");this.elems.splice(t,e)}return this}},{key:"length",get:function(){return this.elems.length}}]),t}(),l=function(t){u.prototype[t]=function(){for(var e,r=[].concat(o(this)),n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=r[t]).call.apply(e,[r].concat(i))}},g=["concat","every","filter","find","findIndex","forEach","includes","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString"],f=0;f<g.length;f++)l(g[f]);function h(t,e,r){var n=Object.create(u.prototype);return n[a]=t,n.elems=e,n[c]=r,n}t.exports={Text:u,getElemId:function(t,e){return t instanceof u?t.getElemId(e):t[s][e]},instantiateText:h}},"./node_modules/immutable/dist/immutable.js":function(t,e,r){t.exports=function(){var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function r(t){return a(t)?t:V(t)}function n(t){return s(t)?t:G(t)}function o(t){return c(t)?t:Y(t)}function i(t){return a(t)&&!u(t)?t:J(t)}function a(t){return!(!t||!t[g])}function s(t){return!(!t||!t[f])}function c(t){return!(!t||!t[h])}function u(t){return s(t)||c(t)}function l(t){return!(!t||!t[p])}e(n,r),e(o,r),e(i,r),r.isIterable=a,r.isKeyed=s,r.isIndexed=c,r.isAssociative=u,r.isOrdered=l,r.Keyed=n,r.Indexed=o,r.Set=i;var g="@@__IMMUTABLE_ITERABLE__@@",f="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",d="delete",y=5,m=1<<y,v=m-1,_={},b={value:!1},w={value:!1};function S(t){return t.value=!1,t}function E(t){t&&(t.value=!0)}function k(){}function T(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),o=0;o<r;o++)n[o]=t[o+e];return n}function j(t){return void 0===t.size&&(t.size=t.__iterate(I)),t.size}function x(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?j(t)+e:e}function I(){return!0}function O(t,e,r){return(0===t||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&e>=r)}function A(t,e){return M(t,e,0)}function C(t,e){return M(t,e,e)}function M(t,e,r){return void 0===t?r:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var R=0,L=1,q=2,D="function"==typeof Symbol&&Symbol.iterator,N="@@iterator",P=D||N;function U(t){this.next=t}function B(t,e,r,n){var o=0===t?e:1===t?r:[e,r];return n?n.value=o:n={value:o,done:!1},n}function z(){return{value:void 0,done:!0}}function $(t){return!!K(t)}function H(t){return t&&"function"==typeof t.next}function F(t){var e=K(t);return e&&e.call(t)}function K(t){var e=t&&(D&&t[D]||t[N]);if("function"==typeof e)return e}function W(t){return t&&"number"==typeof t.length}function V(t){return null==t?at():a(t)?t.toSeq():ut(t)}function G(t){return null==t?at().toKeyedSeq():a(t)?s(t)?t.toSeq():t.fromEntrySeq():st(t)}function Y(t){return null==t?at():a(t)?s(t)?t.entrySeq():t.toIndexedSeq():ct(t)}function J(t){return(null==t?at():a(t)?s(t)?t.entrySeq():t:ct(t)).toSetSeq()}U.prototype.toString=function(){return"[Iterator]"},U.KEYS=R,U.VALUES=L,U.ENTRIES=q,U.prototype.inspect=U.prototype.toSource=function(){return this.toString()},U.prototype[P]=function(){return this},e(V,r),V.of=function(){return V(arguments)},V.prototype.toSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq {","}")},V.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},V.prototype.__iterate=function(t,e){return gt(this,t,e,!0)},V.prototype.__iterator=function(t,e){return ft(this,t,e,!0)},e(G,V),G.prototype.toKeyedSeq=function(){return this},e(Y,V),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(t,e){return gt(this,t,e,!1)},Y.prototype.__iterator=function(t,e){return ft(this,t,e,!1)},e(J,V),J.of=function(){return J(arguments)},J.prototype.toSetSeq=function(){return this},V.isSeq=it,V.Keyed=G,V.Set=J,V.Indexed=Y;var X,Z,Q,tt="@@__IMMUTABLE_SEQ__@@";function et(t){this._array=t,this.size=t.length}function rt(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function nt(t){this._iterable=t,this.size=t.length||t.size}function ot(t){this._iterator=t,this._iteratorCache=[]}function it(t){return!(!t||!t[tt])}function at(){return X||(X=new et([]))}function st(t){var e=Array.isArray(t)?new et(t).fromEntrySeq():H(t)?new ot(t).fromEntrySeq():$(t)?new nt(t).fromEntrySeq():"object"==typeof t?new rt(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function ct(t){var e=lt(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function ut(t){var e=lt(t)||"object"==typeof t&&new rt(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function lt(t){return W(t)?new et(t):H(t)?new ot(t):$(t)?new nt(t):void 0}function gt(t,e,r,n){var o=t._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[r?i-a:a];if(!1===e(s[1],n?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,r)}function ft(t,e,r,n){var o=t._cache;if(o){var i=o.length-1,a=0;return new U((function(){var t=o[r?i-a:a];return a++>i?z():B(e,n?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,r)}function ht(t,e){return e?pt(e,t,"",{"":t}):dt(t)}function pt(t,e,r,n){return Array.isArray(e)?t.call(n,r,Y(e).map((function(r,n){return pt(t,r,n,e)}))):yt(e)?t.call(n,r,G(e).map((function(r,n){return pt(t,r,n,e)}))):e}function dt(t){return Array.isArray(t)?Y(t).map(dt).toList():yt(t)?G(t).map(dt).toMap():t}function yt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function mt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function vt(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||c(t)!==c(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!u(t);if(l(t)){var n=t.entries();return e.every((function(t,e){var o=n.next().value;return o&&mt(o[1],t)&&(r||mt(o[0],e))}))&&n.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{o=!0;var i=t;t=e,e=i}var g=!0,f=e.__iterate((function(e,n){if(r?!t.has(e):o?!mt(e,t.get(n,_)):!mt(t.get(n,_),e))return g=!1,!1}));return g&&t.size===f}function _t(t,e){if(!(this instanceof _t))return new _t(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Z)return Z;Z=this}}function bt(t,e){if(!t)throw new Error(e)}function wt(t,e,r){if(!(this instanceof wt))return new wt(t,e,r);if(bt(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),e<t&&(r=-r),this._start=t,this._end=e,this._step=r,this.size=Math.max(0,Math.ceil((e-t)/r-1)+1),0===this.size){if(Q)return Q;Q=this}}function St(){throw TypeError("Abstract")}function Et(){}function kt(){}function Tt(){}V.prototype[tt]=!0,e(et,Y),et.prototype.get=function(t,e){return this.has(t)?this._array[x(this,t)]:e},et.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,o=0;o<=n;o++)if(!1===t(r[e?n-o:o],o,this))return o+1;return o},et.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,o=0;return new U((function(){return o>n?z():B(t,o,r[e?n-o++:o++])}))},e(rt,G),rt.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},rt.prototype.has=function(t){return this._object.hasOwnProperty(t)},rt.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,o=n.length-1,i=0;i<=o;i++){var a=n[e?o-i:i];if(!1===t(r[a],a,this))return i+1}return i},rt.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,o=n.length-1,i=0;return new U((function(){var a=n[e?o-i:i];return i++>o?z():B(t,a,r[a])}))},rt.prototype[p]=!0,e(nt,Y),nt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=F(this._iterable),n=0;if(H(r))for(var o;!(o=r.next()).done&&!1!==t(o.value,n++,this););return n},nt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=F(this._iterable);if(!H(r))return new U(z);var n=0;return new U((function(){var e=r.next();return e.done?e:B(t,n++,e.value)}))},e(ot,Y),ot.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r,n=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===t(o[i],i++,this))return i;for(;!(r=n.next()).done;){var a=r.value;if(o[i]=a,!1===t(a,i++,this))break}return i},ot.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,o=0;return new U((function(){if(o>=n.length){var e=r.next();if(e.done)return e;n[o]=e.value}return B(t,o,n[o++])}))},e(_t,Y),_t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},_t.prototype.get=function(t,e){return this.has(t)?this._value:e},_t.prototype.includes=function(t){return mt(this._value,t)},_t.prototype.slice=function(t,e){var r=this.size;return O(t,e,r)?this:new _t(this._value,C(e,r)-A(t,r))},_t.prototype.reverse=function(){return this},_t.prototype.indexOf=function(t){return mt(this._value,t)?0:-1},_t.prototype.lastIndexOf=function(t){return mt(this._value,t)?this.size:-1},_t.prototype.__iterate=function(t,e){for(var r=0;r<this.size;r++)if(!1===t(this._value,r,this))return r+1;return r},_t.prototype.__iterator=function(t,e){var r=this,n=0;return new U((function(){return n<r.size?B(t,n++,r._value):z()}))},_t.prototype.equals=function(t){return t instanceof _t?mt(this._value,t._value):vt(t)},e(wt,Y),wt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},wt.prototype.get=function(t,e){return this.has(t)?this._start+x(this,t)*this._step:e},wt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},wt.prototype.slice=function(t,e){return O(t,e,this.size)?this:(t=A(t,this.size),(e=C(e,this.size))<=t?new wt(0,0):new wt(this.get(t,this._end),this.get(e,this._end),this._step))},wt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},wt.prototype.lastIndexOf=function(t){return this.indexOf(t)},wt.prototype.__iterate=function(t,e){for(var r=this.size-1,n=this._step,o=e?this._start+r*n:this._start,i=0;i<=r;i++){if(!1===t(o,i,this))return i+1;o+=e?-n:n}return i},wt.prototype.__iterator=function(t,e){var r=this.size-1,n=this._step,o=e?this._start+r*n:this._start,i=0;return new U((function(){var a=o;return o+=e?-n:n,i>r?z():B(t,i++,a)}))},wt.prototype.equals=function(t){return t instanceof wt?this._start===t._start&&this._end===t._end&&this._step===t._step:vt(this,t)},e(St,r),e(Et,St),e(kt,St),e(Tt,St),St.Keyed=Et,St.Indexed=kt,St.Set=Tt;var jt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function xt(t){return t>>>1&1073741824|3221225471&t}function It(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var r=0|t;for(r!==t&&(r^=4294967295*t);t>4294967295;)r^=t/=4294967295;return xt(r)}if("string"===e)return t.length>Ut?Ot(t):At(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return Ct(t);if("function"==typeof t.toString)return At(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Ot(t){var e=$t[t];return void 0===e&&(e=At(t),zt===Bt&&(zt=0,$t={}),zt++,$t[t]=e),e}function At(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return xt(e)}function Ct(t){var e;if(Dt&&void 0!==(e=qt.get(t)))return e;if(void 0!==(e=t[Pt]))return e;if(!Rt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Pt]))return e;if(void 0!==(e=Lt(t)))return e}if(e=++Nt,1073741824&Nt&&(Nt=0),Dt)qt.set(t,e);else{if(void 0!==Mt&&!1===Mt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Rt)Object.defineProperty(t,Pt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Pt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Pt]=e}}return e}var Mt=Object.isExtensible,Rt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function Lt(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}var qt,Dt="function"==typeof WeakMap;Dt&&(qt=new WeakMap);var Nt=0,Pt="__immutablehash__";"function"==typeof Symbol&&(Pt=Symbol(Pt));var Ut=16,Bt=255,zt=0,$t={};function Ht(t){bt(t!==1/0,"Cannot perform this action with an infinite size.")}function Ft(t){return null==t?oe():Kt(t)&&!l(t)?t:oe().withMutations((function(e){var r=n(t);Ht(r.size),r.forEach((function(t,r){return e.set(r,t)}))}))}function Kt(t){return!(!t||!t[Vt])}e(Ft,Et),Ft.of=function(){var e=t.call(arguments,0);return oe().withMutations((function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}}))},Ft.prototype.toString=function(){return this.__toString("Map {","}")},Ft.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Ft.prototype.set=function(t,e){return ie(this,t,e)},Ft.prototype.setIn=function(t,e){return this.updateIn(t,_,(function(){return e}))},Ft.prototype.remove=function(t){return ie(this,t,_)},Ft.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return _}))},Ft.prototype.update=function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},Ft.prototype.updateIn=function(t,e,r){r||(r=e,e=void 0);var n=ye(this,wr(t),e,r);return n===_?void 0:n},Ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):oe()},Ft.prototype.merge=function(){return fe(this,void 0,arguments)},Ft.prototype.mergeWith=function(e){return fe(this,e,t.call(arguments,1))},Ft.prototype.mergeIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,oe(),(function(t){return"function"==typeof t.merge?t.merge.apply(t,r):r[r.length-1]}))},Ft.prototype.mergeDeep=function(){return fe(this,he,arguments)},Ft.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return fe(this,pe(e),r)},Ft.prototype.mergeDeepIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,oe(),(function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,r):r[r.length-1]}))},Ft.prototype.sort=function(t){return $e(lr(this,t))},Ft.prototype.sortBy=function(t,e){return $e(lr(this,e,t))},Ft.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Ft.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new k)},Ft.prototype.asImmutable=function(){return this.__ensureOwner()},Ft.prototype.wasAltered=function(){return this.__altered},Ft.prototype.__iterator=function(t,e){return new te(this,t,e)},Ft.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate((function(e){return n++,t(e[1],e[0],r)}),e),n},Ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?ne(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ft.isMap=Kt;var Wt,Vt="@@__IMMUTABLE_MAP__@@",Gt=Ft.prototype;function Yt(t,e){this.ownerID=t,this.entries=e}function Jt(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r}function Xt(t,e,r){this.ownerID=t,this.count=e,this.nodes=r}function Zt(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r}function Qt(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r}function te(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&re(t._root)}function ee(t,e){return B(t,e[0],e[1])}function re(t,e){return{node:t,index:0,__prev:e}}function ne(t,e,r,n){var o=Object.create(Gt);return o.size=t,o._root=e,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function oe(){return Wt||(Wt=ne(0))}function ie(t,e,r){var n,o;if(t._root){var i=S(b),a=S(w);if(n=ae(t._root,t.__ownerID,0,void 0,e,r,i,a),!a.value)return t;o=t.size+(i.value?r===_?-1:1:0)}else{if(r===_)return t;o=1,n=new Yt(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=o,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?ne(o,n):oe()}function ae(t,e,r,n,o,i,a,s){return t?t.update(e,r,n,o,i,a,s):i===_?t:(E(s),E(a),new Qt(e,n,[o,i]))}function se(t){return t.constructor===Qt||t.constructor===Zt}function ce(t,e,r,n,o){if(t.keyHash===n)return new Zt(e,n,[t.entry,o]);var i,a=(0===r?t.keyHash:t.keyHash>>>r)&v,s=(0===r?n:n>>>r)&v;return new Jt(e,1<<a|1<<s,a===s?[ce(t,e,r+y,n,o)]:(i=new Qt(e,n,o),a<s?[t,i]:[i,t]))}function ue(t,e,r,n){t||(t=new k);for(var o=new Qt(t,It(r),[r,n]),i=0;i<e.length;i++){var a=e[i];o=o.update(t,0,void 0,a[0],a[1])}return o}function le(t,e,r,n){for(var o=0,i=0,a=new Array(r),s=0,c=1,u=e.length;s<u;s++,c<<=1){var l=e[s];void 0!==l&&s!==n&&(o|=c,a[i++]=l)}return new Jt(t,o,a)}function ge(t,e,r,n,o){for(var i=0,a=new Array(m),s=0;0!==r;s++,r>>>=1)a[s]=1&r?e[i++]:void 0;return a[n]=o,new Xt(t,i+1,a)}function fe(t,e,r){for(var o=[],i=0;i<r.length;i++){var s=r[i],c=n(s);a(s)||(c=c.map((function(t){return ht(t)}))),o.push(c)}return de(t,e,o)}function he(t,e,r){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):mt(t,e)?t:e}function pe(t){return function(e,r,n){if(e&&e.mergeDeepWith&&a(r))return e.mergeDeepWith(t,r);var o=t(e,r,n);return mt(e,o)?e:o}}function de(t,e,r){return 0===(r=r.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations((function(t){for(var n=e?function(r,n){t.update(n,_,(function(t){return t===_?r:e(t,r,n)}))}:function(e,r){t.set(r,e)},o=0;o<r.length;o++)r[o].forEach(n)})):t.constructor(r[0])}function ye(t,e,r,n){var o=t===_,i=e.next();if(i.done){var a=o?r:t,s=n(a);return s===a?t:s}bt(o||t&&t.set,"invalid keyPath");var c=i.value,u=o?_:t.get(c,_),l=ye(u,e,r,n);return l===u?t:l===_?t.remove(c):(o?oe():t).set(c,l)}function me(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ve(t,e,r,n){var o=n?t:T(t);return o[e]=r,o}function _e(t,e,r,n){var o=t.length+1;if(n&&e+1===o)return t[e]=r,t;for(var i=new Array(o),a=0,s=0;s<o;s++)s===e?(i[s]=r,a=-1):i[s]=t[s+a];return i}function be(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var o=new Array(n),i=0,a=0;a<n;a++)a===e&&(i=1),o[a]=t[a+i];return o}Gt[Vt]=!0,Gt[d]=Gt.remove,Gt.removeIn=Gt.deleteIn,Yt.prototype.get=function(t,e,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(mt(r,o[i][0]))return o[i][1];return n},Yt.prototype.update=function(t,e,r,n,o,i,a){for(var s=o===_,c=this.entries,u=0,l=c.length;u<l&&!mt(n,c[u][0]);u++);var g=u<l;if(g?c[u][1]===o:s)return this;if(E(a),(s||!g)&&E(i),!s||1!==c.length){if(!g&&!s&&c.length>=we)return ue(t,c,n,o);var f=t&&t===this.ownerID,h=f?c:T(c);return g?s?u===l-1?h.pop():h[u]=h.pop():h[u]=[n,o]:h.push([n,o]),f?(this.entries=h,this):new Yt(t,h)}},Jt.prototype.get=function(t,e,r,n){void 0===e&&(e=It(r));var o=1<<((0===t?e:e>>>t)&v),i=this.bitmap;return 0==(i&o)?n:this.nodes[me(i&o-1)].get(t+y,e,r,n)},Jt.prototype.update=function(t,e,r,n,o,i,a){void 0===r&&(r=It(n));var s=(0===e?r:r>>>e)&v,c=1<<s,u=this.bitmap,l=0!=(u&c);if(!l&&o===_)return this;var g=me(u&c-1),f=this.nodes,h=l?f[g]:void 0,p=ae(h,t,e+y,r,n,o,i,a);if(p===h)return this;if(!l&&p&&f.length>=Se)return ge(t,f,u,s,p);if(l&&!p&&2===f.length&&se(f[1^g]))return f[1^g];if(l&&p&&1===f.length&&se(p))return p;var d=t&&t===this.ownerID,m=l?p?u:u^c:u|c,b=l?p?ve(f,g,p,d):be(f,g,d):_e(f,g,p,d);return d?(this.bitmap=m,this.nodes=b,this):new Jt(t,m,b)},Xt.prototype.get=function(t,e,r,n){void 0===e&&(e=It(r));var o=(0===t?e:e>>>t)&v,i=this.nodes[o];return i?i.get(t+y,e,r,n):n},Xt.prototype.update=function(t,e,r,n,o,i,a){void 0===r&&(r=It(n));var s=(0===e?r:r>>>e)&v,c=o===_,u=this.nodes,l=u[s];if(c&&!l)return this;var g=ae(l,t,e+y,r,n,o,i,a);if(g===l)return this;var f=this.count;if(l){if(!g&&--f<Ee)return le(t,u,f,s)}else f++;var h=t&&t===this.ownerID,p=ve(u,s,g,h);return h?(this.count=f,this.nodes=p,this):new Xt(t,f,p)},Zt.prototype.get=function(t,e,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(mt(r,o[i][0]))return o[i][1];return n},Zt.prototype.update=function(t,e,r,n,o,i,a){void 0===r&&(r=It(n));var s=o===_;if(r!==this.keyHash)return s?this:(E(a),E(i),ce(this,t,e,r,[n,o]));for(var c=this.entries,u=0,l=c.length;u<l&&!mt(n,c[u][0]);u++);var g=u<l;if(g?c[u][1]===o:s)return this;if(E(a),(s||!g)&&E(i),s&&2===l)return new Qt(t,this.keyHash,c[1^u]);var f=t&&t===this.ownerID,h=f?c:T(c);return g?s?u===l-1?h.pop():h[u]=h.pop():h[u]=[n,o]:h.push([n,o]),f?(this.entries=h,this):new Zt(t,this.keyHash,h)},Qt.prototype.get=function(t,e,r,n){return mt(r,this.entry[0])?this.entry[1]:n},Qt.prototype.update=function(t,e,r,n,o,i,a){var s=o===_,c=mt(n,this.entry[0]);return(c?o===this.entry[1]:s)?this:(E(a),s?void E(i):c?t&&t===this.ownerID?(this.entry[1]=o,this):new Qt(t,this.keyHash,[n,o]):(E(i),ce(this,t,e,It(n),[n,o])))},Yt.prototype.iterate=Zt.prototype.iterate=function(t,e){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(!1===t(r[e?o-n:n]))return!1},Jt.prototype.iterate=Xt.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var i=r[e?o-n:n];if(i&&!1===i.iterate(t,e))return!1}},Qt.prototype.iterate=function(t,e){return t(this.entry)},e(te,U),te.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,o=e.index++;if(n.entry){if(0===o)return ee(t,n.entry)}else if(n.entries){if(o<=(r=n.entries.length-1))return ee(t,n.entries[this._reverse?r-o:o])}else if(o<=(r=n.nodes.length-1)){var i=n.nodes[this._reverse?r-o:o];if(i){if(i.entry)return ee(t,i.entry);e=this._stack=re(i,e)}continue}e=this._stack=this._stack.__prev}return z()};var we=m/4,Se=m/2,Ee=m/4;function ke(t){var e=Le();if(null==t)return e;if(Te(t))return t;var r=o(t),n=r.size;return 0===n?e:(Ht(n),n>0&&n<m?Re(0,n,y,null,new Ie(r.toArray())):e.withMutations((function(t){t.setSize(n),r.forEach((function(e,r){return t.set(r,e)}))})))}function Te(t){return!(!t||!t[je])}e(ke,kt),ke.of=function(){return this(arguments)},ke.prototype.toString=function(){return this.__toString("List [","]")},ke.prototype.get=function(t,e){if((t=x(this,t))>=0&&t<this.size){var r=Pe(this,t+=this._origin);return r&&r.array[t&v]}return e},ke.prototype.set=function(t,e){return qe(this,t,e)},ke.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},ke.prototype.insert=function(t,e){return this.splice(t,0,e)},ke.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=y,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Le()},ke.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(r){Ue(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])}))},ke.prototype.pop=function(){return Ue(this,0,-1)},ke.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){Ue(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])}))},ke.prototype.shift=function(){return Ue(this,1)},ke.prototype.merge=function(){return Be(this,void 0,arguments)},ke.prototype.mergeWith=function(e){return Be(this,e,t.call(arguments,1))},ke.prototype.mergeDeep=function(){return Be(this,he,arguments)},ke.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return Be(this,pe(e),r)},ke.prototype.setSize=function(t){return Ue(this,0,t)},ke.prototype.slice=function(t,e){var r=this.size;return O(t,e,r)?this:Ue(this,A(t,r),C(e,r))},ke.prototype.__iterator=function(t,e){var r=0,n=Me(this,e);return new U((function(){var e=n();return e===Ce?z():B(t,r++,e)}))},ke.prototype.__iterate=function(t,e){for(var r,n=0,o=Me(this,e);(r=o())!==Ce&&!1!==t(r,n++,this););return n},ke.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Re(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},ke.isList=Te;var je="@@__IMMUTABLE_LIST__@@",xe=ke.prototype;function Ie(t,e){this.array=t,this.ownerID=e}xe[je]=!0,xe[d]=xe.remove,xe.setIn=Gt.setIn,xe.deleteIn=xe.removeIn=Gt.removeIn,xe.update=Gt.update,xe.updateIn=Gt.updateIn,xe.mergeIn=Gt.mergeIn,xe.mergeDeepIn=Gt.mergeDeepIn,xe.withMutations=Gt.withMutations,xe.asMutable=Gt.asMutable,xe.asImmutable=Gt.asImmutable,xe.wasAltered=Gt.wasAltered,Ie.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&v;if(n>=this.array.length)return new Ie([],t);var o,i=0===n;if(e>0){var a=this.array[n];if((o=a&&a.removeBefore(t,e-y,r))===a&&i)return this}if(i&&!o)return this;var s=Ne(this,t);if(!i)for(var c=0;c<n;c++)s.array[c]=void 0;return o&&(s.array[n]=o),s},Ie.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,o=r-1>>>e&v;if(o>=this.array.length)return this;if(e>0){var i=this.array[o];if((n=i&&i.removeAfter(t,e-y,r))===i&&o===this.array.length-1)return this}var a=Ne(this,t);return a.array.splice(o+1),n&&(a.array[o]=n),a};var Oe,Ae,Ce={};function Me(t,e){var r=t._origin,n=t._capacity,o=ze(n),i=t._tail;return a(t._root,t._level,0);function a(t,e,r){return 0===e?s(t,r):c(t,e,r)}function s(t,a){var s=a===o?i&&i.array:t&&t.array,c=a>r?0:r-a,u=n-a;return u>m&&(u=m),function(){if(c===u)return Ce;var t=e?--u:c++;return s&&s[t]}}function c(t,o,i){var s,c=t&&t.array,u=i>r?0:r-i>>o,l=1+(n-i>>o);return l>m&&(l=m),function(){for(;;){if(s){var t=s();if(t!==Ce)return t;s=null}if(u===l)return Ce;var r=e?--l:u++;s=a(c&&c[r],o-y,i+(r<<o))}}}}function Re(t,e,r,n,o,i,a){var s=Object.create(xe);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Le(){return Oe||(Oe=Re(0,0,y))}function qe(t,e,r){if((e=x(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?Ue(t,e).set(0,r):Ue(t,0,e+1).set(e,r)}));e+=t._origin;var n=t._tail,o=t._root,i=S(w);return e>=ze(t._capacity)?n=De(n,t.__ownerID,0,e,r,i):o=De(o,t.__ownerID,t._level,e,r,i),i.value?t.__ownerID?(t._root=o,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Re(t._origin,t._capacity,t._level,o,n):t}function De(t,e,r,n,o,i){var a,s=n>>>r&v,c=t&&s<t.array.length;if(!c&&void 0===o)return t;if(r>0){var u=t&&t.array[s],l=De(u,e,r-y,n,o,i);return l===u?t:((a=Ne(t,e)).array[s]=l,a)}return c&&t.array[s]===o?t:(E(i),a=Ne(t,e),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function Ne(t,e){return e&&t&&e===t.ownerID?t:new Ie(t?t.array.slice():[],e)}function Pe(t,e){if(e>=ze(t._capacity))return t._tail;if(e<1<<t._level+y){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&v],n-=y;return r}}function Ue(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new k,o=t._origin,i=t._capacity,a=o+e,s=void 0===r?i:r<0?i+r:o+r;if(a===o&&s===i)return t;if(a>=s)return t.clear();for(var c=t._level,u=t._root,l=0;a+l<0;)u=new Ie(u&&u.array.length?[void 0,u]:[],n),l+=1<<(c+=y);l&&(a+=l,o+=l,s+=l,i+=l);for(var g=ze(i),f=ze(s);f>=1<<c+y;)u=new Ie(u&&u.array.length?[u]:[],n),c+=y;var h=t._tail,p=f<g?Pe(t,s-1):f>g?new Ie([],n):h;if(h&&f>g&&a<i&&h.array.length){for(var d=u=Ne(u,n),m=c;m>y;m-=y){var _=g>>>m&v;d=d.array[_]=Ne(d.array[_],n)}d.array[g>>>y&v]=h}if(s<i&&(p=p&&p.removeAfter(n,0,s)),a>=f)a-=f,s-=f,c=y,u=null,p=p&&p.removeBefore(n,0,a);else if(a>o||f<g){for(l=0;u;){var b=a>>>c&v;if(b!==f>>>c&v)break;b&&(l+=(1<<c)*b),c-=y,u=u.array[b]}u&&a>o&&(u=u.removeBefore(n,c,a-l)),u&&f<g&&(u=u.removeAfter(n,c,f-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=c,t._root=u,t._tail=p,t.__hash=void 0,t.__altered=!0,t):Re(a,s,c,u,p)}function Be(t,e,r){for(var n=[],i=0,s=0;s<r.length;s++){var c=r[s],u=o(c);u.size>i&&(i=u.size),a(c)||(u=u.map((function(t){return ht(t)}))),n.push(u)}return i>t.size&&(t=t.setSize(i)),de(t,e,n)}function ze(t){return t<m?0:t-1>>>y<<y}function $e(t){return null==t?Ke():He(t)?t:Ke().withMutations((function(e){var r=n(t);Ht(r.size),r.forEach((function(t,r){return e.set(r,t)}))}))}function He(t){return Kt(t)&&l(t)}function Fe(t,e,r,n){var o=Object.create($e.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=r,o.__hash=n,o}function Ke(){return Ae||(Ae=Fe(oe(),Le()))}function We(t,e,r){var n,o,i=t._map,a=t._list,s=i.get(e),c=void 0!==s;if(r===_){if(!c)return t;a.size>=m&&a.size>=2*i.size?(n=(o=a.filter((function(t,e){return void 0!==t&&s!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(n.__ownerID=o.__ownerID=t.__ownerID)):(n=i.remove(e),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(r===a.get(s)[1])return t;n=i,o=a.set(s,[e,r])}else n=i.set(e,a.size),o=a.set(a.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=o,t.__hash=void 0,t):Fe(n,o)}function Ve(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Ge(t){this._iter=t,this.size=t.size}function Ye(t){this._iter=t,this.size=t.size}function Je(t){this._iter=t,this.size=t.size}function Xe(t){var e=vr(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=_r,e.__iterateUncached=function(e,r){var n=this;return t.__iterate((function(t,r){return!1!==e(r,t,n)}),r)},e.__iteratorUncached=function(e,r){if(e===q){var n=t.__iterator(e,r);return new U((function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(e===L?R:L,r)},e}function Ze(t,e,r){var n=vr(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,o){var i=t.get(n,_);return i===_?o:e.call(r,i,n,t)},n.__iterateUncached=function(n,o){var i=this;return t.__iterate((function(t,o,a){return!1!==n(e.call(r,t,o,a),o,i)}),o)},n.__iteratorUncached=function(n,o){var i=t.__iterator(q,o);return new U((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return B(n,s,e.call(r,a[1],s,t),o)}))},n}function Qe(t,e){var r=vr(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=Xe(t);return e.reverse=function(){return t.flip()},e}),r.get=function(r,n){return t.get(e?r:-1-r,n)},r.has=function(r){return t.has(e?r:-1-r)},r.includes=function(e){return t.includes(e)},r.cacheResult=_r,r.__iterate=function(e,r){var n=this;return t.__iterate((function(t,r){return e(t,r,n)}),!r)},r.__iterator=function(e,r){return t.__iterator(e,!r)},r}function tr(t,e,r,n){var o=vr(t);return n&&(o.has=function(n){var o=t.get(n,_);return o!==_&&!!e.call(r,o,n,t)},o.get=function(n,o){var i=t.get(n,_);return i!==_&&e.call(r,i,n,t)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return t.__iterate((function(t,i,c){if(e.call(r,t,i,c))return s++,o(t,n?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=t.__iterator(q,i),s=0;return new U((function(){for(;;){var i=a.next();if(i.done)return i;var c=i.value,u=c[0],l=c[1];if(e.call(r,l,u,t))return B(o,n?u:s++,l,i)}}))},o}function er(t,e,r){var n=Ft().asMutable();return t.__iterate((function(o,i){n.update(e.call(r,o,i,t),0,(function(t){return t+1}))})),n.asImmutable()}function rr(t,e,r){var n=s(t),o=(l(t)?$e():Ft()).asMutable();t.__iterate((function(i,a){o.update(e.call(r,i,a,t),(function(t){return(t=t||[]).push(n?[a,i]:i),t}))}));var i=mr(t);return o.map((function(e){return pr(t,i(e))}))}function nr(t,e,r,n){var o=t.size;if(void 0!==e&&(e|=0),void 0!==r&&(r===1/0?r=o:r|=0),O(e,r,o))return t;var i=A(e,o),a=C(r,o);if(i!=i||a!=a)return nr(t.toSeq().cacheResult(),e,r,n);var s,c=a-i;c==c&&(s=c<0?0:c);var u=vr(t);return u.size=0===s?s:t.size&&s||void 0,!n&&it(t)&&s>=0&&(u.get=function(e,r){return(e=x(this,e))>=0&&e<s?t.get(e+i,r):r}),u.__iterateUncached=function(e,r){var o=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(e,r);var a=0,c=!0,u=0;return t.__iterate((function(t,r){if(!c||!(c=a++<i))return u++,!1!==e(t,n?r:u-1,o)&&u!==s})),u},u.__iteratorUncached=function(e,r){if(0!==s&&r)return this.cacheResult().__iterator(e,r);var o=0!==s&&t.__iterator(e,r),a=0,c=0;return new U((function(){for(;a++<i;)o.next();if(++c>s)return z();var t=o.next();return n||e===L?t:B(e,c-1,e===R?void 0:t.value[1],t)}))},u}function or(t,e,r){var n=vr(t);return n.__iterateUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterate(n,o);var a=0;return t.__iterate((function(t,o,s){return e.call(r,t,o,s)&&++a&&n(t,o,i)})),a},n.__iteratorUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterator(n,o);var a=t.__iterator(q,o),s=!0;return new U((function(){if(!s)return z();var t=a.next();if(t.done)return t;var o=t.value,c=o[0],u=o[1];return e.call(r,u,c,i)?n===q?t:B(n,c,u,t):(s=!1,z())}))},n}function ir(t,e,r,n){var o=vr(t);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,c=0;return t.__iterate((function(t,i,u){if(!s||!(s=e.call(r,t,i,u)))return c++,o(t,n?i:c-1,a)})),c},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=t.__iterator(q,i),c=!0,u=0;return new U((function(){var t,i,l;do{if((t=s.next()).done)return n||o===L?t:B(o,u++,o===R?void 0:t.value[1],t);var g=t.value;i=g[0],l=g[1],c&&(c=e.call(r,l,i,a))}while(c);return o===q?t:B(o,i,l,t)}))},o}function ar(t,e){var r=s(t),o=[t].concat(e).map((function(t){return a(t)?r&&(t=n(t)):t=r?st(t):ct(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===o.length)return t;if(1===o.length){var i=o[0];if(i===t||r&&s(i)||c(t)&&c(i))return i}var u=new et(o);return r?u=u.toKeyedSeq():c(t)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=o.reduce((function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}}),0),u}function sr(t,e,r){var n=vr(t);return n.__iterateUncached=function(n,o){var i=0,s=!1;function c(t,u){var l=this;t.__iterate((function(t,o){return(!e||u<e)&&a(t)?c(t,u+1):!1===n(t,r?o:i++,l)&&(s=!0),!s}),o)}return c(t,0),i},n.__iteratorUncached=function(n,o){var i=t.__iterator(n,o),s=[],c=0;return new U((function(){for(;i;){var t=i.next();if(!1===t.done){var u=t.value;if(n===q&&(u=u[1]),e&&!(s.length<e)||!a(u))return r?t:B(n,c++,u,t);s.push(i),i=u.__iterator(n,o)}else i=s.pop()}return z()}))},n}function cr(t,e,r){var n=mr(t);return t.toSeq().map((function(o,i){return n(e.call(r,o,i,t))})).flatten(!0)}function ur(t,e){var r=vr(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var o=this,i=0;return t.__iterate((function(t,n){return(!i||!1!==r(e,i++,o))&&!1!==r(t,i++,o)}),n),i},r.__iteratorUncached=function(r,n){var o,i=t.__iterator(L,n),a=0;return new U((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?B(r,a++,e):B(r,a++,o.value,o)}))},r}function lr(t,e,r){e||(e=br);var n=s(t),o=0,i=t.toSeq().map((function(e,n){return[n,e,o++,r?r(e,n,t):e]})).toArray();return i.sort((function(t,r){return e(t[3],r[3])||t[2]-r[2]})).forEach(n?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),n?G(i):c(t)?Y(i):J(i)}function gr(t,e,r){if(e||(e=br),r){var n=t.toSeq().map((function(e,n){return[e,r(e,n,t)]})).reduce((function(t,r){return fr(e,t[1],r[1])?r:t}));return n&&n[0]}return t.reduce((function(t,r){return fr(e,t,r)?r:t}))}function fr(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(null==r||r!=r)||n>0}function hr(t,e,n){var o=vr(t);return o.size=new et(n).map((function(t){return t.size})).min(),o.__iterate=function(t,e){for(var r,n=this.__iterator(L,e),o=0;!(r=n.next()).done&&!1!==t(r.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=n.map((function(t){return t=r(t),F(o?t.reverse():t)})),a=0,s=!1;return new U((function(){var r;return s||(r=i.map((function(t){return t.next()})),s=r.some((function(t){return t.done}))),s?z():B(t,a++,e.apply(null,r.map((function(t){return t.value}))))}))},o}function pr(t,e){return it(t)?e:t.constructor(e)}function dr(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function yr(t){return Ht(t.size),j(t)}function mr(t){return s(t)?n:c(t)?o:i}function vr(t){return Object.create((s(t)?G:c(t)?Y:J).prototype)}function _r(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):V.prototype.cacheResult.call(this)}function br(t,e){return t>e?1:t<e?-1:0}function wr(t){var e=F(t);if(!e){if(!W(t))throw new TypeError("Expected iterable or array-like: "+t);e=F(r(t))}return e}function Sr(t,e){var r,n=function(i){if(i instanceof n)return i;if(!(this instanceof n))return new n(i);if(!r){r=!0;var a=Object.keys(t);jr(o,a),o.size=a.length,o._name=e,o._keys=a,o._defaultValues=t}this._map=Ft(i)},o=n.prototype=Object.create(Er);return o.constructor=n,n}e($e,Ft),$e.of=function(){return this(arguments)},$e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},$e.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},$e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ke()},$e.prototype.set=function(t,e){return We(this,t,e)},$e.prototype.remove=function(t){return We(this,t,_)},$e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},$e.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],r)}),e)},$e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},$e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?Fe(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=r,this)},$e.isOrderedMap=He,$e.prototype[p]=!0,$e.prototype[d]=$e.prototype.remove,e(Ve,G),Ve.prototype.get=function(t,e){return this._iter.get(t,e)},Ve.prototype.has=function(t){return this._iter.has(t)},Ve.prototype.valueSeq=function(){return this._iter.valueSeq()},Ve.prototype.reverse=function(){var t=this,e=Qe(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Ve.prototype.map=function(t,e){var r=this,n=Ze(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},Ve.prototype.__iterate=function(t,e){var r,n=this;return this._iter.__iterate(this._useKeys?function(e,r){return t(e,r,n)}:(r=e?yr(this):0,function(o){return t(o,e?--r:r++,n)}),e)},Ve.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var r=this._iter.__iterator(L,e),n=e?yr(this):0;return new U((function(){var o=r.next();return o.done?o:B(t,e?--n:n++,o.value,o)}))},Ve.prototype[p]=!0,e(Ge,Y),Ge.prototype.includes=function(t){return this._iter.includes(t)},Ge.prototype.__iterate=function(t,e){var r=this,n=0;return this._iter.__iterate((function(e){return t(e,n++,r)}),e)},Ge.prototype.__iterator=function(t,e){var r=this._iter.__iterator(L,e),n=0;return new U((function(){var e=r.next();return e.done?e:B(t,n++,e.value,e)}))},e(Ye,J),Ye.prototype.has=function(t){return this._iter.includes(t)},Ye.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){return t(e,e,r)}),e)},Ye.prototype.__iterator=function(t,e){var r=this._iter.__iterator(L,e);return new U((function(){var e=r.next();return e.done?e:B(t,e.value,e.value,e)}))},e(Je,G),Je.prototype.entrySeq=function(){return this._iter.toSeq()},Je.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){if(e){dr(e);var n=a(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}}),e)},Je.prototype.__iterator=function(t,e){var r=this._iter.__iterator(L,e);return new U((function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){dr(n);var o=a(n);return B(t,o?n.get(0):n[0],o?n.get(1):n[1],e)}}}))},Ge.prototype.cacheResult=Ve.prototype.cacheResult=Ye.prototype.cacheResult=Je.prototype.cacheResult=_r,e(Sr,Et),Sr.prototype.toString=function(){return this.__toString(Tr(this)+" {","}")},Sr.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Sr.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},Sr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=kr(this,oe()))},Sr.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Tr(this));if(this._map&&!this._map.has(t)&&e===this._defaultValues[t])return this;var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:kr(this,r)},Sr.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:kr(this,e)},Sr.prototype.wasAltered=function(){return this._map.wasAltered()},Sr.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map((function(t,e){return r.get(e)})).__iterator(t,e)},Sr.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map((function(t,e){return r.get(e)})).__iterate(t,e)},Sr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?kr(this,e,t):(this.__ownerID=t,this._map=e,this)};var Er=Sr.prototype;function kr(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function Tr(t){return t._name||t.constructor.name||"Record"}function jr(t,e){try{e.forEach(xr.bind(void 0,t))}catch(r){}}function xr(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){bt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Ir(t){return null==t?qr():Or(t)&&!l(t)?t:qr().withMutations((function(e){var r=i(t);Ht(r.size),r.forEach((function(t){return e.add(t)}))}))}function Or(t){return!(!t||!t[Cr])}Er[d]=Er.remove,Er.deleteIn=Er.removeIn=Gt.removeIn,Er.merge=Gt.merge,Er.mergeWith=Gt.mergeWith,Er.mergeIn=Gt.mergeIn,Er.mergeDeep=Gt.mergeDeep,Er.mergeDeepWith=Gt.mergeDeepWith,Er.mergeDeepIn=Gt.mergeDeepIn,Er.setIn=Gt.setIn,Er.update=Gt.update,Er.updateIn=Gt.updateIn,Er.withMutations=Gt.withMutations,Er.asMutable=Gt.asMutable,Er.asImmutable=Gt.asImmutable,e(Ir,Tt),Ir.of=function(){return this(arguments)},Ir.fromKeys=function(t){return this(n(t).keySeq())},Ir.prototype.toString=function(){return this.__toString("Set {","}")},Ir.prototype.has=function(t){return this._map.has(t)},Ir.prototype.add=function(t){return Rr(this,this._map.set(t,!0))},Ir.prototype.remove=function(t){return Rr(this,this._map.remove(t))},Ir.prototype.clear=function(){return Rr(this,this._map.clear())},Ir.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var r=0;r<e.length;r++)i(e[r]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},Ir.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return i(t)}));var r=this;return this.withMutations((function(t){r.forEach((function(r){e.every((function(t){return t.includes(r)}))||t.remove(r)}))}))},Ir.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return i(t)}));var r=this;return this.withMutations((function(t){r.forEach((function(r){e.some((function(t){return t.includes(r)}))&&t.remove(r)}))}))},Ir.prototype.merge=function(){return this.union.apply(this,arguments)},Ir.prototype.mergeWith=function(e){var r=t.call(arguments,1);return this.union.apply(this,r)},Ir.prototype.sort=function(t){return Dr(lr(this,t))},Ir.prototype.sortBy=function(t,e){return Dr(lr(this,e,t))},Ir.prototype.wasAltered=function(){return this._map.wasAltered()},Ir.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate((function(e,n){return t(n,n,r)}),e)},Ir.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},Ir.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Ir.isSet=Or;var Ar,Cr="@@__IMMUTABLE_SET__@@",Mr=Ir.prototype;function Rr(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Lr(t,e){var r=Object.create(Mr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function qr(){return Ar||(Ar=Lr(oe()))}function Dr(t){return null==t?zr():Nr(t)?t:zr().withMutations((function(e){var r=i(t);Ht(r.size),r.forEach((function(t){return e.add(t)}))}))}function Nr(t){return Or(t)&&l(t)}Mr[Cr]=!0,Mr[d]=Mr.remove,Mr.mergeDeep=Mr.merge,Mr.mergeDeepWith=Mr.mergeWith,Mr.withMutations=Gt.withMutations,Mr.asMutable=Gt.asMutable,Mr.asImmutable=Gt.asImmutable,Mr.__empty=qr,Mr.__make=Lr,e(Dr,Ir),Dr.of=function(){return this(arguments)},Dr.fromKeys=function(t){return this(n(t).keySeq())},Dr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Dr.isOrderedSet=Nr;var Pr,Ur=Dr.prototype;function Br(t,e){var r=Object.create(Ur);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function zr(){return Pr||(Pr=Br(Ke()))}function $r(t){return null==t?Gr():Hr(t)?t:Gr().unshiftAll(t)}function Hr(t){return!(!t||!t[Kr])}Ur[p]=!0,Ur.__empty=zr,Ur.__make=Br,e($r,kt),$r.of=function(){return this(arguments)},$r.prototype.toString=function(){return this.__toString("Stack [","]")},$r.prototype.get=function(t,e){var r=this._head;for(t=x(this,t);r&&t--;)r=r.next;return r?r.value:e},$r.prototype.peek=function(){return this._head&&this._head.value},$r.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,r=arguments.length-1;r>=0;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Vr(t,e)},$r.prototype.pushAll=function(t){if(0===(t=o(t)).size)return this;Ht(t.size);var e=this.size,r=this._head;return t.reverse().forEach((function(t){e++,r={value:t,next:r}})),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Vr(e,r)},$r.prototype.pop=function(){return this.slice(1)},$r.prototype.unshift=function(){return this.push.apply(this,arguments)},$r.prototype.unshiftAll=function(t){return this.pushAll(t)},$r.prototype.shift=function(){return this.pop.apply(this,arguments)},$r.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Gr()},$r.prototype.slice=function(t,e){if(O(t,e,this.size))return this;var r=A(t,this.size);if(C(e,this.size)!==this.size)return kt.prototype.slice.call(this,t,e);for(var n=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=n,this._head=o,this.__hash=void 0,this.__altered=!0,this):Vr(n,o)},$r.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Vr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},$r.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var r=0,n=this._head;n&&!1!==t(n.value,r++,this);)n=n.next;return r},$r.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var r=0,n=this._head;return new U((function(){if(n){var e=n.value;return n=n.next,B(t,r++,e)}return z()}))},$r.isStack=Hr;var Fr,Kr="@@__IMMUTABLE_STACK__@@",Wr=$r.prototype;function Vr(t,e,r,n){var o=Object.create(Wr);return o.size=t,o._head=e,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function Gr(){return Fr||(Fr=Vr(0))}function Yr(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}Wr[Kr]=!0,Wr.withMutations=Gt.withMutations,Wr.asMutable=Gt.asMutable,Wr.asImmutable=Gt.asImmutable,Wr.wasAltered=Gt.wasAltered,r.Iterator=U,Yr(r,{toArray:function(){Ht(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,r){t[r]=e})),t},toIndexedSeq:function(){return new Ge(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new Ve(this,!0)},toMap:function(){return Ft(this.toKeyedSeq())},toObject:function(){Ht(this.size);var t={};return this.__iterate((function(e,r){t[r]=e})),t},toOrderedMap:function(){return $e(this.toKeyedSeq())},toOrderedSet:function(){return Dr(s(this)?this.valueSeq():this)},toSet:function(){return Ir(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ye(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return $r(s(this)?this.valueSeq():this)},toList:function(){return ke(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return pr(this,ar(this,t.call(arguments,0)))},includes:function(t){return this.some((function(e){return mt(e,t)}))},entries:function(){return this.__iterator(q)},every:function(t,e){Ht(this.size);var r=!0;return this.__iterate((function(n,o,i){if(!t.call(e,n,o,i))return r=!1,!1})),r},filter:function(t,e){return pr(this,tr(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},forEach:function(t,e){return Ht(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Ht(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate((function(n){r?r=!1:e+=t,e+=null!=n?n.toString():""})),e},keys:function(){return this.__iterator(R)},map:function(t,e){return pr(this,Ze(this,t,e))},reduce:function(t,e,r){var n,o;return Ht(this.size),arguments.length<2?o=!0:n=e,this.__iterate((function(e,i,a){o?(o=!1,n=e):n=t.call(r,n,e,i,a)})),n},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return pr(this,Qe(this,!0))},slice:function(t,e){return pr(this,nr(this,t,e,!0))},some:function(t,e){return!this.every(tn(t),e)},sort:function(t){return pr(this,lr(this,t))},values:function(){return this.__iterator(L)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return j(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return er(this,t,e)},equals:function(t){return vt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new et(t._cache);var e=t.toSeq().map(Qr).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(tn(t),e)},findEntry:function(t,e,r){var n=r;return this.__iterate((function(r,o,i){if(t.call(e,r,o,i))return n=[o,r],!1})),n},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(I)},flatMap:function(t,e){return pr(this,cr(this,t,e))},flatten:function(t){return pr(this,sr(this,t,!0))},fromEntrySeq:function(){return new Je(this)},get:function(t,e){return this.find((function(e,r){return mt(r,t)}),void 0,e)},getIn:function(t,e){for(var r,n=this,o=wr(t);!(r=o.next()).done;){var i=r.value;if((n=n&&n.get?n.get(i,_):_)===_)return e}return n},groupBy:function(t,e){return rr(this,t,e)},has:function(t){return this.get(t,_)!==_},hasIn:function(t){return this.getIn(t,_)!==_},isSubset:function(t){return t="function"==typeof t.includes?t:r(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:r(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return mt(e,t)}))},keySeq:function(){return this.toSeq().map(Zr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return gr(this,t)},maxBy:function(t,e){return gr(this,e,t)},min:function(t){return gr(this,t?en(t):on)},minBy:function(t,e){return gr(this,e?en(e):on,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return pr(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return pr(this,ir(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(tn(t),e)},sortBy:function(t,e){return pr(this,lr(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return pr(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return pr(this,or(this,t,e))},takeUntil:function(t,e){return this.takeWhile(tn(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=an(this))}});var Jr=r.prototype;Jr[g]=!0,Jr[P]=Jr.values,Jr.__toJS=Jr.toArray,Jr.__toStringMapper=rn,Jr.inspect=Jr.toSource=function(){return this.toString()},Jr.chain=Jr.flatMap,Jr.contains=Jr.includes,Yr(n,{flip:function(){return pr(this,Xe(this))},mapEntries:function(t,e){var r=this,n=0;return pr(this,this.toSeq().map((function(o,i){return t.call(e,[i,o],n++,r)})).fromEntrySeq())},mapKeys:function(t,e){var r=this;return pr(this,this.toSeq().flip().map((function(n,o){return t.call(e,n,o,r)})).flip())}});var Xr=n.prototype;function Zr(t,e){return e}function Qr(t,e){return[e,t]}function tn(t){return function(){return!t.apply(this,arguments)}}function en(t){return function(){return-t.apply(this,arguments)}}function rn(t){return"string"==typeof t?JSON.stringify(t):String(t)}function nn(){return T(arguments)}function on(t,e){return t<e?1:t>e?-1:0}function an(t){if(t.size===1/0)return 0;var e=l(t),r=s(t),n=e?1:0;return sn(t.__iterate(r?e?function(t,e){n=31*n+cn(It(t),It(e))|0}:function(t,e){n=n+cn(It(t),It(e))|0}:e?function(t){n=31*n+It(t)|0}:function(t){n=n+It(t)|0}),n)}function sn(t,e){return e=jt(e,3432918353),e=jt(e<<15|e>>>-15,461845907),e=jt(e<<13|e>>>-13,5),e=jt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=xt((e=jt(e^e>>>13,3266489909))^e>>>16)}function cn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return Xr[f]=!0,Xr[P]=Jr.entries,Xr.__toJS=Jr.toObject,Xr.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+rn(t)},Yr(o,{toKeyedSeq:function(){return new Ve(this,!1)},filter:function(t,e){return pr(this,tr(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return pr(this,Qe(this,!1))},slice:function(t,e){return pr(this,nr(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=A(t,t<0?this.count():this.size);var n=this.slice(0,t);return pr(this,1===r?n:n.concat(T(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(t){return pr(this,sr(this,t,!1))},get:function(t,e){return(t=x(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,r){return r===t}),void 0,e)},has:function(t){return(t=x(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return pr(this,ur(this,t))},interleave:function(){var t=[this].concat(T(arguments)),e=hr(this.toSeq(),Y.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),pr(this,r)},keySeq:function(){return wt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return pr(this,ir(this,t,e,!1))},zip:function(){return pr(this,hr(this,nn,[this].concat(T(arguments))))},zipWith:function(t){var e=T(arguments);return e[0]=this,pr(this,hr(this,t,e))}}),o.prototype[h]=!0,o.prototype[p]=!0,Yr(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Jr.includes,i.prototype.contains=i.prototype.includes,Yr(G,n.prototype),Yr(Y,o.prototype),Yr(J,i.prototype),Yr(Et,n.prototype),Yr(kt,o.prototype),Yr(Tt,i.prototype),{Iterable:r,Seq:V,Collection:St,Map:Ft,OrderedMap:$e,List:ke,Stack:$r,Set:Ir,OrderedSet:Dr,Record:Sr,Range:wt,Repeat:_t,is:mt,fromJS:ht}}()},"./node_modules/transit-immutable-js/index.js":function(t,e,r){var n=r("./node_modules/transit-js/transit.js"),o=r("./node_modules/immutable/dist/immutable.js");function i(t,e,r){var n={iM:function(t){for(var e=o.Map().asMutable(),r=0;r<t.length;r+=2)e=e.set(t[r],t[r+1]);return e.asImmutable()},iOM:function(t){for(var e=o.OrderedMap().asMutable(),r=0;r<t.length;r+=2)e=e.set(t[r],t[r+1]);return e.asImmutable()},iL:function(t){return o.List(t)},iS:function(t){return o.Set(t)},iOS:function(t){return o.OrderedSet(t)},iR:function(t){var n=e[t.n];return n?new n(t.v):r(t.n,t.v)}};return t.forEach((function(t){n[t.tag]=t.read})),n}function a(t,e,r){function i(t){var e=0;r&&(t=t.filter(r));var n=new Array(2*t.size);return t.forEach((function(t,r){n[e++]=r,n[e++]=t})),n}var a=n.map([o.Map,n.makeWriteHandler({tag:function(){return"iM"},rep:i}),o.OrderedMap,n.makeWriteHandler({tag:function(){return"iOM"},rep:i}),o.List,n.makeWriteHandler({tag:function(){return"iL"},rep:function(t){return r&&(t=t.filter(r)),t.toArray()}}),o.Set,n.makeWriteHandler({tag:function(){return"iS"},rep:function(t){return r&&(t=t.filter(r)),t.toArray()}}),o.OrderedSet,n.makeWriteHandler({tag:function(){return"iOS"},rep:function(t){return r&&(t=t.filter(r)),t.toArray()}}),Function,n.makeWriteHandler({tag:function(){return"_"},rep:function(){return null}}),"default",n.makeWriteHandler({tag:function(){return"iM"},rep:function(t){if(!("toMap"in t)){var e="Error serializing unrecognized object "+t.toString();throw new Error(e)}return i(t.toMap())}})]);return Object.keys(e).forEach((function(t){a.set(e[t],function(t){return n.makeWriteHandler({tag:function(){return"iR"},rep:function(e){return{n:t,v:e.toObject()}}})}(t))})),t.forEach((function(t){a.set(t.class,n.makeWriteHandler({tag:function(){return t.tag},rep:t.write}))})),a}function s(t,e){var r=JSON.stringify(t);throw new Error(e.replace("%j",r))}function c(t){throw new Error("Tried to deserialize Record type named `"+t+"`, but no type with that name was passed to withRecords()")}function u(t){var e=t.records||{},r=t.filter||!1,n=t.missingRecordHandler||c,o=t.extras||[];return{read:i(o,e,n),write:a(o,e,r),withExtraHandlers:function(t){return function(t){Array.isArray(t)||s(t,"Expected array of handlers, got %j"),t.forEach((function(t){"string"!=typeof t.tag&&s(t,"Expected %j to have property 'tag' which is a string"),"function"!=typeof t.class&&s(t,"Expected %j to have property 'class' which is a constructor function"),"function"!=typeof t.write&&s(t,"Expected %j to have property 'write' which is a function"),"function"!=typeof t.read&&s(t,"Expected %j to have property 'write' which is a function")}))}(t),u({extras:o.concat(t),records:e,filter:r,missingRecordHandler:n})},withFilter:function(t){return u({extras:o,records:e,filter:t,missingRecordHandler:n})},withRecords:function(t,e){var n=function(t){var e={};return t.forEach((function(t){var r,n=(r=new t({}))._name||r.constructor.name||"Record";if(!n||"Record"===n)throw new Error("Cannot (de)serialize Record() without a name");if(e[n])throw new Error("There's already a constructor for a Record named "+n);e[n]=t})),e}(t);return u({extras:o,records:n,filter:r,missingRecordHandler:e})}}}t.exports=function t(e){var r=function(t){return n.reader("json",{mapBuilder:{init:function(){return{}},add:function(t,e,r){return t[e]=r,t},finalize:function(t){return t}},handlers:t})}(e.read),o=function(t){return n.writer("json",{handlers:t})}(e.write);return{toJSON:function(t){return o.write(t)},fromJSON:function(t){return r.read(t)},withExtraHandlers:function(r){return t(e.withExtraHandlers(r))},withFilter:function(r){return t(e.withFilter(r))},withRecords:function(r,n){return t(e.withRecords(r,n))}}}(u({})),t.exports.handlers=u({})},"./node_modules/transit-js/transit.js":function(module,exports,__webpack_require__){(function(global){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.checkStringArgs=function(t,e,r){if(null==t)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return t+""},$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,r){t!=Array.prototype&&t!=Object.prototype&&(t[e]=r.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,r,n){if(e){for(r=$jscomp.global,t=t.split("."),n=0;n<t.length-1;n++){var o=t[n];o in r||(r[o]={}),r=r[o]}(e=e(n=r[t=t[t.length-1]]))!=n&&null!=e&&$jscomp.defineProperty(r,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("String.prototype.repeat",(function(t){return t||function(t){var e=$jscomp.checkStringArgs(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var r="";t;)1&t&&(r+=e),(t>>>=1)&&(e+=e);return r}}),"es6-impl","es3"),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.iterator;t||(t=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(t){var e=0;return $jscomp.iteratorPrototype((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),(t={next:t})[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.iteratorFromArray=function(t,e){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var r=0,n={next:function(){if(r<t.length){var o=r++;return{value:e(o,t[o]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},$jscomp.polyfill("Array.prototype.entries",(function(t){return t||function(){return $jscomp.iteratorFromArray(this,(function(t,e){return[t,e]}))}}),"es6-impl","es3"),$jscomp.polyfill("Array.prototype.keys",(function(t){return t||function(){return $jscomp.iteratorFromArray(this,(function(t){return t}))}}),"es6-impl","es3"),$jscomp.polyfill("Array.prototype.values",(function(t){return t||function(){return $jscomp.iteratorFromArray(this,(function(t,e){return e}))}}),"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(t){return void 0!==t},goog.exportPath_=function(t,e,r){t=t.split("."),r=r||goog.global,t[0]in r||!r.execScript||r.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)!t.length&&goog.isDef(e)?r[n]=e:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}},goog.define=function(t,e){var r=e;goog.exportPath_(t,r)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(t){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");goog.constructNamespace_(t)},goog.constructNamespace_=function(t,e){goog.exportPath_(t,e)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(t){if(!goog.isString(t)||!t||-1==t.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+t+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=t},goog.module.get=function(t){return goog.module.getInternal_(t)},goog.module.getInternal_=function(t){return null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(t){if(goog.DISALLOW_TEST_ONLY_CODE)throw t=t||"",Error("Importing test-only code into non-debug environment"+(t?": "+t:"."))},goog.forwardDeclare=function(t){},goog.getObjectByName=function(t,e){for(var r,n=t.split("."),o=e||goog.global;r=n.shift();){if(!goog.isDefAndNotNull(o[r]))return null;o=o[r]}return o},goog.globalize=function(t,e){var r,n=e||goog.global;for(r in t)n[r]=t[r]},goog.addDependency=function(t,e,r,n){if(goog.DEPENDENCIES_ENABLED){var o;t=t.replace(/\\/g,"/");var i=goog.dependencies_;n&&"boolean"!=typeof n||(n=n?{module:"goog"}:{});for(var a=0;o=e[a];a++)i.nameToPath[o]=t,i.loadFlags[t]=n;for(n=0;e=r[n];n++)t in i.requires||(i.requires[t]={}),i.requires[t][e]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(t){goog.global.console&&goog.global.console.error(t)},goog.require=function(t){},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(t){t.instance_=void 0,t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.TRANSPILER="transpile.js",goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var t=goog.global.document;return null!=t&&"write"in t},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var t=goog.global.document.getElementsByTagName("SCRIPT"),e=t.length-1;0<=e;--e){var r=t[e].src,n=-1==(n=r.lastIndexOf("?"))?r.length:n;if("base.js"==r.substr(n-7,7)){goog.basePath=r.substr(0,n-7);break}}},goog.importScript_=function(t,e){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(t,e)&&(goog.dependencies_.written[t]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.oldIeWaiting_=!1,goog.importProcessedScript_=function(t,e,r){goog.importScript_("",'goog.retrieveAndExec_("'+t+'", '+e+", "+r+");")},goog.queuedModules_=[],goog.wrapModule_=function(t,e){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+t+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+t+"\n"},goog.loadQueuedModules_=function(){var t=goog.queuedModules_.length;if(0<t){var e=goog.queuedModules_;goog.queuedModules_=[];for(var r=0;r<t;r++)goog.maybeProcessDeferredPath_(e[r])}goog.oldIeWaiting_=!1},goog.maybeProcessDeferredDep_=function(t){goog.isDeferredModule_(t)&&goog.allDepsAreAvailable_(t)&&(t=goog.getPathFromDeps_(t),goog.maybeProcessDeferredPath_(goog.basePath+t))},goog.isDeferredModule_=function(t){var e=(t=goog.getPathFromDeps_(t))&&goog.dependencies_.loadFlags[t]||{},r=e.lang||"es3";return!(!t||"goog"!=e.module&&!goog.needsTranspile_(r))&&goog.basePath+t in goog.dependencies_.deferred},goog.allDepsAreAvailable_=function(t){if((t=goog.getPathFromDeps_(t))&&t in goog.dependencies_.requires)for(var e in goog.dependencies_.requires[t])if(!goog.isProvided_(e)&&!goog.isDeferredModule_(e))return!1;return!0},goog.maybeProcessDeferredPath_=function(t){if(t in goog.dependencies_.deferred){var e=goog.dependencies_.deferred[t];delete goog.dependencies_.deferred[t],goog.globalEval(e)}},goog.loadModuleFromUrl=function(t){goog.retrieveAndExec_(t,!0,!1)},goog.writeScriptSrcNode_=function(t){goog.global.document.write('<script type="text/javascript" src="'+t+'"><\/script>')},goog.appendScriptSrcNode_=function(t){var e=goog.global.document,r=e.createElement("script");r.type="text/javascript",r.src=t,r.defer=!1,r.async=!1,e.head.appendChild(r)},goog.writeScriptTag_=function(t,e){if(goog.inHtmlDocument_()){var r=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==r.readyState){if(/\bdeps.js$/.test(t))return!1;throw Error('Cannot write "'+t+'" after document load')}if(void 0===e)if(goog.IS_OLD_IE_){goog.oldIeWaiting_=!0;var n=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";r.write('<script type="text/javascript" src="'+t+'"'+n+"><\/script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(t):goog.writeScriptSrcNode_(t);else r.write('<script type="text/javascript">'+goog.protectScriptTag_(e)+"<\/script>");return!0}return!1},goog.protectScriptTag_=function(t){return t.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.needsTranspile_=function(t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(goog.requiresTranspilation_||(goog.requiresTranspilation_=goog.createRequiresTranspilation_()),t in goog.requiresTranspilation_)return goog.requiresTranspilation_[t];throw Error("Unknown language mode: "+t)},goog.requiresTranspilation_=null,goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(t,e){return"complete"==t.readyState&&goog.lastNonModuleScriptIndex_==e&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(t){var e=[],r={},n=goog.dependencies_;!function t(o){if(!(o in n.written)&&!(o in n.visited)){if(n.visited[o]=!0,o in n.requires)for(var i in n.requires[o])if(!goog.isProvided_(i)){if(!(i in n.nameToPath))throw Error("Undefined nameToPath for "+i);t(n.nameToPath[i])}o in r||(r[o]=!0,e.push(o))}}(t);for(var o=0;o<e.length;o++)t=e[o],goog.dependencies_.written[t]=!0;var i=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,o=0;o<e.length;o++){if(!(t=e[o]))throw goog.moduleLoaderState_=i,Error("Undefined script input");var a=n.loadFlags[t]||{},s=goog.needsTranspile_(a.lang||"es3");"goog"==a.module||s?goog.importProcessedScript_(goog.basePath+t,"goog"==a.module,s):goog.importScript_(goog.basePath+t)}goog.moduleLoaderState_=i},goog.getPathFromDeps_=function(t){return t in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[t]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(t){return"(function(){"+t+"\n;})();\n"},goog.loadModule=function(t){var e=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1},goog.isFunction(t))var r=t.call(void 0,{});else{if(!goog.isString(t))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(t=goog.workaroundSafari10EvalBug(t)),r=goog.loadModuleFromSource_.call(void 0,t)}var n=goog.moduleLoaderState_.moduleName;if(!goog.isString(n)||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[n]=r}finally{goog.moduleLoaderState_=e}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(t){t=t.split("/");for(var e=0;e<t.length;)"."==t[e]?t.splice(e,1):e&&".."==t[e]&&t[e-1]&&".."!=t[e-1]?t.splice(--e,2):e++;return t.join("/")},goog.loadFileSync_=function(t){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(t);try{var e=new goog.global.XMLHttpRequest;return e.open("get",t,!1),e.send(),0==e.status||200==e.status?e.responseText:null}catch(r){return null}},goog.retrieveAndExec_=function(t,e,r){},goog.transpile_=function(a,b){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var e=goog.basePath+goog.TRANSPILER,f=goog.loadFileSync_(e);if(f){if(eval(f+"\n//# sourceURL="+e),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,c=goog.global.$jscomp,d=c.transpile}}return d||(d=c.transpile=function(t,e){return goog.logToConsole_(e+" requires transpilation but no transpiler was found."),t}),d(a,b)},goog.typeOf=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var r=Object.prototype.toString.call(t);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},goog.isNull=function(t){return null===t},goog.isDefAndNotNull=function(t){return null!=t},goog.isArray=function(t){return"array"==goog.typeOf(t)},goog.isArrayLike=function(t){var e=goog.typeOf(t);return"array"==e||"object"==e&&"number"==typeof t.length},goog.isDateLike=function(t){return goog.isObject(t)&&"function"==typeof t.getFullYear},goog.isString=function(t){return"string"==typeof t},goog.isBoolean=function(t){return"boolean"==typeof t},goog.isNumber=function(t){return"number"==typeof t},goog.isFunction=function(t){return"function"==goog.typeOf(t)},goog.isObject=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},goog.getUid=function(t){return t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]},goog.removeUid=function(t){null!==t&&"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_);try{delete t[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(t){if("object"==(r=goog.typeOf(t))||"array"==r){if(t.clone)return t.clone();var e,r="array"==r?[]:{};for(e in t)r[e]=goog.cloneObject(t[e]);return r}return t},goog.bindNative_=function(t,e,r){return t.call.apply(t.bind,arguments)},goog.bindJs_=function(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}},goog.bind=function(t,e,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var e=r.slice();return e.push.apply(e,arguments),t.apply(this,e)}},goog.mixin=function(t,e){for(var r in e)t[r]=e[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(t){if(goog.global.execScript)goog.global.execScript(t,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(n){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(t);else{var e=goog.global.document,r=e.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(e.createTextNode(t)),e.body.appendChild(r),e.body.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(t,e){if("."==String(t).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+t);var r=function(t){return goog.cssNameMapping_[t]||t},n=function(t){t=t.split("-");for(var e=[],n=0;n<t.length;n++)e.push(r(t[n]));return e.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(t){return t},n=e?t+"-"+n(e):n(t),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(n):n},goog.setCssNameMapping=function(t,e){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=e},goog.getMsg=function(t,e){return e&&(t=t.replace(/\{\$([^}]+)}/g,(function(t,r){return null!=e&&r in e?e[r]:t}))),t},goog.getMsgWithFallback=function(t,e){return t},goog.exportSymbol=function(t,e,r){goog.exportPath_(t,e,r)},goog.exportProperty=function(t,e,r){t[e]=r},goog.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.base=function(t,r,n){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[r].apply(t,o)}},goog.base=function(t,e,r){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(n.superClass_){for(var o=Array(arguments.length-1),i=1;i<arguments.length;i++)o[i-1]=arguments[i];return n.superClass_.constructor.apply(t,o)}for(o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];i=!1;for(var a=t.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[e]===n)i=!0;else if(i)return a.prototype[e].apply(t,o);if(t[e]===n)return t.constructor.prototype[e].apply(t,o);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(t){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");t.call(goog.global)},goog.defineClass=function(t,e){var r=e.constructor,n=e.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,t),t&&goog.inherits(r,t),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(r.prototype,e),null!=n&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(t,e){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return t;var r=!goog.defineClass.isUnsealable_(e),n=function(){var e=t.apply(this,arguments)||this;return e[goog.UID_PROPERTY_]=e[goog.UID_PROPERTY_],this.constructor===n&&r&&Object.seal instanceof Function&&Object.seal(e),e};return n},goog.defineClass.isUnsealable_=function(t){return t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},goog.tagUnsealableClass=function(t){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.createRequiresTranspilation_=function(){function a(t,e){d?c[t]=!0:e()?c[t]=!1:d=c[t]=!0}function b(a){try{return!!eval(a)}catch(g){return!1}}var c={es3:!1},d=!1,e=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",(function(){return b("[1,].length==1")})),a("es6",(function(){var t=e.match(/Edge\/(\d+)(\.\d)*/i);return!(t&&15>Number(t[1]))&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')})),a("es6-impl",(function(){return!0})),a("es7",(function(){return b("2 ** 2 == 4")})),a("es8",(function(){return b("async () => 1, true")})),c},goog.debug={},goog.debug.Error=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(t,e){return 0==t.lastIndexOf(e,0)},goog.string.endsWith=function(t,e){var r=t.length-e.length;return 0<=r&&t.indexOf(e,r)==r},goog.string.caseInsensitiveStartsWith=function(t,e){return 0==goog.string.caseInsensitiveCompare(e,t.substr(0,e.length))},goog.string.caseInsensitiveEndsWith=function(t,e){return 0==goog.string.caseInsensitiveCompare(e,t.substr(t.length-e.length,e.length))},goog.string.caseInsensitiveEquals=function(t,e){return t.toLowerCase()==e.toLowerCase()},goog.string.subs=function(t,e){for(var r=t.split("%s"),n="",o=Array.prototype.slice.call(arguments,1);o.length&&1<r.length;)n+=r.shift()+o.shift();return n+r.join("%s")},goog.string.collapseWhitespace=function(t){return t.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(t){return/^[\s\xa0]*$/.test(t)},goog.string.isEmptyString=function(t){return 0==t.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(t){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(t){return!/[^\t\n\r ]/.test(t)},goog.string.isAlpha=function(t){return!/[^a-zA-Z]/.test(t)},goog.string.isNumeric=function(t){return!/[^0-9]/.test(t)},goog.string.isAlphaNumeric=function(t){return!/[^a-zA-Z0-9]/.test(t)},goog.string.isSpace=function(t){return" "==t},goog.string.isUnicodeChar=function(t){return 1==t.length&&" "<=t&&"~">=t||""<=t&&"�">=t},goog.string.stripNewlines=function(t){return t.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(t){return t.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(t){return t.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(t){return t.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(t){return t.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(t){return t.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(t){return t.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(t,e){var r=String(t).toLowerCase(),n=String(e).toLowerCase();return r<n?-1:r==n?0:1},goog.string.numberAwareCompare_=function(t,e,r){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=t.toLowerCase().match(r),o=e.toLowerCase().match(r),i=Math.min(n.length,o.length),a=0;a<i;a++){r=n[a];var s=o[a];if(r!=s)return t=parseInt(r,10),!isNaN(t)&&(e=parseInt(s,10),!isNaN(e)&&t-e)?t-e:r<s?-1:1}return n.length!=o.length?n.length-o.length:t<e?-1:1},goog.string.intAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\D+/g)},goog.string.floatAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(t){return encodeURIComponent(String(t))},goog.string.urlDecode=function(t){return decodeURIComponent(t.replace(/\+/g," "))},goog.string.newLineToBr=function(t,e){return t.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>")},goog.string.htmlEscape=function(t,e){if(e)t=t.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(t=t.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(t))return t;-1!=t.indexOf("&")&&(t=t.replace(goog.string.AMP_RE_,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(goog.string.LT_RE_,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(goog.string.GT_RE_,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(goog.string.QUOT_RE_,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=t.indexOf("e")&&(t=t.replace(goog.string.E_RE_,"&#101;"))}return t},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(t){return goog.string.contains(t,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(t):goog.string.unescapePureXmlEntities_(t):t},goog.string.unescapeEntitiesWithDocument=function(t,e){return goog.string.contains(t,"&")?goog.string.unescapeEntitiesUsingDom_(t,e):t},goog.string.unescapeEntitiesUsingDom_=function(t,e){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=e?e.createElement("div"):goog.global.document.createElement("div");return t.replace(goog.string.HTML_ENTITY_PATTERN_,(function(t,e){var o=r[t];if(o)return o;if("#"==e.charAt(0)){var i=Number("0"+e.substr(1));isNaN(i)||(o=String.fromCharCode(i))}return o||(n.innerHTML=t+" ",o=n.firstChild.nodeValue.slice(0,-1)),r[t]=o}))},goog.string.unescapePureXmlEntities_=function(t){return t.replace(/&([^;]+);/g,(function(t,e){switch(e){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==e.charAt(0)){var r=Number("0"+e.substr(1));if(!isNaN(r))return String.fromCharCode(r)}return t}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(t,e){return goog.string.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.preserveSpaces=function(t){return t.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(t,e){for(var r=e.length,n=0;n<r;n++){var o=1==r?e:e.charAt(n);if(t.charAt(0)==o&&t.charAt(t.length-1)==o)return t.substring(1,t.length-1)}return t},goog.string.truncate=function(t,e,r){return r&&(t=goog.string.unescapeEntities(t)),t.length>e&&(t=t.substring(0,e-3)+"..."),r&&(t=goog.string.htmlEscape(t)),t},goog.string.truncateMiddle=function(t,e,r,n){if(r&&(t=goog.string.unescapeEntities(t)),n&&t.length>e){n>e&&(n=e);var o=t.length-n;t=t.substring(0,e-n)+"..."+t.substring(o)}else t.length>e&&(n=Math.floor(e/2),o=t.length-n,t=t.substring(0,n+e%2)+"..."+t.substring(o));return r&&(t=goog.string.htmlEscape(t)),t},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(t){t=String(t);for(var e=['"'],r=0;r<t.length;r++){var n=t.charAt(r),o=n.charCodeAt(0);e[r+1]=goog.string.specialEscapeChars_[n]||(31<o&&127>o?n:goog.string.escapeChar(n))}return e.push('"'),e.join("")},goog.string.escapeString=function(t){for(var e=[],r=0;r<t.length;r++)e[r]=goog.string.escapeChar(t.charAt(r));return e.join("")},goog.string.escapeChar=function(t){if(t in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[t];if(t in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[t]=goog.string.specialEscapeChars_[t];var e=t.charCodeAt(0);if(31<e&&127>e)var r=t;else 256>e?(r="\\x",(16>e||256<e)&&(r+="0")):(r="\\u",4096>e&&(r+="0")),r+=e.toString(16).toUpperCase();return goog.string.jsEscapeCache_[t]=r},goog.string.contains=function(t,e){return-1!=t.indexOf(e)},goog.string.caseInsensitiveContains=function(t,e){return goog.string.contains(t.toLowerCase(),e.toLowerCase())},goog.string.countOf=function(t,e){return t&&e?t.split(e).length-1:0},goog.string.removeAt=function(t,e,r){var n=t;return 0<=e&&e<t.length&&0<r&&(n=t.substr(0,e)+t.substr(e+r,t.length-e-r)),n},goog.string.remove=function(t,e){return t.replace(e,"")},goog.string.removeAll=function(t,e){var r=new RegExp(goog.string.regExpEscape(e),"g");return t.replace(r,"")},goog.string.replaceAll=function(t,e,r){return e=new RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(t){return String(t).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(t,e){return t.repeat(e)}:function(t,e){return Array(e+1).join(t)},goog.string.padNumber=function(t,e,r){return-1==(r=(t=goog.isDef(r)?t.toFixed(r):String(t)).indexOf("."))&&(r=t.length),goog.string.repeat("0",Math.max(0,e-r))+t},goog.string.makeSafe=function(t){return null==t?"":String(t)},goog.string.buildString=function(t){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(t,e){for(var r=0,n=goog.string.trim(String(t)).split("."),o=goog.string.trim(String(e)).split("."),i=Math.max(n.length,o.length),a=0;0==r&&a<i;a++){var s=n[a]||"",c=o[a]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==s[0].length&&0==c[0].length)break;r=0==s[1].length?0:parseInt(s[1],10);var u=0==c[1].length?0:parseInt(c[1],10);r=goog.string.compareElements_(r,u)||goog.string.compareElements_(0==s[2].length,0==c[2].length)||goog.string.compareElements_(s[2],c[2]),s=s[3],c=c[3]}while(0==r)}return r},goog.string.compareElements_=function(t,e){return t<e?-1:t>e?1:0},goog.string.hashCode=function(t){for(var e=0,r=0;r<t.length;++r)e=31*e+t.charCodeAt(r)>>>0;return e},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(t){var e=Number(t);return 0==e&&goog.string.isEmptyOrWhitespace(t)?NaN:e},goog.string.isLowerCamelCase=function(t){return/^[a-z]+([A-Z][a-z]*)*$/.test(t)},goog.string.isUpperCamelCase=function(t){return/^([A-Z][a-z]*)+$/.test(t)},goog.string.toCamelCase=function(t){return String(t).replace(/\-([a-z])/g,(function(t,e){return e.toUpperCase()}))},goog.string.toSelectorCase=function(t){return String(t).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(t,e){var r=goog.isString(e)?goog.string.regExpEscape(e):"\\s";return t.replace(new RegExp("(^"+(r?"|["+r+"]+":"")+")([a-z])","g"),(function(t,e,r){return e+r.toUpperCase()}))},goog.string.capitalize=function(t){return String(t.charAt(0)).toUpperCase()+String(t.substr(1)).toLowerCase()},goog.string.parseInt=function(t){return isFinite(t)&&(t=String(t)),goog.isString(t)?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN},goog.string.splitLimit=function(t,e,r){t=t.split(e);for(var n=[];0<r&&t.length;)n.push(t.shift()),r--;return t.length&&n.push(t.join(e)),n},goog.string.lastComponent=function(t,e){if(!e)return t;"string"==typeof e&&(e=[e]);for(var r=-1,n=0;n<e.length;n++)if(""!=e[n]){var o=t.lastIndexOf(e[n]);o>r&&(r=o)}return-1==r?t:t.slice(r+1)},goog.string.editDistance=function(t,e){var r=[],n=[];if(t==e)return 0;if(!t.length||!e.length)return Math.max(t.length,e.length);for(var o=0;o<e.length+1;o++)r[o]=o;for(o=0;o<t.length;o++){n[0]=o+1;for(var i=0;i<e.length;i++)n[i+1]=Math.min(n[i]+1,r[i+1]+1,r[i]+Number(t[o]!=e[i]));for(i=0;i<r.length;i++)r[i]=n[i]}return n[e.length]},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(t,e){e.unshift(t),goog.debug.Error.call(this,goog.string.subs.apply(null,e)),e.shift(),this.messagePattern=t},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(t){throw t},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(t,e,r,n){var o="Assertion failed";if(r){o+=": "+r;var i=n}else t&&(o+=": "+t,i=e);t=new goog.asserts.AssertionError(""+o,i||[]),goog.asserts.errorHandler_(t)},goog.asserts.setErrorHandler=function(t){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=t)},goog.asserts.assert=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!t&&goog.asserts.doAssertFailure_("",null,e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.fail=function(t,e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(t)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertString=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(t)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertFunction=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(t)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObject=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(t)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertArray=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(t)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertBoolean=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(t)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertElement=function(t,e,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(t)&&t.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertInstanceof=function(t,e,r,n){return!goog.asserts.ENABLE_ASSERTS||t instanceof e||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(e),goog.asserts.getType_(t)],r,Array.prototype.slice.call(arguments,3)),t},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var t in Object.prototype)goog.asserts.fail(t+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):null===t?"null":typeof t},goog.object={},goog.object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},goog.object.forEach=function(t,e,r){for(var n in t)e.call(r,t[n],n,t)},goog.object.filter=function(t,e,r){var n,o={};for(n in t)e.call(r,t[n],n,t)&&(o[n]=t[n]);return o},goog.object.map=function(t,e,r){var n,o={};for(n in t)o[n]=e.call(r,t[n],n,t);return o},goog.object.some=function(t,e,r){for(var n in t)if(e.call(r,t[n],n,t))return!0;return!1},goog.object.every=function(t,e,r){for(var n in t)if(!e.call(r,t[n],n,t))return!1;return!0},goog.object.getCount=function(t){var e,r=0;for(e in t)r++;return r},goog.object.getAnyKey=function(t){for(var e in t)return e},goog.object.getAnyValue=function(t){for(var e in t)return t[e]},goog.object.contains=function(t,e){return goog.object.containsValue(t,e)},goog.object.getValues=function(t){var e,r=[],n=0;for(e in t)r[n++]=t[e];return r},goog.object.getKeys=function(t){var e,r=[],n=0;for(e in t)r[n++]=e;return r},goog.object.getValueByKeys=function(t,e){for(var r=(n=goog.isArrayLike(e))?e:arguments,n=n?0:1;n<r.length&&(t=t[r[n]],goog.isDef(t));n++);return t},goog.object.containsKey=function(t,e){return null!==t&&e in t},goog.object.containsValue=function(t,e){for(var r in t)if(t[r]==e)return!0;return!1},goog.object.findKey=function(t,e,r){for(var n in t)if(e.call(r,t[n],n,t))return n},goog.object.findValue=function(t,e,r){return(e=goog.object.findKey(t,e,r))&&t[e]},goog.object.isEmpty=function(t){for(var e in t)return!1;return!0},goog.object.clear=function(t){for(var e in t)delete t[e]},goog.object.remove=function(t,e){var r;return(r=e in t)&&delete t[e],r},goog.object.add=function(t,e,r){if(null!==t&&e in t)throw Error('The object already contains the key "'+e+'"');goog.object.set(t,e,r)},goog.object.get=function(t,e,r){return null!==t&&e in t?t[e]:r},goog.object.set=function(t,e,r){t[e]=r},goog.object.setIfUndefined=function(t,e,r){return e in t?t[e]:t[e]=r},goog.object.setWithReturnValueIfNotSet=function(t,e,r){return e in t?t[e]:(r=r(),t[e]=r)},goog.object.equals=function(t,e){for(var r in t)if(!(r in e)||t[r]!==e[r])return!1;for(r in e)if(!(r in t))return!1;return!0},goog.object.clone=function(t){var e,r={};for(e in t)r[e]=t[e];return r},goog.object.unsafeClone=function(t){if("object"==(r=goog.typeOf(t))||"array"==r){if(goog.isFunction(t.clone))return t.clone();var e,r="array"==r?[]:{};for(e in t)r[e]=goog.object.unsafeClone(t[e]);return r}return t},goog.object.transpose=function(t){var e,r={};for(e in t)r[t[e]]=e;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(t,e){for(var r,n,o=1;o<arguments.length;o++){for(r in n=arguments[o])t[r]=n[r];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)r=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}},goog.object.create=function(t){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var r={},n=0;n<e;n+=2)r[arguments[n]]=arguments[n+1];return r},goog.object.createSet=function(t){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},n=0;n<e;n++)r[arguments[n]]=!0;return r},goog.object.createImmutableView=function(t){var e=t;return Object.isFrozen&&!Object.isFrozen(t)&&(e=Object.create(t),Object.freeze(e)),e},goog.object.isImmutableView=function(t){return!!Object.isFrozen&&Object.isFrozen(t)},goog.object.getAllPropertyNames=function(t,e,r){if(!t)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(t);for(var n={};t&&(t!==Object.prototype||e)&&(t!==Function.prototype||r);){for(var o=Object.getOwnPropertyNames(t),i=0;i<o.length;i++)n[o[i]]=!0;t=Object.getPrototypeOf(t)}return goog.object.getKeys(n)},goog.reflect={},goog.reflect.object=function(t,e){return e},goog.reflect.objectProperty=function(t,e){return t},goog.reflect.sinkValue=function(t){return goog.reflect.sinkValue[" "](t),t},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(t,e){try{return goog.reflect.sinkValue(t[e]),!0}catch(r){}return!1},goog.reflect.cache=function(t,e,r,n){return n=n?n(e):e,Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=r(e)},goog.math={},goog.math.Long=function(t,e){this.low_=0|t,this.high_=0|e},goog.math.Long.IntCache_={},goog.math.Long.valueCache_={},goog.math.Long.getCachedIntValue_=function(t){return goog.reflect.cache(goog.math.Long.IntCache_,t,(function(t){return new goog.math.Long(t,0>t?-1:0)}))},goog.math.Long.MAX_VALUE_FOR_RADIX_="  111111111111111111111111111111111111111111111111111111111111111 2021110011022210012102010021220101220221 13333333333333333333333333333333 1104332401304422434310311212 1540241003031030222122211 22341010611245052052300 777777777777777777777 67404283172107811827 9223372036854775807 1728002635214590697 41a792678515120367 10b269549075433c37 4340724c6c71dc7a7 160e2ad3246366807 7fffffffffffffff 33d3d8307b214008 16agh595df825fa7 ba643dci0ffeehh 5cbfjia3fh26ja7 2heiciiie82dh97 1adaibb21dckfa7 i6k448cf4192c2 acd772jnc9l0l7 64ie1focnn5g77 3igoecjbmca687 27c48l5b37oaop 1bk39f3ah3dmq7 q1se8f0m04isb hajppbc1fc207 bm03i95hia437 7vvvvvvvvvvvv 5hg4ck9jd4u37 3tdtk1v8j6tpp 2pijmikexrxp7 1y2p0ij32e8e7".split(" "),goog.math.Long.MIN_VALUE_FOR_RADIX_="  -1000000000000000000000000000000000000000000000000000000000000000 -2021110011022210012102010021220101220222 -20000000000000000000000000000000 -1104332401304422434310311213 -1540241003031030222122212 -22341010611245052052301 -1000000000000000000000 -67404283172107811828 -9223372036854775808 -1728002635214590698 -41a792678515120368 -10b269549075433c38 -4340724c6c71dc7a8 -160e2ad3246366808 -8000000000000000 -33d3d8307b214009 -16agh595df825fa8 -ba643dci0ffeehi -5cbfjia3fh26ja8 -2heiciiie82dh98 -1adaibb21dckfa8 -i6k448cf4192c3 -acd772jnc9l0l8 -64ie1focnn5g78 -3igoecjbmca688 -27c48l5b37oaoq -1bk39f3ah3dmq8 -q1se8f0m04isc -hajppbc1fc208 -bm03i95hia438 -8000000000000 -5hg4ck9jd4u38 -3tdtk1v8j6tpq -2pijmikexrxp8 -1y2p0ij32e8e8".split(" "),goog.math.Long.fromInt=function(t){var e=0|t;return goog.asserts.assert(t===e,"value should be a 32-bit integer"),-128<=e&&128>e?goog.math.Long.getCachedIntValue_(e):new goog.math.Long(e,0>e?-1:0)},goog.math.Long.fromNumber=function(t){return isNaN(t)?goog.math.Long.getZero():t<=-goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.getMinValue():t+1>=goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.getMaxValue():0>t?goog.math.Long.fromNumber(-t).negate():new goog.math.Long(t%goog.math.Long.TWO_PWR_32_DBL_|0,t/goog.math.Long.TWO_PWR_32_DBL_|0)},goog.math.Long.fromBits=function(t,e){return new goog.math.Long(t,e)},goog.math.Long.fromString=function(t,e){if(0==t.length)throw Error("number format error: empty string");var r=e||10;if(2>r||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return goog.math.Long.fromString(t.substring(1),r).negate();if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character: '+t);for(var n=goog.math.Long.fromNumber(Math.pow(r,8)),o=goog.math.Long.getZero(),i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+a),r);8>a?(a=goog.math.Long.fromNumber(Math.pow(r,a)),o=o.multiply(a).add(goog.math.Long.fromNumber(s))):o=(o=o.multiply(n)).add(goog.math.Long.fromNumber(s))}return o},goog.math.Long.isStringInRange=function(t,e){var r=e||10;if(2>r||36<r)throw Error("radix out of range: "+r);return r="-"==t.charAt(0)?goog.math.Long.MIN_VALUE_FOR_RADIX_[r]:goog.math.Long.MAX_VALUE_FOR_RADIX_[r],t.length<r.length||t.length==r.length&&t<=r},goog.math.Long.TWO_PWR_16_DBL_=65536,goog.math.Long.TWO_PWR_32_DBL_=goog.math.Long.TWO_PWR_16_DBL_*goog.math.Long.TWO_PWR_16_DBL_,goog.math.Long.TWO_PWR_64_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_32_DBL_,goog.math.Long.TWO_PWR_63_DBL_=goog.math.Long.TWO_PWR_64_DBL_/2,goog.math.Long.getZero=function(){return goog.math.Long.getCachedIntValue_(0)},goog.math.Long.getOne=function(){return goog.math.Long.getCachedIntValue_(1)},goog.math.Long.getNegOne=function(){return goog.math.Long.getCachedIntValue_(-1)},goog.math.Long.getMaxValue=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.MAX_VALUE,(function(){return goog.math.Long.fromBits(-1,2147483647)}))},goog.math.Long.getMinValue=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.MIN_VALUE,(function(){return goog.math.Long.fromBits(0,-2147483648)}))},goog.math.Long.getTwoPwr24=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.TWO_PWR_24,(function(){return goog.math.Long.fromInt(16777216)}))},goog.math.Long.prototype.toInt=function(){return this.low_},goog.math.Long.prototype.toNumber=function(){return this.high_*goog.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},goog.math.Long.prototype.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(goog.math.Long.getMinValue())){var e=goog.math.Long.fromNumber(t),r=this.div(e);return e=r.multiply(e).subtract(this),r.toString(t)+e.toInt().toString(t)}return"-"+this.negate().toString(t)}r=goog.math.Long.fromNumber(Math.pow(t,6)),e=this;for(var n="";;){var o=e.div(r),i=(e.subtract(o.multiply(r)).toInt()>>>0).toString(t);if((e=o).isZero())return i+n;for(;6>i.length;)i="0"+i;n=""+i+n}},goog.math.Long.prototype.getHighBits=function(){return this.high_},goog.math.Long.prototype.getLowBits=function(){return this.low_},goog.math.Long.prototype.getLowBitsUnsigned=function(){return 0<=this.low_?this.low_:goog.math.Long.TWO_PWR_32_DBL_+this.low_},goog.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(goog.math.Long.getMinValue())?64:this.negate().getNumBitsAbs();for(var t=0!=this.high_?this.high_:this.low_,e=31;0<e&&0==(t&1<<e);e--);return 0!=this.high_?e+33:e+1},goog.math.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_},goog.math.Long.prototype.isNegative=function(){return 0>this.high_},goog.math.Long.prototype.isOdd=function(){return 1==(1&this.low_)},goog.math.Long.prototype.equals=function(t){return this.high_==t.high_&&this.low_==t.low_},goog.math.Long.prototype.notEquals=function(t){return this.high_!=t.high_||this.low_!=t.low_},goog.math.Long.prototype.lessThan=function(t){return 0>this.compare(t)},goog.math.Long.prototype.lessThanOrEqual=function(t){return 0>=this.compare(t)},goog.math.Long.prototype.greaterThan=function(t){return 0<this.compare(t)},goog.math.Long.prototype.greaterThanOrEqual=function(t){return 0<=this.compare(t)},goog.math.Long.prototype.compare=function(t){if(this.equals(t))return 0;var e=this.isNegative(),r=t.isNegative();return e&&!r?-1:!e&&r?1:this.subtract(t).isNegative()?-1:1},goog.math.Long.prototype.negate=function(){return this.equals(goog.math.Long.getMinValue())?goog.math.Long.getMinValue():this.not().add(goog.math.Long.getOne())},goog.math.Long.prototype.add=function(t){var e=this.high_>>>16,r=65535&this.high_,n=this.low_>>>16,o=t.high_>>>16,i=65535&t.high_,a=t.low_>>>16;return n=0+((a=0+((t=(65535&this.low_)+(65535&t.low_)+0)>>>16)+(n+a))>>>16),e=0+((n+=r+i)>>>16)+(e+o)&65535,goog.math.Long.fromBits((65535&a)<<16|65535&t,e<<16|65535&n)},goog.math.Long.prototype.subtract=function(t){return this.add(t.negate())},goog.math.Long.prototype.multiply=function(t){if(this.isZero()||t.isZero())return goog.math.Long.getZero();if(this.equals(goog.math.Long.getMinValue()))return t.isOdd()?goog.math.Long.getMinValue():goog.math.Long.getZero();if(t.equals(goog.math.Long.getMinValue()))return this.isOdd()?goog.math.Long.getMinValue():goog.math.Long.getZero();if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(goog.math.Long.getTwoPwr24())&&t.lessThan(goog.math.Long.getTwoPwr24()))return goog.math.Long.fromNumber(this.toNumber()*t.toNumber());var e=this.high_>>>16,r=65535&this.high_,n=this.low_>>>16,o=65535&this.low_,i=t.high_>>>16,a=65535&t.high_,s=t.low_>>>16,c=0+o*(t=65535&t.low_),u=0+(c>>>16)+n*t,l=0+(u>>>16);l+=(u=(65535&u)+o*s)>>>16;var g=0+((l+=r*t)>>>16);return g=(g+=(l=(65535&l)+n*s)>>>16)+((l=(65535&l)+o*a)>>>16)+(e*t+r*s+n*a+o*i)&65535,goog.math.Long.fromBits((65535&u)<<16|65535&c,g<<16|65535&l)},goog.math.Long.prototype.div=function(t){if(t.isZero())throw Error("division by zero");if(this.isZero())return goog.math.Long.getZero();if(this.equals(goog.math.Long.getMinValue())){if(t.equals(goog.math.Long.getOne())||t.equals(goog.math.Long.getNegOne()))return goog.math.Long.getMinValue();if(t.equals(goog.math.Long.getMinValue()))return goog.math.Long.getOne();var e=this.shiftRight(1);if((e=e.div(t).shiftLeft(1)).equals(goog.math.Long.getZero()))return t.isNegative()?goog.math.Long.getOne():goog.math.Long.getNegOne();var r=this.subtract(t.multiply(e));return e.add(r.div(t))}if(t.equals(goog.math.Long.getMinValue()))return goog.math.Long.getZero();if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();var n=goog.math.Long.getZero();for(r=this;r.greaterThanOrEqual(t);){e=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var o=48>=(o=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,o-48),i=goog.math.Long.fromNumber(e),a=i.multiply(t);a.isNegative()||a.greaterThan(r);)e-=o,a=(i=goog.math.Long.fromNumber(e)).multiply(t);i.isZero()&&(i=goog.math.Long.getOne()),n=n.add(i),r=r.subtract(a)}return n},goog.math.Long.prototype.modulo=function(t){return this.subtract(this.div(t).multiply(t))},goog.math.Long.prototype.not=function(){return goog.math.Long.fromBits(~this.low_,~this.high_)},goog.math.Long.prototype.and=function(t){return goog.math.Long.fromBits(this.low_&t.low_,this.high_&t.high_)},goog.math.Long.prototype.or=function(t){return goog.math.Long.fromBits(this.low_|t.low_,this.high_|t.high_)},goog.math.Long.prototype.xor=function(t){return goog.math.Long.fromBits(this.low_^t.low_,this.high_^t.high_)},goog.math.Long.prototype.shiftLeft=function(t){if(0==(t&=63))return this;var e=this.low_;return 32>t?goog.math.Long.fromBits(e<<t,this.high_<<t|e>>>32-t):goog.math.Long.fromBits(0,e<<t-32)},goog.math.Long.prototype.shiftRight=function(t){if(0==(t&=63))return this;var e=this.high_;return 32>t?goog.math.Long.fromBits(this.low_>>>t|e<<32-t,e>>t):goog.math.Long.fromBits(e>>t-32,0<=e?0:-1)},goog.math.Long.prototype.shiftRightUnsigned=function(t){if(0==(t&=63))return this;var e=this.high_;return 32>t?goog.math.Long.fromBits(this.low_>>>t|e<<32-t,e>>>t):32==t?goog.math.Long.fromBits(e,0):goog.math.Long.fromBits(e>>>t-32,0)},goog.math.Long.ValueCacheId_={MAX_VALUE:1,MIN_VALUE:2,TWO_PWR_24:6};var com={cognitect:{}};com.cognitect.transit={},com.cognitect.transit.delimiters={},com.cognitect.transit.delimiters.ESC="~",com.cognitect.transit.delimiters.TAG="#",com.cognitect.transit.delimiters.SUB="^",com.cognitect.transit.delimiters.RES="`",com.cognitect.transit.delimiters.ESC_TAG="~#",com.cognitect.transit.caching={},com.cognitect.transit.caching.MIN_SIZE_CACHEABLE=3,com.cognitect.transit.caching.BASE_CHAR_IDX=48,com.cognitect.transit.caching.CACHE_CODE_DIGITS=44,com.cognitect.transit.caching.MAX_CACHE_ENTRIES=com.cognitect.transit.caching.CACHE_CODE_DIGITS*com.cognitect.transit.caching.CACHE_CODE_DIGITS,com.cognitect.transit.caching.MAX_CACHE_SIZE=4096,com.cognitect.transit.caching.isCacheable=function(t,e){if(t.length>com.cognitect.transit.caching.MIN_SIZE_CACHEABLE){if(e)return!0;var r=t.charAt(0),n=t.charAt(1);return r===com.cognitect.transit.delimiters.ESC&&(":"===n||"$"===n||"#"===n)}return!1},com.cognitect.transit.caching.idxToCode=function(t){var e=Math.floor(t/com.cognitect.transit.caching.CACHE_CODE_DIGITS);return t=String.fromCharCode(t%com.cognitect.transit.caching.CACHE_CODE_DIGITS+com.cognitect.transit.caching.BASE_CHAR_IDX),0===e?com.cognitect.transit.delimiters.SUB+t:com.cognitect.transit.delimiters.SUB+String.fromCharCode(e+com.cognitect.transit.caching.BASE_CHAR_IDX)+t},com.cognitect.transit.caching.WriteCache=function(){this.cacheSize=this.gen=this.idx=0,this.cache={}},com.cognitect.transit.caching.WriteCache.prototype.write=function(t,e){if(com.cognitect.transit.caching.isCacheable(t,e)){this.cacheSize===com.cognitect.transit.caching.MAX_CACHE_SIZE?(this.clear(),this.gen=0,this.cache={}):this.idx===com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&this.clear();var r=this.cache[t];return null==r?(this.cache[t]=[com.cognitect.transit.caching.idxToCode(this.idx),this.gen],this.idx++,t):r[1]!=this.gen?(r[1]=this.gen,r[0]=com.cognitect.transit.caching.idxToCode(this.idx),this.idx++,t):r[0]}return t},com.cognitect.transit.caching.WriteCache.prototype.clear=function(){this.idx=0,this.gen++},com.cognitect.transit.caching.writeCache=function(){return new com.cognitect.transit.caching.WriteCache},com.cognitect.transit.caching.isCacheCode=function(t){return t.charAt(0)===com.cognitect.transit.delimiters.SUB&&" "!==t.charAt(1)},com.cognitect.transit.caching.codeToIdx=function(t){return 2===t.length?t.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX:(t.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX)*com.cognitect.transit.caching.CACHE_CODE_DIGITS+(t=t.charCodeAt(2)-com.cognitect.transit.caching.BASE_CHAR_IDX)},com.cognitect.transit.caching.ReadCache=function(){this.idx=0,this.cache=[]},com.cognitect.transit.caching.ReadCache.prototype.write=function(t,e){return this.idx==com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&(this.idx=0),this.cache[this.idx]=t,this.idx++,t},com.cognitect.transit.caching.ReadCache.prototype.read=function(t,e){return this.cache[com.cognitect.transit.caching.codeToIdx(t)]},com.cognitect.transit.caching.ReadCache.prototype.clear=function(){this.idx=0},com.cognitect.transit.caching.readCache=function(){return new com.cognitect.transit.caching.ReadCache},com.cognitect.transit.util={},com.cognitect.transit.util.objectKeys=void 0!==Object.keys?function(t){return Object.keys(t)}:function(t){return goog.object.getKeys(t)},com.cognitect.transit.util.isArray=void 0!==Array.isArray?function(t){return Array.isArray(t)}:function(t){return"array"===goog.typeOf(t)},com.cognitect.transit.util.chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",com.cognitect.transit.util.randInt=function(t){return Math.round(Math.random()*t)},com.cognitect.transit.util.randHex=function(){return com.cognitect.transit.util.randInt(15).toString(16)},com.cognitect.transit.util.randomUUID=function(){var t=(8|3&com.cognitect.transit.util.randInt(14)).toString(16);return com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-4"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+t+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()},com.cognitect.transit.util.btoa=function(t){if("undefined"!=typeof btoa)return btoa(t);t=String(t);for(var e,r,n=0,o=com.cognitect.transit.util.chars,i="";t.charAt(0|n)||(o="=",n%1);i+=o.charAt(63&e>>8-n%1*8)){if(255<(r=t.charCodeAt(n+=.75)))throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|r}return i},com.cognitect.transit.util.atob=function(t){if("undefined"!=typeof atob)return atob(t);if((t=String(t).replace(/=+$/,"")).length%4==1)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,r,n=0,o=0,i="";r=t.charAt(o++);~r&&(e=n%4?64*e+r:r,n++%4)?i+=String.fromCharCode(255&e>>(-2*n&6)):0)r=com.cognitect.transit.util.chars.indexOf(r);return i},com.cognitect.transit.util.Uint8ToBase64=function(t){for(var e,r=0,n=t.length,o="";r<n;)e=t.subarray(r,Math.min(r+32768,n)),o+=String.fromCharCode.apply(null,e),r+=32768;return com.cognitect.transit.util.btoa(o)},com.cognitect.transit.util.Base64ToUint8=function(t){for(var e=(t=com.cognitect.transit.util.atob(t)).length,r=new Uint8Array(e),n=0;n<e;n++){var o=t.charCodeAt(n);r[n]=o}return r},com.cognitect.transit.eq={},com.cognitect.transit.eq.hashCodeProperty="transit$hashCode$",com.cognitect.transit.eq.hashCodeCounter=1,com.cognitect.transit.eq.equals=function(t,e){if(null==t)return null==e;if(t===e)return!0;if("object"==typeof t){if(com.cognitect.transit.util.isArray(t)){if(com.cognitect.transit.util.isArray(e)&&t.length===e.length){for(var r=0;r<t.length;r++)if(!com.cognitect.transit.eq.equals(t[r],e[r]))return!1;return!0}return!1}if(t.com$cognitect$transit$equals)return t.com$cognitect$transit$equals(e);if(null!=e&&"object"==typeof e){if(e.com$cognitect$transit$equals)return e.com$cognitect$transit$equals(t);r=0;var n,o=com.cognitect.transit.util.objectKeys(e).length;for(n in t)if(t.hasOwnProperty(n)&&(r++,!e.hasOwnProperty(n)||!com.cognitect.transit.eq.equals(t[n],e[n])))return!1;return r===o}}return!1},com.cognitect.transit.eq.hashCombine=function(t,e){return t^e+2654435769+(t<<6)+(t>>2)},com.cognitect.transit.eq.stringCodeCache={},com.cognitect.transit.eq.stringCodeCacheSize=0,com.cognitect.transit.eq.STR_CACHE_MAX=256,com.cognitect.transit.eq.hashString=function(t){var e=com.cognitect.transit.eq.stringCodeCache[t];if(null!=e)return e;for(var r=e=0;r<t.length;++r)e=31*e+t.charCodeAt(r),e%=4294967296;return com.cognitect.transit.eq.stringCodeCacheSize++,com.cognitect.transit.eq.stringCodeCacheSize>=com.cognitect.transit.eq.STR_CACHE_MAX&&(com.cognitect.transit.eq.stringCodeCache={},com.cognitect.transit.eq.stringCodeCacheSize=1),com.cognitect.transit.eq.stringCodeCache[t]=e},com.cognitect.transit.eq.hashMapLike=function(t){var e=0;if(null!=t.forEach)t.forEach((function(t,r,n){e=(e+(com.cognitect.transit.eq.hashCode(r)^com.cognitect.transit.eq.hashCode(t)))%4503599627370496}));else for(var r=com.cognitect.transit.util.objectKeys(t),n=0;n<r.length;n++){var o=r[n],i=t[o];e=(e+(com.cognitect.transit.eq.hashCode(o)^com.cognitect.transit.eq.hashCode(i)))%4503599627370496}return e},com.cognitect.transit.eq.hashArrayLike=function(t){var e=0;if(com.cognitect.transit.util.isArray(t))for(var r=0;r<t.length;r++)e=com.cognitect.transit.eq.hashCombine(e,com.cognitect.transit.eq.hashCode(t[r]));else t.forEach&&t.forEach((function(t,r){e=com.cognitect.transit.eq.hashCombine(e,com.cognitect.transit.eq.hashCode(t))}));return e},com.cognitect.transit.eq.hashCode=function(t){if(null==t)return 0;switch(typeof t){case"number":return t;case"boolean":return!0===t?1:0;case"string":return com.cognitect.transit.eq.hashString(t);case"function":var e=t[com.cognitect.transit.eq.hashCodeProperty];return e||(e=com.cognitect.transit.eq.hashCodeCounter,void 0!==Object.defineProperty?Object.defineProperty(t,com.cognitect.transit.eq.hashCodeProperty,{value:e,enumerable:!1}):t[com.cognitect.transit.eq.hashCodeProperty]=e,com.cognitect.transit.eq.hashCodeCounter++),e;default:return t instanceof Date?t.valueOf():com.cognitect.transit.util.isArray(t)?com.cognitect.transit.eq.hashArrayLike(t):t.com$cognitect$transit$hashCode?t.com$cognitect$transit$hashCode():com.cognitect.transit.eq.hashMapLike(t)}},com.cognitect.transit.eq.extendToEQ=function(t,e){return t.com$cognitect$transit$hashCode=e.hashCode,t.com$cognitect$transit$equals=e.equals,t},com.cognitect.transit.types={},com.cognitect.transit.types.ITERATOR="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",com.cognitect.transit.types.TaggedValue=function(t,e){this.tag=t,this.rep=e,this.hashCode=-1},com.cognitect.transit.types.TaggedValue.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"},com.cognitect.transit.types.TaggedValue.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.TaggedValue.prototype.equiv=com.cognitect.transit.types.TaggedValue.prototype.equiv,com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&this.tag===t.tag&&com.cognitect.transit.eq.equals(this.rep,t.rep)},com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCombine(com.cognitect.transit.eq.hashCode(this.tag),com.cognitect.transit.eq.hashCode(this.rep))),this.hashCode},com.cognitect.transit.types.taggedValue=function(t,e){return new com.cognitect.transit.types.TaggedValue(t,e)},com.cognitect.transit.types.isTaggedValue=function(t){return t instanceof com.cognitect.transit.types.TaggedValue},com.cognitect.transit.types.nullValue=function(){return null},com.cognitect.transit.types.boolValue=function(t){return"t"===t},com.cognitect.transit.types.MAX_INT=goog.math.Long.fromString("9007199254740991"),com.cognitect.transit.types.MIN_INT=goog.math.Long.fromString("-9007199254740991"),com.cognitect.transit.types.intValue=function(t){return"number"==typeof t||t instanceof goog.math.Long||(t=goog.math.Long.fromString(t,10)).greaterThan(com.cognitect.transit.types.MAX_INT)||t.lessThan(com.cognitect.transit.types.MIN_INT)?t:t.toNumber()},goog.math.Long.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},goog.math.Long.prototype.equiv=goog.math.Long.prototype.equiv,goog.math.Long.prototype.com$cognitect$transit$equals=function(t){return t instanceof goog.math.Long&&this.equals(t)},goog.math.Long.prototype.com$cognitect$transit$hashCode=function(){return this.toInt()},com.cognitect.transit.types.isInteger=function(t){return t instanceof goog.math.Long||"number"==typeof t&&!isNaN(t)&&t!==1/0&&parseFloat(t)===parseInt(t,10)},com.cognitect.transit.types.floatValue=function(t){return parseFloat(t)},com.cognitect.transit.types.bigInteger=function(t){return com.cognitect.transit.types.taggedValue("n",t)},com.cognitect.transit.types.isBigInteger=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"n"===t.tag},com.cognitect.transit.types.bigDecimalValue=function(t){return com.cognitect.transit.types.taggedValue("f",t)},com.cognitect.transit.types.isBigDecimal=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"f"===t.tag},com.cognitect.transit.types.charValue=function(t){return t},com.cognitect.transit.types.Keyword=function(t){this._name=t,this.hashCode=-1},com.cognitect.transit.types.Keyword.prototype.toString=function(){return":"+this._name},com.cognitect.transit.types.Keyword.prototype.namespace=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(0,t):null},com.cognitect.transit.types.Keyword.prototype.name=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(t+1,this._name.length):this._name},com.cognitect.transit.types.Keyword.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.Keyword.prototype.equiv=com.cognitect.transit.types.Keyword.prototype.equiv,com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.Keyword&&this._name==t._name},com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode},com.cognitect.transit.types.keyword=function(t){return new com.cognitect.transit.types.Keyword(t)},com.cognitect.transit.types.isKeyword=function(t){return t instanceof com.cognitect.transit.types.Keyword},com.cognitect.transit.types.Symbol=function(t){this._name=t,this.hashCode=-1},com.cognitect.transit.types.Symbol.prototype.namespace=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(0,t):null},com.cognitect.transit.types.Symbol.prototype.name=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(t+1,this._name.length):this._name},com.cognitect.transit.types.Symbol.prototype.toString=function(){return this._name},com.cognitect.transit.types.Symbol.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.Symbol.prototype.equiv=com.cognitect.transit.types.Symbol.prototype.equiv,com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.Symbol&&this._name==t._name},com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode},com.cognitect.transit.types.symbol=function(t){return new com.cognitect.transit.types.Symbol(t)},com.cognitect.transit.types.isSymbol=function(t){return t instanceof com.cognitect.transit.types.Symbol},com.cognitect.transit.types.hexFor=function(t,e,r){var n="";r=r||e+1;for(var o=8*(7-e),i=goog.math.Long.fromInt(255).shiftLeft(o);e<r;e++,o-=8,i=i.shiftRightUnsigned(8)){var a=t.and(i).shiftRightUnsigned(o).toString(16);1==a.length&&(a="0"+a),n+=a}return n},com.cognitect.transit.types.UUID=function(t,e){this.high=t,this.low=e,this.hashCode=-1},com.cognitect.transit.types.UUID.prototype.getLeastSignificantBits=function(){return this.low},com.cognitect.transit.types.UUID.prototype.getMostSignificantBits=function(){return this.high},com.cognitect.transit.types.UUID.prototype.toString=function(){var t=this.high,e=this.low,r=com.cognitect.transit.types.hexFor(t,0,4)+"-";return r+=com.cognitect.transit.types.hexFor(t,4,6)+"-",r+=com.cognitect.transit.types.hexFor(t,6,8)+"-",(r+=com.cognitect.transit.types.hexFor(e,0,2)+"-")+com.cognitect.transit.types.hexFor(e,2,8)},com.cognitect.transit.types.UUID.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.UUID.prototype.equiv=com.cognitect.transit.types.UUID.prototype.equiv,com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.UUID&&this.high.equals(t.high)&&this.low.equals(t.low)},com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCode(this.toString())),this.hashCode},com.cognitect.transit.types.UUIDfromString=function(t){var e,r;t=t.replace(/-/g,"");var n=e=0;for(r=24;8>n;n+=2,r-=8)e|=parseInt(t.substring(n,n+2),16)<<r;var o=0;for(n=8,r=24;16>n;n+=2,r-=8)o|=parseInt(t.substring(n,n+2),16)<<r;var i=goog.math.Long.fromBits(o,e);for(e=0,n=16,r=24;24>n;n+=2,r-=8)e|=parseInt(t.substring(n,n+2),16)<<r;for(o=0,r=n=24;32>n;n+=2,r-=8)o|=parseInt(t.substring(n,n+2),16)<<r;return t=goog.math.Long.fromBits(o,e),new com.cognitect.transit.types.UUID(i,t)},com.cognitect.transit.types.uuid=function(t){return com.cognitect.transit.types.UUIDfromString(t)},com.cognitect.transit.types.isUUID=function(t){return t instanceof com.cognitect.transit.types.UUID},com.cognitect.transit.types.date=function(t){return t="number"==typeof t?t:parseInt(t,10),new Date(t)},com.cognitect.transit.types.verboseDate=function(t){return new Date(t)},Date.prototype.com$cognitect$transit$equals=function(t){return t instanceof Date&&this.valueOf()===t.valueOf()},Date.prototype.com$cognitect$transit$hashCode=function(){return this.valueOf()},com.cognitect.transit.types.binary=function(t,e){return e&&!1===e.preferBuffers||void 0===goog.global.Buffer?"undefined"!=typeof Uint8Array?com.cognitect.transit.util.Base64ToUint8(t):com.cognitect.transit.types.taggedValue("b",t):new goog.global.Buffer(t,"base64")},com.cognitect.transit.types.isBinary=function(t){return void 0!==goog.global.Buffer&&t instanceof goog.global.Buffer||"undefined"!=typeof Uint8Array&&t instanceof Uint8Array||t instanceof com.cognitect.transit.types.TaggedValue&&"b"===t.tag},com.cognitect.transit.types.uri=function(t){return com.cognitect.transit.types.taggedValue("r",t)},com.cognitect.transit.types.isURI=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"r"===t.tag},com.cognitect.transit.types.KEYS=0,com.cognitect.transit.types.VALUES=1,com.cognitect.transit.types.ENTRIES=2,com.cognitect.transit.types.TransitArrayMapIterator=function(t,e){this.entries=t,this.type=e||com.cognitect.transit.types.KEYS,this.idx=0},com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=function(){if(this.idx<this.entries.length){var t={value:this.type===com.cognitect.transit.types.KEYS?this.entries[this.idx]:this.type===com.cognitect.transit.types.VALUES?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};return this.idx+=2,t}return{value:null,done:!0}},com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=com.cognitect.transit.types.TransitArrayMapIterator.prototype.next,com.cognitect.transit.types.TransitArrayMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this},com.cognitect.transit.types.TransitMapIterator=function(t,e){this.map=t,this.type=e||com.cognitect.transit.types.KEYS,this.keys=this.map.getKeys(),this.idx=0,this.bucket=null,this.bucketIdx=0},com.cognitect.transit.types.TransitMapIterator.prototype.next=function(){if(this.idx<this.map.size){null!=this.bucket&&this.bucketIdx<this.bucket.length||(this.bucket=this.map.map[this.keys[this.idx]],this.bucketIdx=0);var t={value:this.type===com.cognitect.transit.types.KEYS?this.bucket[this.bucketIdx]:this.type===com.cognitect.transit.types.VALUES?this.bucket[this.bucketIdx+1]:[this.bucket[this.bucketIdx],this.bucket[this.bucketIdx+1]],done:!1};return this.idx++,this.bucketIdx+=2,t}return{value:null,done:!0}},com.cognitect.transit.types.TransitMapIterator.prototype.next=com.cognitect.transit.types.TransitMapIterator.prototype.next,com.cognitect.transit.types.TransitMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this},com.cognitect.transit.types.mapEquals=function(t,e){if(t instanceof com.cognitect.transit.types.TransitMap&&com.cognitect.transit.types.isMap(e)){if(t.size!==e.size)return!1;for(var r in t.map)for(var n=t.map[r],o=0;o<n.length;o+=2)if(!com.cognitect.transit.eq.equals(n[o+1],e.get(n[o])))return!1;return!0}if(t instanceof com.cognitect.transit.types.TransitArrayMap&&com.cognitect.transit.types.isMap(e)){if(t.size!==e.size)return!1;for(r=t._entries,o=0;o<r.length;o+=2)if(!com.cognitect.transit.eq.equals(r[o+1],e.get(r[o])))return!1;return!0}if(null!=e&&"object"==typeof e&&(r=(o=com.cognitect.transit.util.objectKeys(e)).length,t.size===r)){for(n=0;n<r;n++){var i=o[n];if(!t.has(i)||!com.cognitect.transit.eq.equals(e[i],t.get(i)))return!1}return!0}return!1},com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD=8,com.cognitect.transit.types.ARRAY_MAP_THRESHOLD=32,com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD=32,com.cognitect.transit.types.print=function(t){return null==t?"null":goog.isArray(t)?"["+t.toString()+"]":goog.isString(t)?'"'+t+'"':t.toString()},com.cognitect.transit.types.printMap=function(t){var e=0,r="TransitMap {";return t.forEach((function(n,o){r+=com.cognitect.transit.types.print(o)+" => "+com.cognitect.transit.types.print(n),e<t.size-1&&(r+=", "),e++})),r+"}"},com.cognitect.transit.types.printSet=function(t){var e=0,r="TransitSet {";return t.forEach((function(n){r+=com.cognitect.transit.types.print(n),e<t.size-1&&(r+=", "),e++})),r+"}"},com.cognitect.transit.types.TransitArrayMap=function(t){this._entries=t,this.backingMap=null,this.hashCode=-1,this.size=t.length/2,this.accesses=0},com.cognitect.transit.types.TransitArrayMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)},com.cognitect.transit.types.TransitArrayMap.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitArrayMap.prototype.convert=function(){if(this.backingMap)throw Error("Invalid operation, already converted");return!(this.size<com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD)&&(this.accesses++,this.accesses>com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD&&(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=[],!0))},com.cognitect.transit.types.TransitArrayMap.prototype.clear=function(){this.hashCode=-1,this.backingMap?this.backingMap.clear():this._entries=[],this.size=0},com.cognitect.transit.types.TransitArrayMap.prototype.clear=com.cognitect.transit.types.TransitArrayMap.prototype.clear,com.cognitect.transit.types.TransitArrayMap.prototype.keys=function(){return this.backingMap?this.backingMap.keys():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.KEYS)},com.cognitect.transit.types.TransitArrayMap.prototype.keys=com.cognitect.transit.types.TransitArrayMap.prototype.keys,com.cognitect.transit.types.TransitArrayMap.prototype.keySet=function(){if(this.backingMap)return this.backingMap.keySet();for(var t=[],e=0,r=0;r<this._entries.length;e++,r+=2)t[e]=this._entries[r];return t},com.cognitect.transit.types.TransitArrayMap.prototype.keySet=com.cognitect.transit.types.TransitArrayMap.prototype.keySet,com.cognitect.transit.types.TransitArrayMap.prototype.entries=function(){return this.backingMap?this.backingMap.entries():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.ENTRIES)},com.cognitect.transit.types.TransitArrayMap.prototype.entries=com.cognitect.transit.types.TransitArrayMap.prototype.entries,com.cognitect.transit.types.TransitArrayMap.prototype.values=function(){return this.backingMap?this.backingMap.values():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.VALUES)},com.cognitect.transit.types.TransitArrayMap.prototype.values=com.cognitect.transit.types.TransitArrayMap.prototype.values,com.cognitect.transit.types.TransitArrayMap.prototype.forEach=function(t){if(this.backingMap)this.backingMap.forEach(t);else for(var e=0;e<this._entries.length;e+=2)t(this._entries[e+1],this._entries[e])},com.cognitect.transit.types.TransitArrayMap.prototype.forEach=com.cognitect.transit.types.TransitArrayMap.prototype.forEach,com.cognitect.transit.types.TransitArrayMap.prototype.get=function(t,e){if(this.backingMap)return this.backingMap.get(t);if(this.convert())return this.get(t);for(var r=0;r<this._entries.length;r+=2)if(com.cognitect.transit.eq.equals(this._entries[r],t))return this._entries[r+1];return e},com.cognitect.transit.types.TransitArrayMap.prototype.get=com.cognitect.transit.types.TransitArrayMap.prototype.get,com.cognitect.transit.types.TransitArrayMap.prototype.has=function(t){if(this.backingMap)return this.backingMap.has(t);if(this.convert())return this.has(t);for(var e=0;e<this._entries.length;e+=2)if(com.cognitect.transit.eq.equals(this._entries[e],t))return!0;return!1},com.cognitect.transit.types.TransitArrayMap.prototype.has=com.cognitect.transit.types.TransitArrayMap.prototype.has,com.cognitect.transit.types.TransitArrayMap.prototype.set=function(t,e){if(this.hashCode=-1,this.backingMap)this.backingMap.set(t,e),this.size=this.backingMap.size;else{for(var r=0;r<this._entries.length;r+=2)if(com.cognitect.transit.eq.equals(this._entries[r],t))return void(this._entries[r+1]=e);this._entries.push(t),this._entries.push(e),this.size++,this.size>com.cognitect.transit.types.ARRAY_MAP_THRESHOLD&&(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=null)}},com.cognitect.transit.types.TransitArrayMap.prototype.set=com.cognitect.transit.types.TransitArrayMap.prototype.set,com.cognitect.transit.types.TransitArrayMap.prototype.delete=function(t){if(this.hashCode=-1,this.backingMap)return t=this.backingMap.delete(t),this.size=this.backingMap.size,t;for(var e=0;e<this._entries.length;e+=2)if(com.cognitect.transit.eq.equals(this._entries[e],t))return t=this._entries[e+1],this._entries.splice(e,2),this.size--,t},com.cognitect.transit.types.TransitArrayMap.prototype.clone=function(){var t=com.cognitect.transit.types.map();return this.forEach((function(e,r){t.set(r,e)})),t},com.cognitect.transit.types.TransitArrayMap.prototype.clone=com.cognitect.transit.types.TransitArrayMap.prototype.clone,com.cognitect.transit.types.TransitArrayMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()},com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$hashCode=function(){return this.backingMap?this.backingMap.com$cognitect$transit$hashCode():(-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode)},com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$equals=function(t){return this.backingMap?com.cognitect.transit.types.mapEquals(this.backingMap,t):com.cognitect.transit.types.mapEquals(this,t)},com.cognitect.transit.types.TransitMap=function(t,e,r){this.map=e||{},this._keys=t||[],this.size=r||0,this.hashCode=-1},com.cognitect.transit.types.TransitMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)},com.cognitect.transit.types.TransitMap.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitMap.prototype.clear=function(){this.hashCode=-1,this.map={},this._keys=[],this.size=0},com.cognitect.transit.types.TransitMap.prototype.clear=com.cognitect.transit.types.TransitMap.prototype.clear,com.cognitect.transit.types.TransitMap.prototype.getKeys=function(){return null!=this._keys?this._keys:com.cognitect.transit.util.objectKeys(this.map)},com.cognitect.transit.types.TransitMap.prototype.delete=function(t){this.hashCode=-1,this._keys=null;for(var e=com.cognitect.transit.eq.hashCode(t),r=this.map[e],n=0;n<r.length;n+=2)if(com.cognitect.transit.eq.equals(t,r[n]))return t=r[n+1],r.splice(n,2),0===r.length&&delete this.map[e],this.size--,t},com.cognitect.transit.types.TransitMap.prototype.entries=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.ENTRIES)},com.cognitect.transit.types.TransitMap.prototype.entries=com.cognitect.transit.types.TransitMap.prototype.entries,com.cognitect.transit.types.TransitMap.prototype.forEach=function(t){for(var e=this.getKeys(),r=0;r<e.length;r++)for(var n=this.map[e[r]],o=0;o<n.length;o+=2)t(n[o+1],n[o],this)},com.cognitect.transit.types.TransitMap.prototype.forEach=com.cognitect.transit.types.TransitMap.prototype.forEach,com.cognitect.transit.types.TransitMap.prototype.get=function(t,e){var r=com.cognitect.transit.eq.hashCode(t);if(null==(r=this.map[r]))return e;for(var n=0;n<r.length;n+=2)if(com.cognitect.transit.eq.equals(t,r[n]))return r[n+1]},com.cognitect.transit.types.TransitMap.prototype.get=com.cognitect.transit.types.TransitMap.prototype.get,com.cognitect.transit.types.TransitMap.prototype.has=function(t){var e=com.cognitect.transit.eq.hashCode(t);if(null!=(e=this.map[e]))for(var r=0;r<e.length;r+=2)if(com.cognitect.transit.eq.equals(t,e[r]))return!0;return!1},com.cognitect.transit.types.TransitMap.prototype.has=com.cognitect.transit.types.TransitMap.prototype.has,com.cognitect.transit.types.TransitMap.prototype.keys=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.KEYS)},com.cognitect.transit.types.TransitMap.prototype.keys=com.cognitect.transit.types.TransitMap.prototype.keys,com.cognitect.transit.types.TransitMap.prototype.keySet=function(){for(var t=this.getKeys(),e=[],r=0;r<t.length;r++)for(var n=this.map[t[r]],o=0;o<n.length;o+=2)e.push(n[o]);return e},com.cognitect.transit.types.TransitMap.prototype.keySet=com.cognitect.transit.types.TransitMap.prototype.keySet,com.cognitect.transit.types.TransitMap.prototype.set=function(t,e){this.hashCode=-1;var r=com.cognitect.transit.eq.hashCode(t),n=this.map[r];if(null==n)this._keys&&this._keys.push(r),this.map[r]=[t,e],this.size++;else{r=!0;for(var o=0;o<n.length;o+=2)if(com.cognitect.transit.eq.equals(e,n[o])){r=!1,n[o]=e;break}r&&(n.push(t),n.push(e),this.size++)}},com.cognitect.transit.types.TransitMap.prototype.set=com.cognitect.transit.types.TransitMap.prototype.set,com.cognitect.transit.types.TransitMap.prototype.values=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.VALUES)},com.cognitect.transit.types.TransitMap.prototype.values=com.cognitect.transit.types.TransitMap.prototype.values,com.cognitect.transit.types.TransitMap.prototype.clone=function(){var t=com.cognitect.transit.types.map();return this.forEach((function(e,r){t.set(r,e)})),t},com.cognitect.transit.types.TransitMap.prototype.clone=com.cognitect.transit.types.TransitMap.prototype.clone,com.cognitect.transit.types.TransitMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()},com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode},com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$equals=function(t){return com.cognitect.transit.types.mapEquals(this,t)},com.cognitect.transit.types.map=function(t,e,r){if(t=t||[],e=!1!==e||e,(!0!==r||!r)&&t.length<=2*com.cognitect.transit.types.ARRAY_MAP_THRESHOLD){if(e){var n=t;for(t=[],e=0;e<n.length;e+=2){var o=!1;for(r=0;r<t.length;r+=2)if(com.cognitect.transit.eq.equals(t[r],n[e])){t[r+1]=n[e+1],o=!0;break}o||(t.push(n[e]),t.push(n[e+1]))}}return new com.cognitect.transit.types.TransitArrayMap(t)}n={},o=[];var i=0;for(e=0;e<t.length;e+=2){var a=n[r=com.cognitect.transit.eq.hashCode(t[e])];if(null==a)o.push(r),n[r]=[t[e],t[e+1]],i++;else{var s=!0;for(r=0;r<a.length;r+=2)if(com.cognitect.transit.eq.equals(a[r],t[e])){a[r+1]=t[e+1],s=!1;break}s&&(a.push(t[e]),a.push(t[e+1]),i++)}}return new com.cognitect.transit.types.TransitMap(o,n,i)},com.cognitect.transit.types.isArrayMap=function(t){return t instanceof com.cognitect.transit.types.TransitArrayMap},com.cognitect.transit.types.isMap=function(t){return t instanceof com.cognitect.transit.types.TransitArrayMap||t instanceof com.cognitect.transit.types.TransitMap},com.cognitect.transit.types.TransitSet=function(t){this.map=t,this.size=t.size},com.cognitect.transit.types.TransitSet.prototype.toString=function(){return com.cognitect.transit.types.printSet(this)},com.cognitect.transit.types.TransitSet.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitSet.prototype.add=function(t){this.map.set(t,t),this.size=this.map.size},com.cognitect.transit.types.TransitSet.prototype.add=com.cognitect.transit.types.TransitSet.prototype.add,com.cognitect.transit.types.TransitSet.prototype.clear=function(){this.map=new com.cognitect.transit.types.TransitMap,this.size=0},com.cognitect.transit.types.TransitSet.prototype.clear=com.cognitect.transit.types.TransitSet.prototype.clear,com.cognitect.transit.types.TransitSet.prototype.delete=function(t){return t=this.map.delete(t),this.size=this.map.size,t},com.cognitect.transit.types.TransitSet.prototype.entries=function(){return this.map.entries()},com.cognitect.transit.types.TransitSet.prototype.entries=com.cognitect.transit.types.TransitSet.prototype.entries,com.cognitect.transit.types.TransitSet.prototype.forEach=function(t,e){var r=this;this.map.forEach((function(e,n,o){t(n,r)}))},com.cognitect.transit.types.TransitSet.prototype.forEach=com.cognitect.transit.types.TransitSet.prototype.forEach,com.cognitect.transit.types.TransitSet.prototype.has=function(t){return this.map.has(t)},com.cognitect.transit.types.TransitSet.prototype.has=com.cognitect.transit.types.TransitSet.prototype.has,com.cognitect.transit.types.TransitSet.prototype.keys=function(){return this.map.keys()},com.cognitect.transit.types.TransitSet.prototype.keys=com.cognitect.transit.types.TransitSet.prototype.keys,com.cognitect.transit.types.TransitSet.prototype.keySet=function(){return this.map.keySet()},com.cognitect.transit.types.TransitSet.prototype.keySet=com.cognitect.transit.types.TransitSet.prototype.keySet,com.cognitect.transit.types.TransitSet.prototype.values=function(){return this.map.values()},com.cognitect.transit.types.TransitSet.prototype.values=com.cognitect.transit.types.TransitSet.prototype.values,com.cognitect.transit.types.TransitSet.prototype.clone=function(){var t=com.cognitect.transit.types.set();return this.forEach((function(e){t.add(e)})),t},com.cognitect.transit.types.TransitSet.prototype.clone=com.cognitect.transit.types.TransitSet.prototype.clone,com.cognitect.transit.types.TransitSet.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.values()},com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.TransitSet&&(this.size===t.size?com.cognitect.transit.eq.equals(this.map,t.map):void 0)},com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$hashCode=function(t){return com.cognitect.transit.eq.hashCode(this.map)},com.cognitect.transit.types.set=function(t){t=t||[];for(var e={},r=[],n=0,o=0;o<t.length;o++){var i=e[a=com.cognitect.transit.eq.hashCode(t[o])];if(null==i)r.push(a),e[a]=[t[o],t[o]],n++;else{for(var a=!0,s=0;s<i.length;s+=2)if(com.cognitect.transit.eq.equals(i[s],t[o])){a=!1;break}a&&(i.push(t[o]),i.push(t[o]),n++)}}return new com.cognitect.transit.types.TransitSet(new com.cognitect.transit.types.TransitMap(r,e,n))},com.cognitect.transit.types.isSet=function(t){return t instanceof com.cognitect.transit.types.TransitSet},com.cognitect.transit.types.quoted=function(t){return com.cognitect.transit.types.taggedValue("'",t)},com.cognitect.transit.types.isQuoted=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"'"===t.tag},com.cognitect.transit.types.list=function(t){return com.cognitect.transit.types.taggedValue("list",t)},com.cognitect.transit.types.isList=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"list"===t.tag},com.cognitect.transit.types.link=function(t){return com.cognitect.transit.types.taggedValue("link",t)},com.cognitect.transit.types.isLink=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"link"===t.tag},com.cognitect.transit.types.specialDouble=function(t){switch(t){case"-INF":return-1/0;case"INF":return 1/0;case"NaN":return NaN;default:throw Error("Invalid special double value "+t)}},com.cognitect.transit.handlers={},com.cognitect.transit.handlers.ctorGuid=0,com.cognitect.transit.handlers.ctorGuidProperty="transit$guid$"+com.cognitect.transit.util.randomUUID(),com.cognitect.transit.handlers.typeTag=function(t){if(null==t)return"null";if(t===String)return"string";if(t===Boolean)return"boolean";if(t===Number)return"number";if(t===Array)return"array";if(t===Object)return"map";var e=t[com.cognitect.transit.handlers.ctorGuidProperty];return null==e&&(void 0!==Object.defineProperty?(e=++com.cognitect.transit.handlers.ctorGuid,Object.defineProperty(t,com.cognitect.transit.handlers.ctorGuidProperty,{value:e,enumerable:!1})):t[com.cognitect.transit.handlers.ctorGuidProperty]=e=++com.cognitect.transit.handlers.ctorGuid),e},com.cognitect.transit.handlers.constructor=function(t){return null==t?null:t.constructor},com.cognitect.transit.handlers.padZeros=function(t,e){for(var r=t.toString(),n=r.length;n<e;n++)r="0"+r;return r},com.cognitect.transit.handlers.stringableKeys=function(t){t=com.cognitect.transit.util.objectKeys(t);for(var e=0;e<t.length;e++);return!0},com.cognitect.transit.handlers.NilHandler=function(){},com.cognitect.transit.handlers.NilHandler.prototype.tag=function(t){return"_"},com.cognitect.transit.handlers.NilHandler.prototype.rep=function(t){return null},com.cognitect.transit.handlers.NilHandler.prototype.stringRep=function(t){return"null"},com.cognitect.transit.handlers.StringHandler=function(){},com.cognitect.transit.handlers.StringHandler.prototype.tag=function(t){return"s"},com.cognitect.transit.handlers.StringHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.StringHandler.prototype.stringRep=function(t){return t},com.cognitect.transit.handlers.NumberHandler=function(){},com.cognitect.transit.handlers.NumberHandler.prototype.tag=function(t){return"i"},com.cognitect.transit.handlers.NumberHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.NumberHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.IntegerHandler=function(){},com.cognitect.transit.handlers.IntegerHandler.prototype.tag=function(t){return"i"},com.cognitect.transit.handlers.IntegerHandler.prototype.rep=function(t){return t.toString()},com.cognitect.transit.handlers.IntegerHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.BooleanHandler=function(){},com.cognitect.transit.handlers.BooleanHandler.prototype.tag=function(t){return"?"},com.cognitect.transit.handlers.BooleanHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.BooleanHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.ArrayHandler=function(){},com.cognitect.transit.handlers.ArrayHandler.prototype.tag=function(t){return"array"},com.cognitect.transit.handlers.ArrayHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.ArrayHandler.prototype.stringRep=function(t){return null},com.cognitect.transit.handlers.MapHandler=function(){},com.cognitect.transit.handlers.MapHandler.prototype.tag=function(t){return"map"},com.cognitect.transit.handlers.MapHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.MapHandler.prototype.stringRep=function(t){return null},com.cognitect.transit.handlers.VerboseDateHandler=function(){},com.cognitect.transit.handlers.VerboseDateHandler.prototype.tag=function(t){return"t"},com.cognitect.transit.handlers.VerboseDateHandler.prototype.rep=function(t){return t.getUTCFullYear()+"-"+com.cognitect.transit.handlers.padZeros(t.getUTCMonth()+1,2)+"-"+com.cognitect.transit.handlers.padZeros(t.getUTCDate(),2)+"T"+com.cognitect.transit.handlers.padZeros(t.getUTCHours(),2)+":"+com.cognitect.transit.handlers.padZeros(t.getUTCMinutes(),2)+":"+com.cognitect.transit.handlers.padZeros(t.getUTCSeconds(),2)+"."+com.cognitect.transit.handlers.padZeros(t.getUTCMilliseconds(),3)+"Z"},com.cognitect.transit.handlers.VerboseDateHandler.prototype.stringRep=function(t,e){return e.rep(t)},com.cognitect.transit.handlers.DateHandler=function(){},com.cognitect.transit.handlers.DateHandler.prototype.tag=function(t){return"m"},com.cognitect.transit.handlers.DateHandler.prototype.rep=function(t){return t.valueOf()},com.cognitect.transit.handlers.DateHandler.prototype.stringRep=function(t){return t.valueOf().toString()},com.cognitect.transit.handlers.DateHandler.prototype.getVerboseHandler=function(t){return new com.cognitect.transit.handlers.VerboseDateHandler},com.cognitect.transit.handlers.UUIDHandler=function(){},com.cognitect.transit.handlers.UUIDHandler.prototype.tag=function(t){return"u"},com.cognitect.transit.handlers.UUIDHandler.prototype.rep=function(t){return t.toString()},com.cognitect.transit.handlers.UUIDHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.KeywordHandler=function(){},com.cognitect.transit.handlers.KeywordHandler.prototype.tag=function(t){return":"},com.cognitect.transit.handlers.KeywordHandler.prototype.rep=function(t){return t._name},com.cognitect.transit.handlers.KeywordHandler.prototype.stringRep=function(t,e){return e.rep(t)},com.cognitect.transit.handlers.SymbolHandler=function(){},com.cognitect.transit.handlers.SymbolHandler.prototype.tag=function(t){return"$"},com.cognitect.transit.handlers.SymbolHandler.prototype.rep=function(t){return t._name},com.cognitect.transit.handlers.SymbolHandler.prototype.stringRep=function(t,e){return e.rep(t)},com.cognitect.transit.handlers.TaggedHandler=function(){},com.cognitect.transit.handlers.TaggedHandler.prototype.tag=function(t){return t.tag},com.cognitect.transit.handlers.TaggedHandler.prototype.rep=function(t){return t.rep},com.cognitect.transit.handlers.TaggedHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.TransitSetHandler=function(){},com.cognitect.transit.handlers.TransitSetHandler.prototype.tag=function(t){return"set"},com.cognitect.transit.handlers.TransitSetHandler.prototype.rep=function(t){var e=[];return t.forEach((function(t,r){e.push(t)})),com.cognitect.transit.types.taggedValue("array",e)},com.cognitect.transit.handlers.TransitSetHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.TransitArrayMapHandler=function(){},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.tag=function(t){return"map"},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.TransitMapHandler=function(){},com.cognitect.transit.handlers.TransitMapHandler.prototype.tag=function(t){return"map"},com.cognitect.transit.handlers.TransitMapHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.TransitMapHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.BufferHandler=function(){},com.cognitect.transit.handlers.BufferHandler.prototype.tag=function(t){return"b"},com.cognitect.transit.handlers.BufferHandler.prototype.rep=function(t){return t.toString("base64")},com.cognitect.transit.handlers.BufferHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.Uint8ArrayHandler=function(){},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.tag=function(t){return"b"},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.rep=function(t){return com.cognitect.transit.util.Uint8ToBase64(t)},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.defaultHandlers=function(t){return t.set(null,new com.cognitect.transit.handlers.NilHandler),t.set(String,new com.cognitect.transit.handlers.StringHandler),t.set(Number,new com.cognitect.transit.handlers.NumberHandler),t.set(goog.math.Long,new com.cognitect.transit.handlers.IntegerHandler),t.set(Boolean,new com.cognitect.transit.handlers.BooleanHandler),t.set(Array,new com.cognitect.transit.handlers.ArrayHandler),t.set(Object,new com.cognitect.transit.handlers.MapHandler),t.set(Date,new com.cognitect.transit.handlers.DateHandler),t.set(com.cognitect.transit.types.UUID,new com.cognitect.transit.handlers.UUIDHandler),t.set(com.cognitect.transit.types.Keyword,new com.cognitect.transit.handlers.KeywordHandler),t.set(com.cognitect.transit.types.Symbol,new com.cognitect.transit.handlers.SymbolHandler),t.set(com.cognitect.transit.types.TaggedValue,new com.cognitect.transit.handlers.TaggedHandler),t.set(com.cognitect.transit.types.TransitSet,new com.cognitect.transit.handlers.TransitSetHandler),t.set(com.cognitect.transit.types.TransitArrayMap,new com.cognitect.transit.handlers.TransitArrayMapHandler),t.set(com.cognitect.transit.types.TransitMap,new com.cognitect.transit.handlers.TransitMapHandler),void 0!==goog.global.Buffer&&t.set(goog.global.Buffer,new com.cognitect.transit.handlers.BufferHandler),"undefined"!=typeof Uint8Array&&t.set(Uint8Array,new com.cognitect.transit.handlers.Uint8ArrayHandler),t},com.cognitect.transit.handlers.Handlers=function(){this.handlers={},com.cognitect.transit.handlers.defaultHandlers(this)},com.cognitect.transit.handlers.Handlers.prototype.get=function(t){return null!=(t="string"==typeof t?this.handlers[t]:this.handlers[com.cognitect.transit.handlers.typeTag(t)])?t:this.handlers.default},com.cognitect.transit.handlers.Handlers.prototype.get=com.cognitect.transit.handlers.Handlers.prototype.get,com.cognitect.transit.handlers.validTag=function(t){switch(t){case"null":case"string":case"boolean":case"number":case"array":case"map":return!1}return!0},com.cognitect.transit.handlers.Handlers.prototype.set=function(t,e){"string"==typeof t&&com.cognitect.transit.handlers.validTag(t)?this.handlers[t]=e:this.handlers[com.cognitect.transit.handlers.typeTag(t)]=e},com.cognitect.transit.impl={},com.cognitect.transit.impl.decoder={},com.cognitect.transit.impl.decoder.Tag=function(t){this.str=t},com.cognitect.transit.impl.decoder.tag=function(t){return new com.cognitect.transit.impl.decoder.Tag(t)},com.cognitect.transit.impl.decoder.isTag=function(t){return t&&t instanceof com.cognitect.transit.impl.decoder.Tag},com.cognitect.transit.impl.decoder.isGroundHandler=function(t){switch(t){case"_":case"s":case"?":case"i":case"d":case"b":case"'":case"array":case"map":return!0}return!1},com.cognitect.transit.impl.decoder.Decoder=function(t){for(var e in this.options=t||{},this.handlers={},this.defaults.handlers)this.handlers[e]=this.defaults.handlers[e];for(e in this.options.handlers){if(com.cognitect.transit.impl.decoder.isGroundHandler(e))throw Error('Cannot override handler for ground type "'+e+'"');this.handlers[e]=this.options.handlers[e]}this.preferStrings=null!=this.options.preferStrings?this.options.preferStrings:this.defaults.preferStrings,this.preferBuffers=null!=this.options.preferBuffers?this.options.preferBuffers:this.defaults.preferBuffers,this.defaultHandler=this.options.defaultHandler||this.defaults.defaultHandler,this.mapBuilder=this.options.mapBuilder,this.arrayBuilder=this.options.arrayBuilder},com.cognitect.transit.impl.decoder.Decoder.prototype.defaults={handlers:{_:function(t,e){return com.cognitect.transit.types.nullValue()},"?":function(t,e){return com.cognitect.transit.types.boolValue(t)},b:function(t,e){return com.cognitect.transit.types.binary(t,e)},i:function(t,e){return com.cognitect.transit.types.intValue(t)},n:function(t,e){return com.cognitect.transit.types.bigInteger(t)},d:function(t,e){return com.cognitect.transit.types.floatValue(t)},f:function(t,e){return com.cognitect.transit.types.bigDecimalValue(t)},c:function(t,e){return com.cognitect.transit.types.charValue(t)},":":function(t,e){return com.cognitect.transit.types.keyword(t)},$:function(t,e){return com.cognitect.transit.types.symbol(t)},r:function(t,e){return com.cognitect.transit.types.uri(t)},z:function(t,e){return com.cognitect.transit.types.specialDouble(t)},"'":function(t,e){return t},m:function(t,e){return com.cognitect.transit.types.date(t)},t:function(t,e){return com.cognitect.transit.types.verboseDate(t)},u:function(t,e){return com.cognitect.transit.types.uuid(t)},set:function(t,e){return com.cognitect.transit.types.set(t)},list:function(t,e){return com.cognitect.transit.types.list(t)},link:function(t,e){return com.cognitect.transit.types.link(t)},cmap:function(t,e){return com.cognitect.transit.types.map(t,!1)}},defaultHandler:function(t,e){return com.cognitect.transit.types.taggedValue(t,e)},preferStrings:!0,preferBuffers:!0},com.cognitect.transit.impl.decoder.Decoder.prototype.decode=function(t,e,r,n){if(null==t)return null;switch(typeof t){case"string":return this.decodeString(t,e,r,n);case"object":return com.cognitect.transit.util.isArray(t)?"^ "===t[0]?this.decodeArrayHash(t,e,r,n):this.decodeArray(t,e,r,n):this.decodeHash(t,e,r,n)}return t},com.cognitect.transit.impl.decoder.Decoder.prototype.decode=com.cognitect.transit.impl.decoder.Decoder.prototype.decode,com.cognitect.transit.impl.decoder.Decoder.prototype.decodeString=function(t,e,r,n){return com.cognitect.transit.caching.isCacheable(t,r)?(t=this.parseString(t,e,!1),e&&e.write(t,r),t):com.cognitect.transit.caching.isCacheCode(t)?e.read(t,r):this.parseString(t,e,r)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeHash=function(t,e,r,n){var o=(r=com.cognitect.transit.util.objectKeys(t))[0];if(n=1==r.length?this.decode(o,e,!1,!1):null,com.cognitect.transit.impl.decoder.isTag(n))return t=t[o],null!=(r=this.handlers[n.str])?r(this.decode(t,e,!1,!0),this):com.cognitect.transit.types.taggedValue(n.str,this.decode(t,e,!1,!1));if(this.mapBuilder){if(r.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD&&this.mapBuilder.fromArray){var i=[];for(o=0;o<r.length;o++)n=r[o],i.push(this.decode(n,e,!0,!1)),i.push(this.decode(t[n],e,!1,!1));return this.mapBuilder.fromArray(i,t)}for(i=this.mapBuilder.init(t),o=0;o<r.length;o++)n=r[o],i=this.mapBuilder.add(i,this.decode(n,e,!0,!1),this.decode(t[n],e,!1,!1),t);return this.mapBuilder.finalize(i,t)}for(i=[],o=0;o<r.length;o++)n=r[o],i.push(this.decode(n,e,!0,!1)),i.push(this.decode(t[n],e,!1,!1));return com.cognitect.transit.types.map(i,!1)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArrayHash=function(t,e,r,n){if(this.mapBuilder){if(t.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD+1&&this.mapBuilder.fromArray){for(n=[],r=1;r<t.length;r+=2)n.push(this.decode(t[r],e,!0,!1)),n.push(this.decode(t[r+1],e,!1,!1));return this.mapBuilder.fromArray(n,t)}for(n=this.mapBuilder.init(t),r=1;r<t.length;r+=2)n=this.mapBuilder.add(n,this.decode(t[r],e,!0,!1),this.decode(t[r+1],e,!1,!1),t);return this.mapBuilder.finalize(n,t)}for(n=[],r=1;r<t.length;r+=2)n.push(this.decode(t[r],e,!0,!1)),n.push(this.decode(t[r+1],e,!1,!1));return com.cognitect.transit.types.map(n,!1)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArray=function(t,e,r,n){if(n){var o=[];for(n=0;n<t.length;n++)o.push(this.decode(t[n],e,r,!1));return o}if(o=e&&e.idx,2===t.length&&"string"==typeof t[0]&&(n=this.decode(t[0],e,!1,!1),com.cognitect.transit.impl.decoder.isTag(n)))return o=t[1],null!=(t=this.handlers[n.str])?o=t(this.decode(o,e,r,!0),this):com.cognitect.transit.types.taggedValue(n.str,this.decode(o,e,r,!1));if(e&&o!=e.idx&&(e.idx=o),this.arrayBuilder){if(32>=t.length&&this.arrayBuilder.fromArray){for(o=[],n=0;n<t.length;n++)o.push(this.decode(t[n],e,r,!1));return this.arrayBuilder.fromArray(o,t)}for(o=this.arrayBuilder.init(t),n=0;n<t.length;n++)o=this.arrayBuilder.add(o,this.decode(t[n],e,r,!1),t);return this.arrayBuilder.finalize(o,t)}for(o=[],n=0;n<t.length;n++)o.push(this.decode(t[n],e,r,!1));return o},com.cognitect.transit.impl.decoder.Decoder.prototype.parseString=function(t,e,r){return t.charAt(0)===com.cognitect.transit.delimiters.ESC?(e=t.charAt(1))===com.cognitect.transit.delimiters.ESC||e===com.cognitect.transit.delimiters.SUB||e===com.cognitect.transit.delimiters.RES?t.substring(1):e===com.cognitect.transit.delimiters.TAG?com.cognitect.transit.impl.decoder.tag(t.substring(2)):null==(r=this.handlers[e])?this.defaultHandler(e,t.substring(2)):r(t.substring(2),this):t},com.cognitect.transit.impl.decoder.decoder=function(t){return new com.cognitect.transit.impl.decoder.Decoder(t)},com.cognitect.transit.impl.reader={},com.cognitect.transit.impl.reader.JSONUnmarshaller=function(t){this.decoder=new com.cognitect.transit.impl.decoder.Decoder(t)},com.cognitect.transit.impl.reader.JSONUnmarshaller.prototype.unmarshal=function(t,e){return this.decoder.decode(JSON.parse(t),e)},com.cognitect.transit.impl.reader.Reader=function(t,e){this.unmarshaller=t,this.options=e||{},this.cache=this.options.cache?this.options.cache:new com.cognitect.transit.caching.ReadCache},com.cognitect.transit.impl.reader.Reader.prototype.read=function(t){return t=this.unmarshaller.unmarshal(t,this.cache),this.cache.clear(),t},com.cognitect.transit.impl.reader.Reader.prototype.read=com.cognitect.transit.impl.reader.Reader.prototype.read,com.cognitect.transit.impl.writer={},com.cognitect.transit.impl.writer.escape=function(t){if(0<t.length){var e=t.charAt(0);return e===com.cognitect.transit.delimiters.ESC||e===com.cognitect.transit.delimiters.SUB||e===com.cognitect.transit.delimiters.RES?com.cognitect.transit.delimiters.ESC+t:t}return t},com.cognitect.transit.impl.writer.JSONMarshaller=function(t){if(this.opts=t||{},this.preferStrings=null==this.opts.preferStrings||this.opts.preferStrings,this.objectBuilder=this.opts.objectBuilder||null,this.transform=this.opts.transform||null,this.handlers=new com.cognitect.transit.handlers.Handlers,t=this.opts.handlers){if(com.cognitect.transit.util.isArray(t)||!t.forEach)throw Error('transit writer "handlers" option must be a map');var e=this;t.forEach((function(t,r){if(void 0===r)throw Error("Cannot create handler for JavaScript undefined");e.handlers.set(r,t)}))}this.handlerForForeign=this.opts.handlerForForeign,this.unpack=this.opts.unpack||function(t){return!(!com.cognitect.transit.types.isArrayMap(t)||null!==t.backingMap)&&t._entries},this.verbose=this.opts&&this.opts.verbose||!1},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.handler=function(t){var e=this.handlers.get(com.cognitect.transit.handlers.constructor(t));return null!=e?e:(t=t&&t.transitTag)?this.handlers.get(t):null},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.registerHandler=function(t,e){this.handlers.set(t,e)},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitNil=function(t,e){return t?this.emitString(com.cognitect.transit.delimiters.ESC,"_","",t,e):null},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitString=function(t,e,r,n,o){return t=t+e+r,o?o.write(t,n):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBoolean=function(t,e,r){return e?this.emitString(com.cognitect.transit.delimiters.ESC,"?",t.toString()[0],e,r):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitInteger=function(t,e,r){return t===1/0?this.emitString(com.cognitect.transit.delimiters.ESC,"z","INF",e,r):t===-1/0?this.emitString(com.cognitect.transit.delimiters.ESC,"z","-INF",e,r):isNaN(t)?this.emitString(com.cognitect.transit.delimiters.ESC,"z","NaN",e,r):e||"string"==typeof t||t instanceof goog.math.Long?this.emitString(com.cognitect.transit.delimiters.ESC,"i",t.toString(),e,r):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitDouble=function(t,e,r){return e?this.emitString(t.ESC,"d",t,e,r):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBinary=function(t,e,r){return this.emitString(com.cognitect.transit.delimiters.ESC,"b",t,e,r)},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitQuoted=function(t,e,r){return t.verbose?((t={})[this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,r)]=com.cognitect.transit.impl.writer.marshal(this,e,!1,r),t):[this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,r),com.cognitect.transit.impl.writer.marshal(this,e,!1,r)]},com.cognitect.transit.impl.writer.emitObjects=function(t,e,r){var n=[];if(com.cognitect.transit.util.isArray(e))for(var o=0;o<e.length;o++)n.push(com.cognitect.transit.impl.writer.marshal(t,e[o],!1,r));else e.forEach((function(e,o){n.push(com.cognitect.transit.impl.writer.marshal(t,e,!1,r))}));return n},com.cognitect.transit.impl.writer.emitArray=function(t,e,r,n){return com.cognitect.transit.impl.writer.emitObjects(t,e,n)},com.cognitect.transit.impl.writer.isStringableKey=function(t,e){if("string"!=typeof e){var r=t.handler(e);return r&&1===r.tag(e).length}return!0},com.cognitect.transit.impl.writer.stringableKeys=function(t,e){var r=t.unpack(e),n=!0;if(r){for(var o=0;o<r.length&&(n=com.cognitect.transit.impl.writer.isStringableKey(t,r[o]));o+=2);return n}if(e.keys&&(o=null,(r=e.keys()).next)){for(o=r.next();!o.done&&(n=com.cognitect.transit.impl.writer.isStringableKey(t,o.value));)o=r.next();return n}if(e.forEach)return e.forEach((function(e,r){n=n&&com.cognitect.transit.impl.writer.isStringableKey(t,r)})),n;throw Error("Cannot walk keys of object type "+com.cognitect.transit.handlers.constructor(e).name)},com.cognitect.transit.impl.writer.isForeignObject=function(t){if(t.constructor.transit$isObject)return!0;var e="Object"==(e=(e=(e=t.constructor.toString()).substr(9)).substr(0,e.indexOf("(")));return void 0!==Object.defineProperty?Object.defineProperty(t.constructor,"transit$isObject",{value:e,enumerable:!1}):t.constructor.transit$isObject=e,e},com.cognitect.transit.impl.writer.emitMap=function(t,e,r,n){var o=null,i=null,a=null;if(o=null,r=0,e.constructor===Object||null!=e.forEach||t.handlerForForeign&&com.cognitect.transit.impl.writer.isForeignObject(e)){if(t.verbose){if(null!=e.forEach)if(com.cognitect.transit.impl.writer.stringableKeys(t,e)){var s={};e.forEach((function(e,r){s[com.cognitect.transit.impl.writer.marshal(t,r,!0,!1)]=com.cognitect.transit.impl.writer.marshal(t,e,!1,n)}))}else{if(o=t.unpack(e),i=[],a=t.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,n),o)for(;r<o.length;r+=2)i.push(com.cognitect.transit.impl.writer.marshal(t,o[r],!1,!1)),i.push(com.cognitect.transit.impl.writer.marshal(t,o[r+1],!1,n));else e.forEach((function(e,r){i.push(com.cognitect.transit.impl.writer.marshal(t,r,!1,!1)),i.push(com.cognitect.transit.impl.writer.marshal(t,e,!1,n))}));(s={})[a]=i}else for(o=com.cognitect.transit.util.objectKeys(e),s={};r<o.length;r++)s[com.cognitect.transit.impl.writer.marshal(t,o[r],!0,!1)]=com.cognitect.transit.impl.writer.marshal(t,e[o[r]],!1,n);return s}if(null!=e.forEach){if(com.cognitect.transit.impl.writer.stringableKeys(t,e)){if(o=t.unpack(e),s=["^ "],o)for(;r<o.length;r+=2)s.push(com.cognitect.transit.impl.writer.marshal(t,o[r],!0,n)),s.push(com.cognitect.transit.impl.writer.marshal(t,o[r+1],!1,n));else e.forEach((function(e,r){s.push(com.cognitect.transit.impl.writer.marshal(t,r,!0,n)),s.push(com.cognitect.transit.impl.writer.marshal(t,e,!1,n))}));return s}if(o=t.unpack(e),i=[],a=t.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,n),o)for(;r<o.length;r+=2)i.push(com.cognitect.transit.impl.writer.marshal(t,o[r],!1,n)),i.push(com.cognitect.transit.impl.writer.marshal(t,o[r+1],!1,n));else e.forEach((function(e,r){i.push(com.cognitect.transit.impl.writer.marshal(t,r,!1,n)),i.push(com.cognitect.transit.impl.writer.marshal(t,e,!1,n))}));return[a,i]}for(s=["^ "],o=com.cognitect.transit.util.objectKeys(e);r<o.length;r++)s.push(com.cognitect.transit.impl.writer.marshal(t,o[r],!0,n)),s.push(com.cognitect.transit.impl.writer.marshal(t,e[o[r]],!1,n));return s}if(null!=t.objectBuilder)return t.objectBuilder(e,(function(e){return com.cognitect.transit.impl.writer.marshal(t,e,!0,n)}),(function(e){return com.cognitect.transit.impl.writer.marshal(t,e,!1,n)}));throw r=com.cognitect.transit.handlers.constructor(e).name,(o=Error("Cannot write "+r)).data={obj:e,type:r},o},com.cognitect.transit.impl.writer.emitTaggedMap=function(t,e,r,n,o){return t.verbose?((n={})[t.emitString(com.cognitect.transit.delimiters.ESC_TAG,e,"",!0,o)]=com.cognitect.transit.impl.writer.marshal(t,r,!1,o),n):[t.emitString(com.cognitect.transit.delimiters.ESC_TAG,e,"",!0,o),com.cognitect.transit.impl.writer.marshal(t,r,!1,o)]},com.cognitect.transit.impl.writer.emitEncoded=function(t,e,r,n,o,i,a){if(1===r.length){if("string"==typeof n)return t.emitString(com.cognitect.transit.delimiters.ESC,r,n,i,a);if(i||t.preferStrings){if((n=t.verbose&&e.getVerboseHandler())?(r=n.tag(o),n=n.stringRep(o,n)):n=e.stringRep(o,e),null!==n)return t.emitString(com.cognitect.transit.delimiters.ESC,r,n,i,a);throw(t=Error('Tag "'+r+'" cannot be encoded as string')).data={tag:r,rep:n,obj:o},t}}return com.cognitect.transit.impl.writer.emitTaggedMap(t,r,n,i,a)},com.cognitect.transit.impl.writer.marshal=function(t,e,r,n){null!==t.transform&&(e=t.transform(e));var o=t.handler(e)||(t.handlerForForeign?t.handlerForForeign(e,t.handlers):null),i=o?o.tag(e):null,a=o?o.rep(e):null;if(null==o||null==i)throw t=com.cognitect.transit.handlers.constructor(e).name,(r=Error("Cannot write "+t)).data={obj:e,type:t},r;switch(i){case"_":return t.emitNil(r,n);case"s":return t.emitString("","",com.cognitect.transit.impl.writer.escape(a),r,n);case"?":return t.emitBoolean(a,r,n);case"i":return t.emitInteger(a,r,n);case"d":return t.emitDouble(a,r,n);case"b":return t.emitBinary(a,r,n);case"'":return t.emitQuoted(t,a,n);case"array":return com.cognitect.transit.impl.writer.emitArray(t,a,r,n);case"map":return com.cognitect.transit.impl.writer.emitMap(t,a,r,n);default:return com.cognitect.transit.impl.writer.emitEncoded(t,o,i,a,e,r,n)}},com.cognitect.transit.impl.writer.maybeQuoted=function(t,e){if(null!=(r=t.handler(e)||(t.handlerForForeign?t.handlerForForeign(e,t.handlers):null)))return 1===r.tag(e).length?com.cognitect.transit.types.quoted(e):e;var r=com.cognitect.transit.handlers.constructor(e).name,n=Error("Cannot write "+r);throw n.data={obj:e,type:r},n},com.cognitect.transit.impl.writer.marshalTop=function(t,e,r,n){return JSON.stringify(com.cognitect.transit.impl.writer.marshal(t,com.cognitect.transit.impl.writer.maybeQuoted(t,e),r,n))},com.cognitect.transit.impl.writer.Writer=function(t,e){this._marshaller=t,this.options=e||{},this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new com.cognitect.transit.caching.WriteCache},com.cognitect.transit.impl.writer.Writer.prototype.marshaller=function(){return this._marshaller},com.cognitect.transit.impl.writer.Writer.prototype.marshaller=com.cognitect.transit.impl.writer.Writer.prototype.marshaller,com.cognitect.transit.impl.writer.Writer.prototype.write=function(t,e){var r=e||{},n=r.asMapKey||!1,o=!this._marshaller.verbose&&this.cache;return r=!1===r.marshalTop?com.cognitect.transit.impl.writer.marshal(this._marshaller,t,n,o):com.cognitect.transit.impl.writer.marshalTop(this._marshaller,t,n,o),null!=this.cache&&this.cache.clear(),r},com.cognitect.transit.impl.writer.Writer.prototype.write=com.cognitect.transit.impl.writer.Writer.prototype.write,com.cognitect.transit.impl.writer.Writer.prototype.register=function(t,e){this._marshaller.registerHandler(t,e)},com.cognitect.transit.impl.writer.Writer.prototype.register=com.cognitect.transit.impl.writer.Writer.prototype.register,com.cognitect.transit.reader=function(t,e){if("json"===t||"json-verbose"===t||null==t){var r=new com.cognitect.transit.impl.reader.JSONUnmarshaller(e);return new com.cognitect.transit.impl.reader.Reader(r,e)}throw Error("Cannot create reader of type "+t)},com.cognitect.transit.writer=function(t,e){if("json"===t||"json-verbose"===t||null==t){"json-verbose"===t&&(null==e&&(e={}),e.verbose=!0);var r=new com.cognitect.transit.impl.writer.JSONMarshaller(e);return new com.cognitect.transit.impl.writer.Writer(r,e)}throw(r=Error('Type must be "json"')).data={type:t},r},com.cognitect.transit.makeWriteHandler=function(t){var e=function(){};return e.prototype.tag=t.tag,e.prototype.rep=t.rep,e.prototype.stringRep=t.stringRep,e.prototype.getVerboseHandler=t.getVerboseHandler,new e},com.cognitect.transit.makeBuilder=function(t){var e=function(){};return e.prototype.init=t.init,e.prototype.add=t.add,e.prototype.finalize=t.finalize,e.prototype.fromArray=t.fromArray,new e},com.cognitect.transit.date=com.cognitect.transit.types.date,com.cognitect.transit.integer=com.cognitect.transit.types.intValue,com.cognitect.transit.isInteger=com.cognitect.transit.types.isInteger,com.cognitect.transit.uuid=com.cognitect.transit.types.uuid,com.cognitect.transit.isUUID=com.cognitect.transit.types.isUUID,com.cognitect.transit.bigInt=com.cognitect.transit.types.bigInteger,com.cognitect.transit.isBigInt=com.cognitect.transit.types.isBigInteger,com.cognitect.transit.bigDec=com.cognitect.transit.types.bigDecimalValue,com.cognitect.transit.isBigDec=com.cognitect.transit.types.isBigDecimal,com.cognitect.transit.keyword=com.cognitect.transit.types.keyword,com.cognitect.transit.isKeyword=com.cognitect.transit.types.isKeyword,com.cognitect.transit.symbol=com.cognitect.transit.types.symbol,com.cognitect.transit.isSymbol=com.cognitect.transit.types.isSymbol,com.cognitect.transit.binary=com.cognitect.transit.types.binary,com.cognitect.transit.isBinary=com.cognitect.transit.types.isBinary,com.cognitect.transit.uri=com.cognitect.transit.types.uri,com.cognitect.transit.isURI=com.cognitect.transit.types.isURI,com.cognitect.transit.map=com.cognitect.transit.types.map,com.cognitect.transit.isMap=com.cognitect.transit.types.isMap,com.cognitect.transit.set=com.cognitect.transit.types.set,com.cognitect.transit.isSet=com.cognitect.transit.types.isSet,com.cognitect.transit.list=com.cognitect.transit.types.list,com.cognitect.transit.isList=com.cognitect.transit.types.isList,com.cognitect.transit.quoted=com.cognitect.transit.types.quoted,com.cognitect.transit.isQuoted=com.cognitect.transit.types.isQuoted,com.cognitect.transit.tagged=com.cognitect.transit.types.taggedValue,com.cognitect.transit.isTaggedValue=com.cognitect.transit.types.isTaggedValue,com.cognitect.transit.link=com.cognitect.transit.types.link,com.cognitect.transit.isLink=com.cognitect.transit.types.isLink,com.cognitect.transit.hash=com.cognitect.transit.eq.hashCode,com.cognitect.transit.hashMapLike=com.cognitect.transit.eq.hashMapLike,com.cognitect.transit.hashArrayLike=com.cognitect.transit.eq.hashArrayLike,com.cognitect.transit.equals=com.cognitect.transit.eq.equals,com.cognitect.transit.extendToEQ=com.cognitect.transit.eq.extendToEQ,com.cognitect.transit.mapToObject=function(t){var e={};return t.forEach((function(t,r){if("string"!=typeof r)throw Error("Cannot convert map with non-string keys");e[r]=t})),e},com.cognitect.transit.objectToMap=function(t){var e,r=com.cognitect.transit.map();for(e in t)t.hasOwnProperty(e)&&r.set(e,t[e]);return r},com.cognitect.transit.decoder=com.cognitect.transit.impl.decoder.decoder,com.cognitect.transit.readCache=com.cognitect.transit.caching.readCache,com.cognitect.transit.writeCache=com.cognitect.transit.caching.writeCache,com.cognitect.transit.UUIDfromString=com.cognitect.transit.types.UUIDfromString,com.cognitect.transit.randomUUID=com.cognitect.transit.util.randomUUID,com.cognitect.transit.stringableKeys=com.cognitect.transit.impl.writer.stringableKeys,module.exports={reader:com.cognitect.transit.reader,writer:com.cognitect.transit.writer,makeBuilder:com.cognitect.transit.makeBuilder,makeWriteHandler:com.cognitect.transit.makeWriteHandler,date:com.cognitect.transit.types.date,integer:com.cognitect.transit.types.intValue,isInteger:com.cognitect.transit.types.isInteger,uuid:com.cognitect.transit.types.uuid,isUUID:com.cognitect.transit.types.isUUID,bigInt:com.cognitect.transit.types.bigInteger,isBigInt:com.cognitect.transit.types.isBigInteger,bigDec:com.cognitect.transit.types.bigDecimalValue,isBigDec:com.cognitect.transit.types.isBigDecimal,keyword:com.cognitect.transit.types.keyword,isKeyword:com.cognitect.transit.types.isKeyword,symbol:com.cognitect.transit.types.symbol,isSymbol:com.cognitect.transit.types.isSymbol,binary:com.cognitect.transit.types.binary,isBinary:com.cognitect.transit.types.isBinary,uri:com.cognitect.transit.types.uri,isURI:com.cognitect.transit.types.isURI,map:com.cognitect.transit.types.map,isMap:com.cognitect.transit.types.isMap,set:com.cognitect.transit.types.set,isSet:com.cognitect.transit.types.isSet,list:com.cognitect.transit.types.list,isList:com.cognitect.transit.types.isList,quoted:com.cognitect.transit.types.quoted,isQuoted:com.cognitect.transit.types.isQuoted,tagged:com.cognitect.transit.types.taggedValue,isTaggedValue:com.cognitect.transit.types.isTaggedValue,link:com.cognitect.transit.types.link,isLink:com.cognitect.transit.types.isLink,hash:com.cognitect.transit.eq.hashCode,hashArrayLike:com.cognitect.transit.eq.hashArrayLike,hashMapLike:com.cognitect.transit.eq.hashMapLike,equals:com.cognitect.transit.eq.equals,extendToEQ:com.cognitect.transit.eq.extendToEQ,mapToObject:com.cognitect.transit.mapToObject,objectToMap:com.cognitect.transit.objectToMap,decoder:com.cognitect.transit.impl.decoder.decoder,UUIDfromString:com.cognitect.transit.types.UUIDfromString,randomUUID:com.cognitect.transit.util.randomUUID,stringableKeys:com.cognitect.transit.impl.writer.stringableKeys,readCache:com.cognitect.transit.caching.readCache,writeCache:com.cognitect.transit.caching.writeCache}}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/uuid/lib/bytesToUuid.js":function(t,e){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,o=r;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}},"./node_modules/uuid/lib/rng-browser.js":function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);t.exports=function(){return r(n),n}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},"./node_modules/uuid/v4.js":function(t,e,r){var n=r("./node_modules/uuid/lib/rng-browser.js"),o=r("./node_modules/uuid/lib/bytesToUuid.js");t.exports=function(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}},"./node_modules/webpack/buildin/global.js":function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"==typeof window&&(r=window)}t.exports=r},"./src/automerge.js":function(t,e,r){var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(c){o=!0,i=c}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r("./node_modules/transit-immutable-js/index.js"),i=r("./src/uuid.js"),a=r("./frontend/index.js"),s=r("./backend/index.js"),c=r("./src/common.js").isObject;function u(t,e){var r=l(t),o=s.applyChanges(s.init(),e),i=n(o,2),c=i[0];i[1];var u=s.getPatch(c);return u.state=c,a.applyPatch(r,u)}function l(t){if("string"==typeof t)t={actorId:t};else if(void 0===t)t={};else if(!c(t))throw new TypeError("Unsupported options for init(): "+t);return a.init(Object.assign({backend:s},t))}function g(t,e,r){var o=a.change(t,e,r),i=n(o,2),s=i[0];return i[1],s}function f(t,e){var r=a.getBackendState(t),n=a.getBackendState(e);return s.getChanges(r,n)}t.exports={init:l,from:function(t,e){return g(l(e),{message:"Initialization",undoable:!1},(function(e){return Object.assign(e,t)}))},change:g,emptyChange:function(t,e){var r=a.emptyChange(t,e),o=n(r,2),i=o[0];return o[1],i},undo:function(t,e){var r=a.undo(t,e),o=n(r,2),i=o[0];return o[1],i},redo:function(t,e){var r=a.redo(t,e),o=n(r,2),i=o[0];return o[1],i},load:function(t,e){return u(e,o.fromJSON(t))},save:function(t){var e=a.getBackendState(t);return o.toJSON(e.getIn(["opSet","history"]).concat(e.getIn(["opSet","queue"])))},merge:function(t,e){if(a.getActorId(t)===a.getActorId(e))throw new RangeError("Cannot merge an actor with itself");var r=a.getBackendState(t),o=a.getBackendState(e),i=s.merge(r,o),c=n(i,2),u=c[0],l=c[1];return 0===l.diffs.length?t:(l.state=u,a.applyPatch(t,l))},diff:function(t,e){var r=a.getBackendState(t),o=a.getBackendState(e),i=s.getChanges(r,o),c=s.applyChanges(r,i),u=n(c,2);return u[0],u[1].diffs},getChanges:f,getAllChanges:function(t){return f(l(),t)},applyChanges:function(t,e){var r=a.getBackendState(t),o=s.applyChanges(r,e),i=n(o,2),c=i[0],u=i[1];return u.state=c,a.applyPatch(t,u)},getMissingDeps:function(t){return s.getMissingDeps(a.getBackendState(t))},equals:function t(e,r){if(!c(e)||!c(r))return e===r;var n=Object.keys(e).sort(),o=Object.keys(r).sort();if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++){if(n[i]!==o[i])return!1;if(!t(e[n[i]],r[o[i]]))return!1}return!0},getHistory:function(t){var e=a.getBackendState(t),r=a.getActorId(t),n=e.getIn(["opSet","history"]);return n.map((function(t,e){return{get change(){return t.toJS()},get snapshot(){return u(r,n.slice(0,e+1))}}})).toArray()},uuid:i,Frontend:a,Backend:s,DocSet:r("./src/doc_set.js"),WatchableDoc:r("./src/watchable_doc.js"),Connection:r("./src/connection.js")};for(var h=["canUndo","canRedo","getObjectId","getObjectById","getActorId","setActorId","getConflicts","Text","Table","Counter"],p=0;p<h.length;p++){var d=h[p];t.exports[d]=a[d]}},"./src/common.js":function(t,e,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t){return"object"===(void 0===t?"undefined":n(t))&&null!==t}t.exports={ROOT_ID:"00000000-0000-0000-0000-000000000000",isObject:o,copyObject:function(t){if(!o(t))return{};var e={},r=!0,n=!1,i=void 0;try{for(var a,s=Object.keys(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;e[c]=t[c]}}catch(u){n=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}return e},lessOrEqual:function(t,e){return t.keySeq().concat(e.keySeq()).reduce((function(r,n){return r&&t.get(n,0)<=e.get(n,0)}),!0)},parseElemId:function(t){var e=/^(.*):(\d+)$/.exec(t||"");if(!e)throw new RangeError("Not a valid elemId: "+t);return{counter:parseInt(e[2]),actorId:e[1]}}}},"./src/connection.js":function(t,e,r){var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r("./node_modules/immutable/dist/immutable.js"),i=o.Map,a=o.fromJS,s=r("./src/common.js").lessOrEqual,c=r("./frontend/index.js"),u=r("./backend/index.js");function l(t,e,r){return r=t.get(e,i()).mergeWith((function(t,e){return Math.max(t,e)}),r),t.set(e,r)}var g=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._docSet=e,this._sendMsg=r,this._theirClock=i(),this._ourClock=i(),this._docChangedHandler=this.docChanged.bind(this)}return n(t,[{key:"open",value:function(){var t=!0,e=!1,r=void 0;try{for(var n,o=this._docSet.docIds[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;this.docChanged(i,this._docSet.getDoc(i))}}catch(a){e=!0,r=a}finally{try{!t&&o.return&&o.return()}finally{if(e)throw r}}this._docSet.registerHandler(this._docChangedHandler)}},{key:"close",value:function(){this._docSet.unregisterHandler(this._docChangedHandler)}},{key:"sendMsg",value:function(t,e,r){var n={docId:t,clock:e.toJS()};this._ourClock=l(this._ourClock,t,e),r&&(n.changes=r),this._sendMsg(n)}},{key:"maybeSendChanges",value:function(t){var e=this._docSet.getDoc(t),r=c.getBackendState(e),n=r.getIn(["opSet","clock"]);if(this._theirClock.has(t)){var o=u.getMissingChanges(r,this._theirClock.get(t));if(o.length>0)return this._theirClock=l(this._theirClock,t,n),void this.sendMsg(t,n,o)}n.equals(this._ourClock.get(t,i()))||this.sendMsg(t,n)}},{key:"docChanged",value:function(t,e){var r=c.getBackendState(e).getIn(["opSet","clock"]);if(!r)throw new TypeError("This object cannot be used for network sync. Are you trying to sync a snapshot from the history?");if(!s(this._ourClock.get(t,i()),r))throw new RangeError("Cannot pass an old state object to a connection");this.maybeSendChanges(t)}},{key:"receiveMsg",value:function(t){return t.clock&&(this._theirClock=l(this._theirClock,t.docId,a(t.clock))),t.changes?this._docSet.applyChanges(t.docId,a(t.changes)):(this._docSet.getDoc(t.docId)?this.maybeSendChanges(t.docId):this._ourClock.has(t.docId)||this.sendMsg(t.docId,i()),this._docSet.getDoc(t.docId))}}]),t}();t.exports=g},"./src/doc_set.js":function(t,e,r){var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(c){o=!0,i=c}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r("./node_modules/immutable/dist/immutable.js"),a=i.Map,s=i.Set;r("./src/uuid.js");var c=r("./frontend/index.js"),u=r("./backend/index.js"),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.docs=a(),this.handlers=s()}return o(t,[{key:"getDoc",value:function(t){return this.docs.get(t)}},{key:"removeDoc",value:function(t){this.docs=this.docs.delete(t)}},{key:"setDoc",value:function(t,e){this.docs=this.docs.set(t,e),this.handlers.forEach((function(r){return r(t,e)}))}},{key:"applyChanges",value:function(t,e){var r=this.docs.get(t)||c.init({backend:u}),o=c.getBackendState(r),i=u.applyChanges(o,e),a=n(i,2),s=a[0],l=a[1];return l.state=s,r=c.applyPatch(r,l),this.setDoc(t,r),r}},{key:"registerHandler",value:function(t){this.handlers=this.handlers.add(t)}},{key:"unregisterHandler",value:function(t){this.handlers=this.handlers.remove(t)}},{key:"docIds",get:function(){return this.docs.keys()}}]),t}();t.exports=l},"./src/uuid.js":function(t,e,r){var n=r("./node_modules/uuid/v4.js"),o=n;function i(){return o()}i.setFactory=function(t){return o=t},i.reset=function(){return o=n},t.exports=i},"./src/watchable_doc.js":function(t,e,r){var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(c){o=!0,i=c}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r("./node_modules/immutable/dist/immutable.js").Set,a=r("./frontend/index.js"),s=r("./backend/index.js"),c=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("doc argument is required");this.doc=e,this.handlers=i()}return o(t,[{key:"get",value:function(){return this.doc}},{key:"set",value:function(t){this.doc=t,this.handlers.forEach((function(e){return e(t)}))}},{key:"applyChanges",value:function(t){var e=a.getBackendState(this.doc),r=s.applyChanges(e,t),o=n(r,2),i=o[0],c=o[1];c.state=i;var u=a.applyPatch(this.doc,c);return this.set(u),u}},{key:"registerHandler",value:function(t){this.handlers=this.handlers.add(t)}},{key:"unregisterHandler",value:function(t){this.handlers=this.handlers.remove(t)}}]),t}();t.exports=c}})},module.exports=factory()})),Automerge=getDefaultExportFromCjs(automerge);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function __awaiter(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(e){i(e)}}function s(t){try{c(n.throw(t))}catch(e){i(e)}}function c(t){t.done?o(t.value):new r((function(e){e(t.value)})).then(a,s)}c((n=n.apply(t,e||[])).next())}))}function __generator(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:__viteBrowserExternal}),require$$0=getAugmentedNamespace(__viteBrowserExternal$1),naclFast=createCommonjsModule((function(t){!function(t){var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var i=e(),a=e([1]),s=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function p(t,e,r,n,o){var i,a=0;for(i=0;i<o;i++)a|=t[e+i]^r[n+i];return(1&a-1>>>8)-1}function d(t,e,r,n){return p(t,e,r,n,16)}function y(t,e,r,n){return p(t,e,r,n,32)}function m(t,e,r,n){!function(t,e,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,g=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,h=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,d=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,_=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=i,S=a,E=s,k=c,T=u,j=l,x=g,I=f,O=h,A=p,C=d,M=y,R=m,L=v,q=_,D=b,N=0;N<20;N+=2)w^=(o=(R^=(o=(O^=(o=(T^=(o=w+R|0)<<7|o>>>25)+w|0)<<9|o>>>23)+T|0)<<13|o>>>19)+O|0)<<18|o>>>14,j^=(o=(S^=(o=(L^=(o=(A^=(o=j+S|0)<<7|o>>>25)+j|0)<<9|o>>>23)+A|0)<<13|o>>>19)+L|0)<<18|o>>>14,C^=(o=(x^=(o=(E^=(o=(q^=(o=C+x|0)<<7|o>>>25)+C|0)<<9|o>>>23)+q|0)<<13|o>>>19)+E|0)<<18|o>>>14,D^=(o=(M^=(o=(I^=(o=(k^=(o=D+M|0)<<7|o>>>25)+D|0)<<9|o>>>23)+k|0)<<13|o>>>19)+I|0)<<18|o>>>14,w^=(o=(k^=(o=(E^=(o=(S^=(o=w+k|0)<<7|o>>>25)+w|0)<<9|o>>>23)+S|0)<<13|o>>>19)+E|0)<<18|o>>>14,j^=(o=(T^=(o=(I^=(o=(x^=(o=j+T|0)<<7|o>>>25)+j|0)<<9|o>>>23)+x|0)<<13|o>>>19)+I|0)<<18|o>>>14,C^=(o=(A^=(o=(O^=(o=(M^=(o=C+A|0)<<7|o>>>25)+C|0)<<9|o>>>23)+M|0)<<13|o>>>19)+O|0)<<18|o>>>14,D^=(o=(q^=(o=(L^=(o=(R^=(o=D+q|0)<<7|o>>>25)+D|0)<<9|o>>>23)+R|0)<<13|o>>>19)+L|0)<<18|o>>>14;w=w+i|0,S=S+a|0,E=E+s|0,k=k+c|0,T=T+u|0,j=j+l|0,x=x+g|0,I=I+f|0,O=O+h|0,A=A+p|0,C=C+d|0,M=M+y|0,R=R+m|0,L=L+v|0,q=q+_|0,D=D+b|0,t[0]=w>>>0&255,t[1]=w>>>8&255,t[2]=w>>>16&255,t[3]=w>>>24&255,t[4]=S>>>0&255,t[5]=S>>>8&255,t[6]=S>>>16&255,t[7]=S>>>24&255,t[8]=E>>>0&255,t[9]=E>>>8&255,t[10]=E>>>16&255,t[11]=E>>>24&255,t[12]=k>>>0&255,t[13]=k>>>8&255,t[14]=k>>>16&255,t[15]=k>>>24&255,t[16]=T>>>0&255,t[17]=T>>>8&255,t[18]=T>>>16&255,t[19]=T>>>24&255,t[20]=j>>>0&255,t[21]=j>>>8&255,t[22]=j>>>16&255,t[23]=j>>>24&255,t[24]=x>>>0&255,t[25]=x>>>8&255,t[26]=x>>>16&255,t[27]=x>>>24&255,t[28]=I>>>0&255,t[29]=I>>>8&255,t[30]=I>>>16&255,t[31]=I>>>24&255,t[32]=O>>>0&255,t[33]=O>>>8&255,t[34]=O>>>16&255,t[35]=O>>>24&255,t[36]=A>>>0&255,t[37]=A>>>8&255,t[38]=A>>>16&255,t[39]=A>>>24&255,t[40]=C>>>0&255,t[41]=C>>>8&255,t[42]=C>>>16&255,t[43]=C>>>24&255,t[44]=M>>>0&255,t[45]=M>>>8&255,t[46]=M>>>16&255,t[47]=M>>>24&255,t[48]=R>>>0&255,t[49]=R>>>8&255,t[50]=R>>>16&255,t[51]=R>>>24&255,t[52]=L>>>0&255,t[53]=L>>>8&255,t[54]=L>>>16&255,t[55]=L>>>24&255,t[56]=q>>>0&255,t[57]=q>>>8&255,t[58]=q>>>16&255,t[59]=q>>>24&255,t[60]=D>>>0&255,t[61]=D>>>8&255,t[62]=D>>>16&255,t[63]=D>>>24&255}(t,e,r,n)}function v(t,e,r,n){!function(t,e,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,g=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,h=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,d=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,_=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=0;w<20;w+=2)i^=(o=(m^=(o=(h^=(o=(u^=(o=i+m|0)<<7|o>>>25)+i|0)<<9|o>>>23)+u|0)<<13|o>>>19)+h|0)<<18|o>>>14,l^=(o=(a^=(o=(v^=(o=(p^=(o=l+a|0)<<7|o>>>25)+l|0)<<9|o>>>23)+p|0)<<13|o>>>19)+v|0)<<18|o>>>14,d^=(o=(g^=(o=(s^=(o=(_^=(o=d+g|0)<<7|o>>>25)+d|0)<<9|o>>>23)+_|0)<<13|o>>>19)+s|0)<<18|o>>>14,b^=(o=(y^=(o=(f^=(o=(c^=(o=b+y|0)<<7|o>>>25)+b|0)<<9|o>>>23)+c|0)<<13|o>>>19)+f|0)<<18|o>>>14,i^=(o=(c^=(o=(s^=(o=(a^=(o=i+c|0)<<7|o>>>25)+i|0)<<9|o>>>23)+a|0)<<13|o>>>19)+s|0)<<18|o>>>14,l^=(o=(u^=(o=(f^=(o=(g^=(o=l+u|0)<<7|o>>>25)+l|0)<<9|o>>>23)+g|0)<<13|o>>>19)+f|0)<<18|o>>>14,d^=(o=(p^=(o=(h^=(o=(y^=(o=d+p|0)<<7|o>>>25)+d|0)<<9|o>>>23)+y|0)<<13|o>>>19)+h|0)<<18|o>>>14,b^=(o=(_^=(o=(v^=(o=(m^=(o=b+_|0)<<7|o>>>25)+b|0)<<9|o>>>23)+m|0)<<13|o>>>19)+v|0)<<18|o>>>14;t[0]=i>>>0&255,t[1]=i>>>8&255,t[2]=i>>>16&255,t[3]=i>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=d>>>0&255,t[9]=d>>>8&255,t[10]=d>>>16&255,t[11]=d>>>24&255,t[12]=b>>>0&255,t[13]=b>>>8&255,t[14]=b>>>16&255,t[15]=b>>>24&255,t[16]=g>>>0&255,t[17]=g>>>8&255,t[18]=g>>>16&255,t[19]=g>>>24&255,t[20]=f>>>0&255,t[21]=f>>>8&255,t[22]=f>>>16&255,t[23]=f>>>24&255,t[24]=h>>>0&255,t[25]=h>>>8&255,t[26]=h>>>16&255,t[27]=h>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,r,n)}var _=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function b(t,e,r,n,o,i,a){var s,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=i[c];for(;o>=64;){for(m(l,u,a,_),c=0;c<64;c++)t[e+c]=r[n+c]^l[c];for(s=1,c=8;c<16;c++)s=s+(255&u[c])|0,u[c]=255&s,s>>>=8;o-=64,e+=64,n+=64}if(o>0)for(m(l,u,a,_),c=0;c<o;c++)t[e+c]=r[n+c]^l[c];return 0}function w(t,e,r,n,o){var i,a,s=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=n[a];for(;r>=64;){for(m(c,s,o,_),a=0;a<64;a++)t[e+a]=c[a];for(i=1,a=8;a<16;a++)i=i+(255&s[a])|0,s[a]=255&i,i>>>=8;r-=64,e+=64}if(r>0)for(m(c,s,o,_),a=0;a<r;a++)t[e+a]=c[a];return 0}function S(t,e,r,n,o){var i=new Uint8Array(32);v(i,n,o,_);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=n[s+16];return w(t,e,r,a,i)}function E(t,e,r,n,o,i,a){var s=new Uint8Array(32);v(s,i,a,_);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=i[u+16];return b(t,e,r,n,o,c,s)}var k=function(t){var e,r,n,o,i,a,s,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),o=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|o<<9),i=255&t[8]|(255&t[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,a=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(i>>>14|a<<2),s=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(a>>>11|s<<5),c=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(s>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function T(t,e,r,n,o,i){var a=new k(i);return a.update(r,n,o),a.finish(t,e),0}function j(t,e,r,n,o,i){var a=new Uint8Array(16);return T(a,0,r,n,o,i),d(t,e,a,0)}function x(t,e,r,n,o){var i;if(r<32)return-1;for(E(t,0,e,0,r,n,o),T(t,16,t,32,r-32,t),i=0;i<16;i++)t[i]=0;return 0}function I(t,e,r,n,o){var i,a=new Uint8Array(32);if(r<32)return-1;if(S(a,0,32,n,o),0!==j(e,16,e,32,r-32,a))return-1;for(E(t,0,e,0,r,n,o),i=0;i<32;i++)t[i]=0;return 0}function O(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function A(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function C(t,e,r){for(var n,o=~(r-1),i=0;i<16;i++)n=o&(t[i]^e[i]),t[i]^=n,e[i]^=n}function M(t,r){var n,o,i,a=e(),s=e();for(n=0;n<16;n++)s[n]=r[n];for(A(s),A(s),A(s),o=0;o<2;o++){for(a[0]=s[0]-65517,n=1;n<15;n++)a[n]=s[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,C(s,a,1-i)}for(n=0;n<16;n++)t[2*n]=255&s[n],t[2*n+1]=s[n]>>8}function R(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return M(r,t),M(n,e),y(r,0,n,0)}function L(t){var e=new Uint8Array(32);return M(e,t),1&e[0]}function q(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function D(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function N(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function P(t,e,r){var n,o,i=0,a=0,s=0,c=0,u=0,l=0,g=0,f=0,h=0,p=0,d=0,y=0,m=0,v=0,_=0,b=0,w=0,S=0,E=0,k=0,T=0,j=0,x=0,I=0,O=0,A=0,C=0,M=0,R=0,L=0,q=0,D=r[0],N=r[1],P=r[2],U=r[3],B=r[4],z=r[5],$=r[6],H=r[7],F=r[8],K=r[9],W=r[10],V=r[11],G=r[12],Y=r[13],J=r[14],X=r[15];i+=(n=e[0])*D,a+=n*N,s+=n*P,c+=n*U,u+=n*B,l+=n*z,g+=n*$,f+=n*H,h+=n*F,p+=n*K,d+=n*W,y+=n*V,m+=n*G,v+=n*Y,_+=n*J,b+=n*X,a+=(n=e[1])*D,s+=n*N,c+=n*P,u+=n*U,l+=n*B,g+=n*z,f+=n*$,h+=n*H,p+=n*F,d+=n*K,y+=n*W,m+=n*V,v+=n*G,_+=n*Y,b+=n*J,w+=n*X,s+=(n=e[2])*D,c+=n*N,u+=n*P,l+=n*U,g+=n*B,f+=n*z,h+=n*$,p+=n*H,d+=n*F,y+=n*K,m+=n*W,v+=n*V,_+=n*G,b+=n*Y,w+=n*J,S+=n*X,c+=(n=e[3])*D,u+=n*N,l+=n*P,g+=n*U,f+=n*B,h+=n*z,p+=n*$,d+=n*H,y+=n*F,m+=n*K,v+=n*W,_+=n*V,b+=n*G,w+=n*Y,S+=n*J,E+=n*X,u+=(n=e[4])*D,l+=n*N,g+=n*P,f+=n*U,h+=n*B,p+=n*z,d+=n*$,y+=n*H,m+=n*F,v+=n*K,_+=n*W,b+=n*V,w+=n*G,S+=n*Y,E+=n*J,k+=n*X,l+=(n=e[5])*D,g+=n*N,f+=n*P,h+=n*U,p+=n*B,d+=n*z,y+=n*$,m+=n*H,v+=n*F,_+=n*K,b+=n*W,w+=n*V,S+=n*G,E+=n*Y,k+=n*J,T+=n*X,g+=(n=e[6])*D,f+=n*N,h+=n*P,p+=n*U,d+=n*B,y+=n*z,m+=n*$,v+=n*H,_+=n*F,b+=n*K,w+=n*W,S+=n*V,E+=n*G,k+=n*Y,T+=n*J,j+=n*X,f+=(n=e[7])*D,h+=n*N,p+=n*P,d+=n*U,y+=n*B,m+=n*z,v+=n*$,_+=n*H,b+=n*F,w+=n*K,S+=n*W,E+=n*V,k+=n*G,T+=n*Y,j+=n*J,x+=n*X,h+=(n=e[8])*D,p+=n*N,d+=n*P,y+=n*U,m+=n*B,v+=n*z,_+=n*$,b+=n*H,w+=n*F,S+=n*K,E+=n*W,k+=n*V,T+=n*G,j+=n*Y,x+=n*J,I+=n*X,p+=(n=e[9])*D,d+=n*N,y+=n*P,m+=n*U,v+=n*B,_+=n*z,b+=n*$,w+=n*H,S+=n*F,E+=n*K,k+=n*W,T+=n*V,j+=n*G,x+=n*Y,I+=n*J,O+=n*X,d+=(n=e[10])*D,y+=n*N,m+=n*P,v+=n*U,_+=n*B,b+=n*z,w+=n*$,S+=n*H,E+=n*F,k+=n*K,T+=n*W,j+=n*V,x+=n*G,I+=n*Y,O+=n*J,A+=n*X,y+=(n=e[11])*D,m+=n*N,v+=n*P,_+=n*U,b+=n*B,w+=n*z,S+=n*$,E+=n*H,k+=n*F,T+=n*K,j+=n*W,x+=n*V,I+=n*G,O+=n*Y,A+=n*J,C+=n*X,m+=(n=e[12])*D,v+=n*N,_+=n*P,b+=n*U,w+=n*B,S+=n*z,E+=n*$,k+=n*H,T+=n*F,j+=n*K,x+=n*W,I+=n*V,O+=n*G,A+=n*Y,C+=n*J,M+=n*X,v+=(n=e[13])*D,_+=n*N,b+=n*P,w+=n*U,S+=n*B,E+=n*z,k+=n*$,T+=n*H,j+=n*F,x+=n*K,I+=n*W,O+=n*V,A+=n*G,C+=n*Y,M+=n*J,R+=n*X,_+=(n=e[14])*D,b+=n*N,w+=n*P,S+=n*U,E+=n*B,k+=n*z,T+=n*$,j+=n*H,x+=n*F,I+=n*K,O+=n*W,A+=n*V,C+=n*G,M+=n*Y,R+=n*J,L+=n*X,b+=(n=e[15])*D,a+=38*(S+=n*P),s+=38*(E+=n*U),c+=38*(k+=n*B),u+=38*(T+=n*z),l+=38*(j+=n*$),g+=38*(x+=n*H),f+=38*(I+=n*F),h+=38*(O+=n*K),p+=38*(A+=n*W),d+=38*(C+=n*V),y+=38*(M+=n*G),m+=38*(R+=n*Y),v+=38*(L+=n*J),_+=38*(q+=n*X),i=(n=(i+=38*(w+=n*N))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),_=(n=_+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),i=(n=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),_=(n=_+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),i+=o-1+37*(o-1),t[0]=i,t[1]=a,t[2]=s,t[3]=c,t[4]=u,t[5]=l,t[6]=g,t[7]=f,t[8]=h,t[9]=p,t[10]=d,t[11]=y,t[12]=m,t[13]=v,t[14]=_,t[15]=b}function U(t,e){P(t,e,e)}function B(t,r){var n,o=e();for(n=0;n<16;n++)o[n]=r[n];for(n=253;n>=0;n--)U(o,o),2!==n&&4!==n&&P(o,o,r);for(n=0;n<16;n++)t[n]=o[n]}function z(t,r){var n,o=e();for(n=0;n<16;n++)o[n]=r[n];for(n=250;n>=0;n--)U(o,o),1!==n&&P(o,o,r);for(n=0;n<16;n++)t[n]=o[n]}function $(t,r,n){var o,i,a=new Uint8Array(32),c=new Float64Array(80),u=e(),l=e(),g=e(),f=e(),h=e(),p=e();for(i=0;i<31;i++)a[i]=r[i];for(a[31]=127&r[31]|64,a[0]&=248,q(c,n),i=0;i<16;i++)l[i]=c[i],f[i]=u[i]=g[i]=0;for(u[0]=f[0]=1,i=254;i>=0;--i)C(u,l,o=a[i>>>3]>>>(7&i)&1),C(g,f,o),D(h,u,g),N(u,u,g),D(g,l,f),N(l,l,f),U(f,h),U(p,u),P(u,g,u),P(g,l,h),D(h,u,g),N(u,u,g),U(l,u),N(g,f,p),P(u,g,s),D(u,u,f),P(g,g,u),P(u,f,p),P(f,l,c),U(l,h),C(u,l,o),C(g,f,o);for(i=0;i<16;i++)c[i+16]=u[i],c[i+32]=g[i],c[i+48]=l[i],c[i+64]=f[i];var d=c.subarray(32),y=c.subarray(16);return B(d,d),P(y,y,d),M(t,y),0}function H(t,e){return $(t,e,o)}function F(t,e){return r(e,32),H(t,e)}function K(t,e,r){var o=new Uint8Array(32);return $(o,r,e),v(t,n,o,_)}k.prototype.blocks=function(t,e,r){for(var n,o,i,a,s,c,u,l,g,f,h,p,d,y,m,v,_,b,w,S=this.fin?0:2048,E=this.h[0],k=this.h[1],T=this.h[2],j=this.h[3],x=this.h[4],I=this.h[5],O=this.h[6],A=this.h[7],C=this.h[8],M=this.h[9],R=this.r[0],L=this.r[1],q=this.r[2],D=this.r[3],N=this.r[4],P=this.r[5],U=this.r[6],B=this.r[7],z=this.r[8],$=this.r[9];r>=16;)f=g=0,f+=(E+=8191&(n=255&t[e+0]|(255&t[e+1])<<8))*R,f+=(k+=8191&(n>>>13|(o=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*$),f+=(T+=8191&(o>>>10|(i=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*z),f+=(j+=8191&(i>>>7|(a=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*B),g=(f+=(x+=8191&(a>>>4|(s=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*U))>>>13,f&=8191,f+=(I+=s>>>1&8191)*(5*P),f+=(O+=8191&(s>>>14|(c=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*N),f+=(A+=8191&(c>>>11|(u=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*D),f+=(C+=8191&(u>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*q),h=g+=(f+=(M+=l>>>5|S)*(5*L))>>>13,h+=E*L,h+=k*R,h+=T*(5*$),h+=j*(5*z),g=(h+=x*(5*B))>>>13,h&=8191,h+=I*(5*U),h+=O*(5*P),h+=A*(5*N),h+=C*(5*D),g+=(h+=M*(5*q))>>>13,h&=8191,p=g,p+=E*q,p+=k*L,p+=T*R,p+=j*(5*$),g=(p+=x*(5*z))>>>13,p&=8191,p+=I*(5*B),p+=O*(5*U),p+=A*(5*P),p+=C*(5*N),d=g+=(p+=M*(5*D))>>>13,d+=E*D,d+=k*q,d+=T*L,d+=j*R,g=(d+=x*(5*$))>>>13,d&=8191,d+=I*(5*z),d+=O*(5*B),d+=A*(5*U),d+=C*(5*P),y=g+=(d+=M*(5*N))>>>13,y+=E*N,y+=k*D,y+=T*q,y+=j*L,g=(y+=x*R)>>>13,y&=8191,y+=I*(5*$),y+=O*(5*z),y+=A*(5*B),y+=C*(5*U),m=g+=(y+=M*(5*P))>>>13,m+=E*P,m+=k*N,m+=T*D,m+=j*q,g=(m+=x*L)>>>13,m&=8191,m+=I*R,m+=O*(5*$),m+=A*(5*z),m+=C*(5*B),v=g+=(m+=M*(5*U))>>>13,v+=E*U,v+=k*P,v+=T*N,v+=j*D,g=(v+=x*q)>>>13,v&=8191,v+=I*L,v+=O*R,v+=A*(5*$),v+=C*(5*z),_=g+=(v+=M*(5*B))>>>13,_+=E*B,_+=k*U,_+=T*P,_+=j*N,g=(_+=x*D)>>>13,_&=8191,_+=I*q,_+=O*L,_+=A*R,_+=C*(5*$),b=g+=(_+=M*(5*z))>>>13,b+=E*z,b+=k*B,b+=T*U,b+=j*P,g=(b+=x*N)>>>13,b&=8191,b+=I*D,b+=O*q,b+=A*L,b+=C*R,w=g+=(b+=M*(5*$))>>>13,w+=E*$,w+=k*z,w+=T*B,w+=j*U,g=(w+=x*P)>>>13,w&=8191,w+=I*N,w+=O*D,w+=A*q,w+=C*L,E=f=8191&(g=(g=((g+=(w+=M*R)>>>13)<<2)+g|0)+(f&=8191)|0),k=h+=g>>>=13,T=p&=8191,j=d&=8191,x=y&=8191,I=m&=8191,O=v&=8191,A=_&=8191,C=b&=8191,M=w&=8191,e+=16,r-=16;this.h[0]=E,this.h[1]=k,this.h[2]=T,this.h[3]=j,this.h[4]=x,this.h[5]=I,this.h[6]=O,this.h[7]=A,this.h[8]=C,this.h[9]=M},k.prototype.finish=function(t,e){var r,n,o,i,a=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=r,r=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,i=1;i<10;i++)a[i]=this.h[i]+r,r=a[i]>>>13,a[i]&=8191;for(a[9]-=8192,n=(1^r)-1,i=0;i<10;i++)a[i]&=n;for(n=~n,i=0;i<10;i++)this.h[i]=this.h[i]&n|a[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},k.prototype.update=function(t,e,r){var n,o;if(this.leftover){for((o=16-this.leftover)>r&&(o=r),n=0;n<o;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=o,e+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(o=r-r%16,this.blocks(t,e,o),e+=o,r-=o),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var W=x,V=I;var G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(t,e,r,n){for(var o,i,a,s,c,u,l,g,f,h,p,d,y,m,v,_,b,w,S,E,k,T,j,x,I,O,A=new Int32Array(16),C=new Int32Array(16),M=t[0],R=t[1],L=t[2],q=t[3],D=t[4],N=t[5],P=t[6],U=t[7],B=e[0],z=e[1],$=e[2],H=e[3],F=e[4],K=e[5],W=e[6],V=e[7],Y=0;n>=128;){for(S=0;S<16;S++)E=8*S+Y,A[S]=r[E+0]<<24|r[E+1]<<16|r[E+2]<<8|r[E+3],C[S]=r[E+4]<<24|r[E+5]<<16|r[E+6]<<8|r[E+7];for(S=0;S<80;S++)if(o=M,i=R,a=L,s=q,c=D,u=N,l=P,U,f=B,h=z,p=$,d=H,y=F,m=K,v=W,V,j=65535&(T=V),x=T>>>16,I=65535&(k=U),O=k>>>16,j+=65535&(T=(F>>>14|D<<18)^(F>>>18|D<<14)^(D>>>9|F<<23)),x+=T>>>16,I+=65535&(k=(D>>>14|F<<18)^(D>>>18|F<<14)^(F>>>9|D<<23)),O+=k>>>16,j+=65535&(T=F&K^~F&W),x+=T>>>16,I+=65535&(k=D&N^~D&P),O+=k>>>16,j+=65535&(T=G[2*S+1]),x+=T>>>16,I+=65535&(k=G[2*S]),O+=k>>>16,k=A[S%16],x+=(T=C[S%16])>>>16,I+=65535&k,O+=k>>>16,I+=(x+=(j+=65535&T)>>>16)>>>16,j=65535&(T=w=65535&j|x<<16),x=T>>>16,I=65535&(k=b=65535&I|(O+=I>>>16)<<16),O=k>>>16,j+=65535&(T=(B>>>28|M<<4)^(M>>>2|B<<30)^(M>>>7|B<<25)),x+=T>>>16,I+=65535&(k=(M>>>28|B<<4)^(B>>>2|M<<30)^(B>>>7|M<<25)),O+=k>>>16,x+=(T=B&z^B&$^z&$)>>>16,I+=65535&(k=M&R^M&L^R&L),O+=k>>>16,g=65535&(I+=(x+=(j+=65535&T)>>>16)>>>16)|(O+=I>>>16)<<16,_=65535&j|x<<16,j=65535&(T=d),x=T>>>16,I=65535&(k=s),O=k>>>16,x+=(T=w)>>>16,I+=65535&(k=b),O+=k>>>16,R=o,L=i,q=a,D=s=65535&(I+=(x+=(j+=65535&T)>>>16)>>>16)|(O+=I>>>16)<<16,N=c,P=u,U=l,M=g,z=f,$=h,H=p,F=d=65535&j|x<<16,K=y,W=m,V=v,B=_,S%16==15)for(E=0;E<16;E++)k=A[E],j=65535&(T=C[E]),x=T>>>16,I=65535&k,O=k>>>16,k=A[(E+9)%16],j+=65535&(T=C[(E+9)%16]),x+=T>>>16,I+=65535&k,O+=k>>>16,b=A[(E+1)%16],j+=65535&(T=((w=C[(E+1)%16])>>>1|b<<31)^(w>>>8|b<<24)^(w>>>7|b<<25)),x+=T>>>16,I+=65535&(k=(b>>>1|w<<31)^(b>>>8|w<<24)^b>>>7),O+=k>>>16,b=A[(E+14)%16],x+=(T=((w=C[(E+14)%16])>>>19|b<<13)^(b>>>29|w<<3)^(w>>>6|b<<26))>>>16,I+=65535&(k=(b>>>19|w<<13)^(w>>>29|b<<3)^b>>>6),O+=k>>>16,O+=(I+=(x+=(j+=65535&T)>>>16)>>>16)>>>16,A[E]=65535&I|O<<16,C[E]=65535&j|x<<16;j=65535&(T=B),x=T>>>16,I=65535&(k=M),O=k>>>16,k=t[0],x+=(T=e[0])>>>16,I+=65535&k,O+=k>>>16,O+=(I+=(x+=(j+=65535&T)>>>16)>>>16)>>>16,t[0]=M=65535&I|O<<16,e[0]=B=65535&j|x<<16,j=65535&(T=z),x=T>>>16,I=65535&(k=R),O=k>>>16,k=t[1],x+=(T=e[1])>>>16,I+=65535&k,O+=k>>>16,O+=(I+=(x+=(j+=65535&T)>>>16)>>>16)>>>16,t[1]=R=65535&I|O<<16,e[1]=z=65535&j|x<<16,j=65535&(T=$),x=T>>>16,I=65535&(k=L),O=k>>>16,k=t[2],x+=(T=e[2])>>>16,I+=65535&k,O+=k>>>16,O+=(I+=(x+=(j+=65535&T)>>>16)>>>16)>>>16,t[2]=L=65535&I|O<<16,e[2]=$=65535&j|x<<16,j=65535&(T=H),x=T>>>16,I=65535&(k=q),O=k>>>16,k=t[3],x+=(T=e[3])>>>16,I+=65535&k,O+=k>>>16,O+=(I+=(x+=(j+=65535&T)>>>16)>>>16)>>>16,t[3]=q=65535&I|O<<16,e[3]=H=65535&j|x<<16,j=65535&(T=F),x=T>>>16,I=65535&(k=D),O=k>>>16,k=t[4],x+=(T=e[4])>>>16,I+=65535&k,O+=k>>>16,O+=(I+=(x+=(j+=65535&T)>>>16)>>>16)>>>16,t[4]=D=65535&I|O<<16,e[4]=F=65535&j|x<<16,j=65535&(T=K),x=T>>>16,I=65535&(k=N),O=k>>>16,k=t[5],x+=(T=e[5])>>>16,I+=65535&k,O+=k>>>16,O+=(I+=(x+=(j+=65535&T)>>>16)>>>16)>>>16,t[5]=N=65535&I|O<<16,e[5]=K=65535&j|x<<16,j=65535&(T=W),x=T>>>16,I=65535&(k=P),O=k>>>16,k=t[6],x+=(T=e[6])>>>16,I+=65535&k,O+=k>>>16,O+=(I+=(x+=(j+=65535&T)>>>16)>>>16)>>>16,t[6]=P=65535&I|O<<16,e[6]=W=65535&j|x<<16,j=65535&(T=V),x=T>>>16,I=65535&(k=U),O=k>>>16,k=t[7],x+=(T=e[7])>>>16,I+=65535&k,O+=k>>>16,O+=(I+=(x+=(j+=65535&T)>>>16)>>>16)>>>16,t[7]=U=65535&I|O<<16,e[7]=V=65535&j|x<<16,Y+=128,n-=128}return n}function J(t,e,r){var n,o=new Int32Array(8),i=new Int32Array(8),a=new Uint8Array(256),s=r;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,Y(o,i,e,r),r%=128,n=0;n<r;n++)a[n]=e[s-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,h(a,r-8,s/536870912|0,s<<3),Y(o,i,a,r),n=0;n<8;n++)h(t,8*n,o[n],i[n]);return 0}function X(t,r){var n=e(),o=e(),i=e(),a=e(),s=e(),c=e(),l=e(),g=e(),f=e();N(n,t[1],t[0]),N(f,r[1],r[0]),P(n,n,f),D(o,t[0],t[1]),D(f,r[0],r[1]),P(o,o,f),P(i,t[3],r[3]),P(i,i,u),P(a,t[2],r[2]),D(a,a,a),N(s,o,n),N(c,a,i),D(l,a,i),D(g,o,n),P(t[0],s,c),P(t[1],g,l),P(t[2],l,c),P(t[3],s,g)}function Z(t,e,r){var n;for(n=0;n<4;n++)C(t[n],e[n],r)}function Q(t,r){var n=e(),o=e(),i=e();B(i,r[2]),P(n,r[0],i),P(o,r[1],i),M(t,o),t[31]^=L(n)<<7}function tt(t,e,r){var n,o;for(O(t[0],i),O(t[1],a),O(t[2],a),O(t[3],i),o=255;o>=0;--o)Z(t,e,n=r[o/8|0]>>(7&o)&1),X(e,t),X(t,t),Z(t,e,n)}function et(t,r){var n=[e(),e(),e(),e()];O(n[0],l),O(n[1],g),O(n[2],a),P(n[3],l,g),tt(t,n,r)}function rt(t,n,o){var i,a=new Uint8Array(64),s=[e(),e(),e(),e()];for(o||r(n,32),J(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,et(s,a),Q(t,s),i=0;i<32;i++)n[i+32]=t[i];return 0}var nt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(t,e){var r,n,o,i;for(n=63;n>=32;--n){for(r=0,o=n-32,i=n-12;o<i;++o)e[o]+=r-16*e[n]*nt[o-(n-32)],r=Math.floor((e[o]+128)/256),e[o]-=256*r;e[o]+=r,e[n]=0}for(r=0,o=0;o<32;o++)e[o]+=r-(e[31]>>4)*nt[o],r=e[o]>>8,e[o]&=255;for(o=0;o<32;o++)e[o]-=r*nt[o];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function it(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;ot(t,r)}function at(t,r,n,o){var i,a,s=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),g=[e(),e(),e(),e()];J(s,o,32),s[0]&=248,s[31]&=127,s[31]|=64;var f=n+64;for(i=0;i<n;i++)t[64+i]=r[i];for(i=0;i<32;i++)t[32+i]=s[32+i];for(J(u,t.subarray(32),n+32),it(u),et(g,u),Q(t,g),i=32;i<64;i++)t[i]=o[i];for(J(c,t,n+64),it(c),i=0;i<64;i++)l[i]=0;for(i=0;i<32;i++)l[i]=u[i];for(i=0;i<32;i++)for(a=0;a<32;a++)l[i+a]+=c[i]*s[a];return ot(t.subarray(32),l),f}function st(t,r,n,o){var s,u=new Uint8Array(32),l=new Uint8Array(64),g=[e(),e(),e(),e()],h=[e(),e(),e(),e()];if(n<64)return-1;if(function(t,r){var n=e(),o=e(),s=e(),u=e(),l=e(),g=e(),h=e();return O(t[2],a),q(t[1],r),U(s,t[1]),P(u,s,c),N(s,s,t[2]),D(u,t[2],u),U(l,u),U(g,l),P(h,g,l),P(n,h,s),P(n,n,u),z(n,n),P(n,n,s),P(n,n,u),P(n,n,u),P(t[0],n,u),U(o,t[0]),P(o,o,u),R(o,s)&&P(t[0],t[0],f),U(o,t[0]),P(o,o,u),R(o,s)?-1:(L(t[0])===r[31]>>7&&N(t[0],i,t[0]),P(t[3],t[0],t[1]),0)}(h,o))return-1;for(s=0;s<n;s++)t[s]=r[s];for(s=0;s<32;s++)t[s+32]=o[s];if(J(l,t,n),it(l),tt(g,h,l),et(h,r.subarray(32)),X(g,h),Q(u,g),n-=64,y(r,0,u,0)){for(s=0;s<n;s++)t[s]=0;return-1}for(s=0;s<n;s++)t[s]=r[s+64];return n}var ct=16,ut=64,lt=32,gt=64;function ft(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function ht(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:E,crypto_stream:S,crypto_stream_salsa20_xor:b,crypto_stream_salsa20:w,crypto_onetimeauth:T,crypto_onetimeauth_verify:j,crypto_verify_16:d,crypto_verify_32:y,crypto_secretbox:x,crypto_secretbox_open:I,crypto_scalarmult:$,crypto_scalarmult_base:H,crypto_box_beforenm:K,crypto_box_afternm:W,crypto_box:function(t,e,r,n,o,i){var a=new Uint8Array(32);return K(a,o,i),W(t,e,r,n,a)},crypto_box_open:function(t,e,r,n,o,i){var a=new Uint8Array(32);return K(a,o,i),V(t,e,r,n,a)},crypto_box_keypair:F,crypto_hash:J,crypto_sign:at,crypto_sign_keypair:rt,crypto_sign_open:st,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ct,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ut,crypto_sign_PUBLICKEYBYTES:lt,crypto_sign_SECRETKEYBYTES:gt,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:c,L:nt,pack25519:M,unpack25519:q,M:P,A:D,S:U,Z:N,pow2523:z,add:X,set25519:O,modL:ot,scalarmult:tt,scalarbase:et},t.randomBytes=function(t){var e=new Uint8Array(t);return r(e,t),e},t.secretbox=function(t,e,r){ht(t,e,r),ft(r,e);for(var n=new Uint8Array(32+t.length),o=new Uint8Array(n.length),i=0;i<t.length;i++)n[i+32]=t[i];return x(o,n,n.length,e,r),o.subarray(ct)},t.secretbox.open=function(t,e,r){ht(t,e,r),ft(r,e);for(var n=new Uint8Array(ct+t.length),o=new Uint8Array(n.length),i=0;i<t.length;i++)n[i+ct]=t[i];return n.length<32||0!==I(o,n,n.length,e,r)?null:o.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=ct,t.scalarMult=function(t,e){if(ht(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return $(r,t,e),r},t.scalarMult.base=function(t){if(ht(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return H(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,o){var i=t.box.before(n,o);return t.secretbox(e,r,i)},t.box.before=function(t,e){ht(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return K(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,o){var i=t.box.before(n,o);return t.secretbox.open(e,r,i)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return F(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(ht(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return H(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(ht(t,e),e.length!==gt)throw new Error("bad secret key size");var r=new Uint8Array(ut+t.length);return at(r,t,t.length,e),r},t.sign.open=function(t,e){if(ht(t,e),e.length!==lt)throw new Error("bad public key size");var r=new Uint8Array(t.length),n=st(r,t,t.length,e);if(n<0)return null;for(var o=new Uint8Array(n),i=0;i<o.length;i++)o[i]=r[i];return o},t.sign.detached=function(e,r){for(var n=t.sign(e,r),o=new Uint8Array(ut),i=0;i<o.length;i++)o[i]=n[i];return o},t.sign.detached.verify=function(t,e,r){if(ht(t,e,r),e.length!==ut)throw new Error("bad signature size");if(r.length!==lt)throw new Error("bad public key size");var n,o=new Uint8Array(ut+t.length),i=new Uint8Array(ut+t.length);for(n=0;n<ut;n++)o[n]=e[n];for(n=0;n<t.length;n++)o[n+ut]=t[n];return st(i,o,o.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(lt),e=new Uint8Array(gt);return rt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(ht(t),t.length!==gt)throw new Error("bad secret key size");for(var e=new Uint8Array(lt),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(ht(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(lt),r=new Uint8Array(gt),n=0;n<32;n++)r[n]=t[n];return rt(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=lt,t.sign.secretKeyLength=gt,t.sign.seedLength=32,t.sign.signatureLength=ut,t.hash=function(t){ht(t);var e=new Uint8Array(64);return J(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return ht(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===p(t,0,e,0,t.length))},t.setPRNG=function(t){r=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG((function(t,r){var n,o=new Uint8Array(r);for(n=0;n<r;n+=65536)e.getRandomValues(o.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)t[n]=o[n];pt(o)}))}else void 0!==commonjsRequire&&(e=require$$0)&&e.randomBytes&&t.setPRNG((function(t,r){var n,o=e.randomBytes(r);for(n=0;n<r;n++)t[n]=o[n];pt(o)}))}()}(t.exports?t.exports:self.nacl=self.nacl||{})}));createCommonjsModule((function(t){var e,r;e=commonjsGlobal,r=function(){var t={};function e(t){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(t){if("string"!=typeof t)throw new TypeError("expected string");var e,r=unescape(encodeURIComponent(t)),n=new Uint8Array(r.length);for(e=0;e<r.length;e++)n[e]=r.charCodeAt(e);return n},t.encodeUTF8=function(t){var e,r=[];for(e=0;e<t.length;e++)r.push(String.fromCharCode(t[e]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(t.encodeBase64=function(t){return Buffer.from(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(Buffer.from(t,"base64"),0))}):(t.encodeBase64=function(t){return new Buffer(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(new Buffer(t,"base64"),0))}):(t.encodeBase64=function(t){var e,r=[],n=t.length;for(e=0;e<n;e++)r.push(String.fromCharCode(t[e]));return btoa(r.join(""))},t.decodeBase64=function(t){e(t);var r,n=atob(t),o=new Uint8Array(n.length);for(r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return o}),t},t.exports?t.exports=r():(e.nacl||(e.nacl={}),e.nacl.util=r())})),naclFast.secretbox.keyLength;var handler={returner:function(t,e){return function(r){e||(e=r);var n=typeof e;if("number"!==n&&"string"!==n)return t;switch(e){case 1:case"quiet":return;case 2:case"console":console.log(t);break;case 3:case"break":throw t instanceof Error?(t.message||(t.message="No value"),t):new Error(t||"No result");case 4:case"truthy":return null!=t&&!1!==t;case 5:case"typeof":if(null===t)return"null";if(void 0===t)return"undefined";if(t instanceof Error)return"error";try{return t.map((function(t){return t})),"array"}catch(o){return typeof t}case 6:case"trace":console.trace("TRACE: "+t);break;case 7:case"passthrough":case"default":default:return t}}},logger:function(t,e){return function(r){e||(e=r);var n=typeof e;if(("number"===n||"string"===n)&&t)switch(e){case 1:case"none":return;case 2:case"string":return t;case 3:case"trace":return void console.trace("TRACE: "+t);case 4:case"console":return void console.error(t);case 5:case"throw":throw t instanceof Error?(t.message||(t.message="No message"),t):new Error(t||"No result")}}},maybeCurry:function(t){return function(e){return"function"==typeof t?t(e):e}},jsonPurify:function(t){var e,r=void 0===t?{}:t,n=r.model,o=r.maxLen,i={};return function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(r){try{return o&&t.length>o?[2,null]:("object"!=typeof(e=JSON.parse(t))||Array.isArray(e)?i=e:n.forEach((function(t){e.hasOwnProperty(t)&&(i[t]=e[t])})),[2,i])}catch(a){return[2,a]}return[2]}))}))}}},localforage=createCommonjsModule((function(t,e){t.exports=function t(e,r,n){function o(a,s){if(!r[a]){if(!e[a]){var c="function"==typeof commonjsRequire&&commonjsRequire;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[a]={exports:{}};e[a][0].call(l.exports,(function(t){var r=e[a][1][t];return o(r||t)}),l,l.exports,t,e,r,n)}return r[a].exports}for(var i="function"==typeof commonjsRequire&&commonjsRequire,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,r){(function(t){var r,n,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,a=new o(l),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var c=new t.MessageChannel;c.port1.onmessage=l,r=function(){c.port2.postMessage(0)}}var u=[];function l(){var t,e;n=!0;for(var r=u.length;r;){for(e=u,u=[],t=-1;++t<r;)e[t]();r=u.length}n=!1}function g(t){1!==u.push(t)||n||r()}e.exports=g}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,r){var n=t(1);function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==o&&h(this,t)}function l(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function g(t,e,r){n((function(){var n;try{n=e(r)}catch(o){return i.reject(t,o)}n===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,n)}))}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function h(t,e){var r=!1;function n(e){r||(r=!0,i.reject(t,e))}function o(e){r||(r=!0,i.resolve(t,e))}function a(){e(o,n)}var s=p(a);"error"===s.status&&n(s.value)}function p(t,e){var r={};try{r.value=t(e),r.status="success"}catch(n){r.status="error",r.value=n}return r}function d(t){return t instanceof this?t:i.resolve(new this(o),t)}function y(t){var e=new this(o);return i.reject(e,t)}function m(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,c=-1,u=new this(o);++c<r;)l(t[c],c);return u;function l(t,o){function c(t){a[o]=t,++s!==r||n||(n=!0,i.resolve(u,a))}e.resolve(t).then(c,(function(t){n||(n=!0,i.reject(u,t))}))}}function v(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var a=-1,s=new this(o);++a<r;)c(t[a]);return s;function c(t){e.resolve(t).then((function(t){n||(n=!0,i.resolve(s,t))}),(function(t){n||(n=!0,i.reject(s,t))}))}}e.exports=u,u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var r=new this.constructor(o);return this.state!==c?g(r,this.state===s?t:e,this.outcome):this.queue.push(new l(r,t,e)),r},l.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){g(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){i.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){g(this.promise,this.onRejected,t)},i.resolve=function(t,e){var r=p(f,e);if("error"===r.status)return i.reject(t,r.value);var n=r.value;if(n)h(t,n);else{t.state=s,t.outcome=e;for(var o=-1,a=t.queue.length;++o<a;)t.queue[o].callFulfilled(e)}return t},i.reject=function(t,e){t.state=a,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},u.resolve=d,u.reject=y,u.all=m,u.race=v},{1:1}],3:[function(t,e,r){(function(e){"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}var a=i();function s(){try{if(!a||!a.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(r){return!1}}function c(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<t.length;n+=1)r.append(t[n]);return r.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var u=Promise;function l(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function g(t,e,r){"function"==typeof e&&t.then(e),"function"==typeof r&&t.catch(r)}function f(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function h(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",d=void 0,y={},m=Object.prototype.toString,v="readonly",_="readwrite";function b(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),o=0;o<e;o++)n[o]=t.charCodeAt(o);return r}function w(t){return new u((function(e){var r=t.transaction(p,_),n=c([""]);r.objectStore(p).put(n,"key"),r.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},r.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}function S(t){return"boolean"==typeof d?u.resolve(d):w(t).then((function(t){return d=t}))}function E(t){var e=y[t.name],r={};r.promise=new u((function(t,e){r.resolve=t,r.reject=e})),e.deferredOperations.push(r),e.dbReady?e.dbReady=e.dbReady.then((function(){return r.promise})):e.dbReady=r.promise}function k(t){var e=y[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function T(t,e){var r=y[t.name].deferredOperations.pop();if(r)return r.reject(e),r.promise}function j(t,e){return new u((function(r,n){if(y[t.name]=y[t.name]||D(),t.db){if(!e)return r(t.db);E(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var i=a.open.apply(a,o);e&&(i.onupgradeneeded=function(e){var r=i.result;try{r.createObjectStore(t.storeName),e.oldVersion<=1&&r.createObjectStore(p)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),i.onerror=function(t){t.preventDefault(),n(i.error)},i.onsuccess=function(){r(i.result),k(t)}}))}function x(t){return j(t,!1)}function I(t){return j(t,!0)}function O(t,e){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),n=t.version<t.db.version,o=t.version>t.db.version;if(n&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||r){if(r){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function A(t){return new u((function(e,r){var n=new FileReader;n.onerror=r,n.onloadend=function(r){var n=btoa(r.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:t.type})},n.readAsBinaryString(t)}))}function C(t){return c([b(atob(t.data))],{type:t.type})}function M(t){return t&&t.__local_forage_encoded_blob}function R(t){var e=this,r=e._initReady().then((function(){var t=y[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return g(r,t,t),r}function L(t){E(t);for(var e=y[t.name],r=e.forages,n=0;n<r.length;n++){var o=r[n];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return t.db=null,x(t).then((function(e){return t.db=e,O(t)?I(t):e})).then((function(n){t.db=e.db=n;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=n})).catch((function(e){throw T(t,e),e}))}function q(t,e,r,n){void 0===n&&(n=1);try{var o=t.db.transaction(t.storeName,e);r(null,o)}catch(i){if(n>0&&(!t.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return u.resolve().then((function(){if(!t.db||"NotFoundError"===i.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),I(t)})).then((function(){return L(t).then((function(){q(t,e,r,n-1)}))})).catch(r);r(i)}}function D(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function N(t){var e=this,r={db:null};if(t)for(var n in t)r[n]=t[n];var o=y[r.name];o||(o=D(),y[r.name]=o),o.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=R);var i=[];function a(){return u.resolve()}for(var s=0;s<o.forages.length;s++){var c=o.forages[s];c!==e&&i.push(c._initReady().catch(a))}var l=o.forages.slice(0);return u.all(i).then((function(){return r.db=o.db,x(r)})).then((function(t){return r.db=t,O(r,e._defaultConfig.version)?I(r):t})).then((function(t){r.db=o.db=t,e._dbInfo=r;for(var n=0;n<l.length;n++){var i=l[n];i!==e&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}}))}function P(t,e){var r=this;t=f(t);var n=new u((function(e,n){r.ready().then((function(){q(r._dbInfo,v,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),M(t)&&(t=C(t)),e(t)},a.onerror=function(){n(a.error)}}catch(s){n(s)}}))})).catch(n)}));return l(n,e),n}function U(t,e){var r=this,n=new u((function(e,n){r.ready().then((function(){q(r._dbInfo,v,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var r=a.result;if(r){var n=r.value;M(n)&&(n=C(n));var o=t(n,r.key,s++);void 0!==o?e(o):r.continue()}else e()},a.onerror=function(){n(a.error)}}catch(c){n(c)}}))})).catch(n)}));return l(n,e),n}function B(t,e,r){var n=this;t=f(t);var o=new u((function(r,o){var i;n.ready().then((function(){return i=n._dbInfo,"[object Blob]"===m.call(e)?S(i.db).then((function(t){return t?e:A(e)})):e})).then((function(e){q(n._dbInfo,_,(function(i,a){if(i)return o(i);try{var s=a.objectStore(n._dbInfo.storeName);null===e&&(e=void 0);var c=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),r(e)},a.onabort=a.onerror=function(){var t=c.error?c.error:c.transaction.error;o(t)}}catch(u){o(u)}}))})).catch(o)}));return l(o,r),o}function z(t,e){var r=this;t=f(t);var n=new u((function(e,n){r.ready().then((function(){q(r._dbInfo,_,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName).delete(t);i.oncomplete=function(){e()},i.onerror=function(){n(a.error)},i.onabort=function(){var t=a.error?a.error:a.transaction.error;n(t)}}catch(s){n(s)}}))})).catch(n)}));return l(n,e),n}function $(t){var e=this,r=new u((function(t,r){e.ready().then((function(){q(e._dbInfo,_,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=i.error?i.error:i.transaction.error;r(t)}}catch(a){r(a)}}))})).catch(r)}));return l(r,t),r}function H(t){var e=this,r=new u((function(t,r){e.ready().then((function(){q(e._dbInfo,v,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).count();i.onsuccess=function(){t(i.result)},i.onerror=function(){r(i.error)}}catch(a){r(a)}}))})).catch(r)}));return l(r,t),r}function F(t,e){var r=this,n=new u((function(e,n){t<0?e(null):r.ready().then((function(){q(r._dbInfo,v,(function(o,i){if(o)return n(o);try{var a=i.objectStore(r._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var r=c.result;r?0===t||s?e(r.key):(s=!0,r.advance(t)):e(null)},c.onerror=function(){n(c.error)}}catch(u){n(u)}}))})).catch(n)}));return l(n,e),n}function K(t){var e=this,r=new u((function(t,r){e.ready().then((function(){q(e._dbInfo,v,(function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var e=i.result;e?(a.push(e.key),e.continue()):t(a)},i.onerror=function(){r(i.error)}}catch(s){r(s)}}))})).catch(r)}));return l(r,t),r}function W(t,e){e=h.apply(this,arguments);var r=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n,o=this;if(t.name){var i=t.name===r.name&&o._dbInfo.db?u.resolve(o._dbInfo.db):x(t).then((function(e){var r=y[t.name],n=r.forages;r.db=e;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=e;return e}));n=t.storeName?i.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var r=e.version+1;E(t);var n=y[t.name],o=n.forages;e.close();for(var i=0;i<o.length;i++){var s=o[i];s._dbInfo.db=null,s._dbInfo.version=r}return new u((function(e,n){var o=a.open(t.name,r);o.onerror=function(t){o.result.close(),n(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}})).then((function(t){n.db=t;for(var e=0;e<o.length;e++){var r=o[e];r._dbInfo.db=t,k(r._dbInfo)}})).catch((function(e){throw(T(t,e)||u.resolve()).catch((function(){})),e}))}})):i.then((function(e){E(t);var r=y[t.name],n=r.forages;e.close();for(var o=0;o<n.length;o++)n[o]._dbInfo.db=null;return new u((function(e,r){var n=a.deleteDatabase(t.name);n.onerror=n.onblocked=function(t){var e=n.result;e&&e.close(),r(t)},n.onsuccess=function(){var t=n.result;t&&t.close(),e(t)}})).then((function(t){r.db=t;for(var e=0;e<n.length;e++)k(n[e]._dbInfo)})).catch((function(e){throw(T(t,e)||u.resolve()).catch((function(){})),e}))}))}else n=u.reject("Invalid arguments");return l(n,e),n}var V={_driver:"asyncStorage",_initStorage:N,_support:s(),iterate:U,getItem:P,setItem:B,removeItem:z,clear:$,length:H,key:F,keys:K,dropInstance:W};function G(){return"function"==typeof openDatabase}var Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J="~~local_forage_type~",X=/^~~local_forage_type~([^~]+)~/,Z="__lfsc__:",Q=Z.length,tt="arbf",et="blob",rt="si08",nt="ui08",ot="uic8",it="si16",at="si32",st="ur16",ct="ui32",ut="fl32",lt="fl64",gt=Q+tt.length,ft=Object.prototype.toString;function ht(t){var e,r,n,o,i,a=.75*t.length,s=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),l=new Uint8Array(u);for(e=0;e<s;e+=4)r=Y.indexOf(t[e]),n=Y.indexOf(t[e+1]),o=Y.indexOf(t[e+2]),i=Y.indexOf(t[e+3]),l[c++]=r<<2|n>>4,l[c++]=(15&n)<<4|o>>2,l[c++]=(3&o)<<6|63&i;return u}function pt(t){var e,r=new Uint8Array(t),n="";for(e=0;e<r.length;e+=3)n+=Y[r[e]>>2],n+=Y[(3&r[e])<<4|r[e+1]>>4],n+=Y[(15&r[e+1])<<2|r[e+2]>>6],n+=Y[63&r[e+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}function dt(t,e){var r="";if(t&&(r=ft.call(t)),t&&("[object ArrayBuffer]"===r||t.buffer&&"[object ArrayBuffer]"===ft.call(t.buffer))){var n,o=Z;t instanceof ArrayBuffer?(n=t,o+=tt):(n=t.buffer,"[object Int8Array]"===r?o+=rt:"[object Uint8Array]"===r?o+=nt:"[object Uint8ClampedArray]"===r?o+=ot:"[object Int16Array]"===r?o+=it:"[object Uint16Array]"===r?o+=st:"[object Int32Array]"===r?o+=at:"[object Uint32Array]"===r?o+=ct:"[object Float32Array]"===r?o+=ut:"[object Float64Array]"===r?o+=lt:e(new Error("Failed to get type for BinaryArray"))),e(o+pt(n))}else if("[object Blob]"===r){var i=new FileReader;i.onload=function(){var r=J+t.type+"~"+pt(this.result);e(Z+et+r)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(a){console.error("Couldn't convert value into a JSON string: ",t),e(null,a)}}function yt(t){if(t.substring(0,Q)!==Z)return JSON.parse(t);var e,r=t.substring(gt),n=t.substring(Q,gt);if(n===et&&X.test(r)){var o=r.match(X);e=o[1],r=r.substring(o[0].length)}var i=ht(r);switch(n){case tt:return i;case et:return c([i],{type:e});case rt:return new Int8Array(i);case nt:return new Uint8Array(i);case ot:return new Uint8ClampedArray(i);case it:return new Int16Array(i);case st:return new Uint16Array(i);case at:return new Int32Array(i);case ct:return new Uint32Array(i);case ut:return new Float32Array(i);case lt:return new Float64Array(i);default:throw new Error("Unkown type: "+n)}}var mt={serialize:dt,deserialize:yt,stringToBuffer:ht,bufferToString:pt};function vt(t,e,r,n){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function _t(t){var e=this,r={db:null};if(t)for(var n in t)r[n]="string"!=typeof t[n]?t[n].toString():t[n];var o=new u((function(t,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(o){return n(o)}r.db.transaction((function(o){vt(o,r,(function(){e._dbInfo=r,t()}),(function(t,e){n(e)}))}),n)}));return r.serializer=mt,o}function bt(t,e,r,n,o,i){t.executeSql(r,n,o,(function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,s){s.rows.length?i(t,a):vt(t,e,(function(){t.executeSql(r,n,o,i)}),i)}),i):i(t,a)}),i)}function wt(t,e){var r=this;t=f(t);var n=new u((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){bt(r,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return l(n,e),n}function St(t,e){var r=this,n=new u((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){bt(r,o,"SELECT * FROM "+o.storeName,[],(function(r,n){for(var i=n.rows,a=i.length,s=0;s<a;s++){var c=i.item(s),u=c.value;if(u&&(u=o.serializer.deserialize(u)),void 0!==(u=t(u,c.key,s+1)))return void e(u)}e()}),(function(t,e){n(e)}))}))})).catch(n)}));return l(n,e),n}function Et(t,e,r,n){var o=this;t=f(t);var i=new u((function(i,a){o.ready().then((function(){void 0===e&&(e=null);var s=e,c=o._dbInfo;c.serializer.serialize(e,(function(e,u){u?a(u):c.db.transaction((function(r){bt(r,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){i(s)}),(function(t,e){a(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(n>0)return void i(Et.apply(o,[t,s,r,n-1]));a(e)}}))}))})).catch(a)}));return l(i,r),i}function kt(t,e,r){return Et.apply(this,[t,e,r,1])}function Tt(t,e){var r=this;t=f(t);var n=new u((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){bt(r,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){n(e)}))}))})).catch(n)}));return l(n,e),n}function jt(t){var e=this,r=new u((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){bt(e,n,"DELETE FROM "+n.storeName,[],(function(){t()}),(function(t,e){r(e)}))}))})).catch(r)}));return l(r,t),r}function xt(t){var e=this,r=new u((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){bt(e,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(e,r){var n=r.rows.item(0).c;t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return l(r,t),r}function It(t,e){var r=this,n=new u((function(e,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){bt(r,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,r){var n=r.rows.length?r.rows.item(0).key:null;e(n)}),(function(t,e){n(e)}))}))})).catch(n)}));return l(n,e),n}function Ot(t){var e=this,r=new u((function(t,r){e.ready().then((function(){var n=e._dbInfo;n.db.transaction((function(e){bt(e,n,"SELECT key FROM "+n.storeName,[],(function(e,r){for(var n=[],o=0;o<r.rows.length;o++)n.push(r.rows.item(o).key);t(n)}),(function(t,e){r(e)}))}))})).catch(r)}));return l(r,t),r}function At(t){return new u((function(e,r){t.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i).name);e({db:t,storeNames:o})}),(function(t,e){r(e)}))}),(function(t){r(t)}))}))}function Ct(t,e){e=h.apply(this,arguments);var r=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n,o=this;return l(n=t.name?new u((function(e){var n;n=t.name===r.name?o._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:n,storeNames:[t.storeName]}):e(At(n))})).then((function(t){return new u((function(e,r){t.db.transaction((function(n){function o(t){return new u((function(e,r){n.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){r(e)}))}))}for(var i=[],a=0,s=t.storeNames.length;a<s;a++)i.push(o(t.storeNames[a]));u.all(i).then((function(){e()})).catch((function(t){r(t)}))}),(function(t){r(t)}))}))})):u.reject("Invalid arguments"),e),n}var Mt={_driver:"webSQLStorage",_initStorage:_t,_support:G(),iterate:St,getItem:wt,setItem:kt,removeItem:Tt,clear:jt,length:xt,key:It,keys:Ot,dropInstance:Ct};function Rt(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}function Lt(t,e){var r=t.name+"/";return t.storeName!==e.storeName&&(r+=t.storeName+"/"),r}function qt(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(e){return!0}}function Dt(){return!qt()||localStorage.length>0}function Nt(t){var e=this,r={};if(t)for(var n in t)r[n]=t[n];return r.keyPrefix=Lt(t,e._defaultConfig),Dt()?(e._dbInfo=r,r.serializer=mt,u.resolve()):u.reject()}function Pt(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(t)&&localStorage.removeItem(n)}}));return l(r,t),r}function Ut(t,e){var r=this;t=f(t);var n=r.ready().then((function(){var e=r._dbInfo,n=localStorage.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n}));return l(n,e),n}function Bt(t,e){var r=this,n=r.ready().then((function(){for(var e=r._dbInfo,n=e.keyPrefix,o=n.length,i=localStorage.length,a=1,s=0;s<i;s++){var c=localStorage.key(s);if(0===c.indexOf(n)){var u=localStorage.getItem(c);if(u&&(u=e.serializer.deserialize(u)),void 0!==(u=t(u,c.substring(o),a++)))return u}}}));return l(n,e),n}function zt(t,e){var r=this,n=r.ready().then((function(){var e,n=r._dbInfo;try{e=localStorage.key(t)}catch(o){e=null}return e&&(e=e.substring(n.keyPrefix.length)),e}));return l(n,e),n}function $t(t){var e=this,r=e.ready().then((function(){for(var t=e._dbInfo,r=localStorage.length,n=[],o=0;o<r;o++){var i=localStorage.key(o);0===i.indexOf(t.keyPrefix)&&n.push(i.substring(t.keyPrefix.length))}return n}));return l(r,t),r}function Ht(t){var e=this.keys().then((function(t){return t.length}));return l(e,t),e}function Ft(t,e){var r=this;t=f(t);var n=r.ready().then((function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return l(n,e),n}function Kt(t,e,r){var n=this;t=f(t);var o=n.ready().then((function(){void 0===e&&(e=null);var r=e;return new u((function(o,i){var a=n._dbInfo;a.serializer.serialize(e,(function(e,n){if(n)i(n);else try{localStorage.setItem(a.keyPrefix+t,e),o(r)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||i(s),i(s)}}))}))}));return l(o,r),o}function Wt(t,e){if(e=h.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var r=this.config();t.name=t.name||r.name,t.storeName=t.storeName||r.storeName}var n,o=this;return l(n=t.name?new u((function(e){t.storeName?e(Lt(t,o._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var r=localStorage.key(e);0===r.indexOf(t)&&localStorage.removeItem(r)}})):u.reject("Invalid arguments"),e),n}var Vt={_driver:"localStorageWrapper",_initStorage:Nt,_support:Rt(),iterate:Bt,getItem:Ut,setItem:Kt,removeItem:Ft,clear:Pt,length:Ht,key:zt,keys:$t,dropInstance:Wt},Gt=function(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)},Yt=function(t,e){for(var r=t.length,n=0;n<r;){if(Gt(t[n],e))return!0;n++}return!1},Jt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Xt={},Zt={},Qt={INDEXEDDB:V,WEBSQL:Mt,LOCALSTORAGE:Vt},te=[Qt.INDEXEDDB._driver,Qt.WEBSQL._driver,Qt.LOCALSTORAGE._driver],ee=["dropInstance"],re=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ee),ne={description:"",driver:te.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function oe(t,e){t[e]=function(){var r=arguments;return t.ready().then((function(){return t[e].apply(t,r)}))}}function ie(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var r in e)e.hasOwnProperty(r)&&(Jt(e[r])?arguments[0][r]=e[r].slice():arguments[0][r]=e[r])}return arguments[0]}var ae=new(function(){function t(e){for(var r in o(this,t),Qt)if(Qt.hasOwnProperty(r)){var n=Qt[r],i=n._driver;this[r]=i,Xt[i]||this.defineDriver(n)}this._defaultConfig=ie({},ne),this._config=ie({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":n(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,r){var n=new u((function(e,r){try{var n=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void r(o);for(var i=re.concat("_initStorage"),a=0,s=i.length;a<s;a++){var c=i[a];if((!Yt(ee,c)||t[c])&&"function"!=typeof t[c])return void r(o)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),r=u.reject(e);return l(r,arguments[arguments.length-1]),r}},r=0,n=ee.length;r<n;r++){var o=ee[r];t[o]||(t[o]=e(o))}}();var g=function(r){Xt[n]&&console.info("Redefining LocalForage driver: "+n),Xt[n]=t,Zt[n]=r,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(g,r):g(!!t._support):g(!0)}catch(f){r(f)}}));return g(n,e,r),n},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,r){var n=Xt[t]?u.resolve(Xt[t]):u.reject(new Error("Driver not found."));return g(n,e,r),n},t.prototype.getSerializer=function(t){var e=u.resolve(mt);return g(e,t),e},t.prototype.ready=function(t){var e=this,r=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return g(r,t,t),r},t.prototype.setDriver=function(t,e,r){var n=this;Jt(t)||(t=[t]);var o=this._getSupportedDrivers(t);function i(){n._config.driver=n.driver()}function a(t){return n._extend(t),i(),n._ready=n._initStorage(n._config),n._ready}function s(t){return function(){var e=0;function r(){for(;e<t.length;){var o=t[e];return e++,n._dbInfo=null,n._ready=null,n.getDriver(o).then(a).catch(r)}i();var s=new Error("No available storage method found.");return n._driverSet=u.reject(s),n._driverSet}return r()}}var c=null!==this._driverSet?this._driverSet.catch((function(){return u.resolve()})):u.resolve();return this._driverSet=c.then((function(){var t=o[0];return n._dbInfo=null,n._ready=null,n.getDriver(t).then((function(t){n._driver=t._driver,i(),n._wrapLibraryMethodsWithReady(),n._initDriver=s(o)}))})).catch((function(){i();var t=new Error("No available storage method found.");return n._driverSet=u.reject(t),n._driverSet})),g(this._driverSet,e,r),this._driverSet},t.prototype.supports=function(t){return!!Zt[t]},t.prototype._extend=function(t){ie(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=re.length;t<e;t++)oe(this,re[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=ae},{3:3}]},{},[4])(4)}));
/*!
    localForage -- Offline Storage, Improved
    Version 1.9.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/function _isPlaceholder(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function _curry1(t){return function e(r){return 0===arguments.length||_isPlaceholder(r)?e:t.apply(this,arguments)}}function _curry2(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return _isPlaceholder(r)?e:_curry1((function(e){return t(r,e)}));default:return _isPlaceholder(r)&&_isPlaceholder(n)?e:_isPlaceholder(r)?_curry1((function(e){return t(e,n)})):_isPlaceholder(n)?_curry1((function(e){return t(r,e)})):t(r,n)}}}function _arity(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,r){return e.apply(this,arguments)};case 3:return function(t,r,n){return e.apply(this,arguments)};case 4:return function(t,r,n,o){return e.apply(this,arguments)};case 5:return function(t,r,n,o,i){return e.apply(this,arguments)};case 6:return function(t,r,n,o,i,a){return e.apply(this,arguments)};case 7:return function(t,r,n,o,i,a,s){return e.apply(this,arguments)};case 8:return function(t,r,n,o,i,a,s,c){return e.apply(this,arguments)};case 9:return function(t,r,n,o,i,a,s,c,u){return e.apply(this,arguments)};case 10:return function(t,r,n,o,i,a,s,c,u,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function _curry3(t){return function e(r,n,o){switch(arguments.length){case 0:return e;case 1:return _isPlaceholder(r)?e:_curry2((function(e,n){return t(r,e,n)}));case 2:return _isPlaceholder(r)&&_isPlaceholder(n)?e:_isPlaceholder(r)?_curry2((function(e,r){return t(e,n,r)})):_isPlaceholder(n)?_curry2((function(e,n){return t(r,e,n)})):_curry1((function(e){return t(r,n,e)}));default:return _isPlaceholder(r)&&_isPlaceholder(n)&&_isPlaceholder(o)?e:_isPlaceholder(r)&&_isPlaceholder(n)?_curry2((function(e,r){return t(e,r,o)})):_isPlaceholder(r)&&_isPlaceholder(o)?_curry2((function(e,r){return t(e,n,r)})):_isPlaceholder(n)&&_isPlaceholder(o)?_curry2((function(e,n){return t(r,e,n)})):_isPlaceholder(r)?_curry1((function(e){return t(e,n,o)})):_isPlaceholder(n)?_curry1((function(e){return t(r,e,o)})):_isPlaceholder(o)?_curry1((function(e){return t(r,n,e)})):t(r,n,o)}}}var _isArray=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function _isTransformer(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function _dispatchable(t,e,r){return function(){if(0===arguments.length)return r();var n=Array.prototype.slice.call(arguments,0),o=n.pop();if(!_isArray(o)){for(var i=0;i<t.length;){if("function"==typeof o[t[i]])return o[t[i]].apply(o,n);i+=1}if(_isTransformer(o)){var a=e.apply(null,n);return a(o)}}return r.apply(this,arguments)}}var _xfBase={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};function _map(t,e){for(var r=0,n=e.length,o=Array(n);r<n;)o[r]=t(e[r]),r+=1;return o}function _isString(t){return"[object String]"===Object.prototype.toString.call(t)}var _isArrayLike=_curry1((function(t){return!!_isArray(t)||!!t&&("object"==typeof t&&(!_isString(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),XWrap=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function _xwrap(t){return new XWrap(t)}var bind=_curry2((function(t,e){return _arity(t.length,(function(){return t.apply(e,arguments)}))}));function _arrayReduce(t,e,r){for(var n=0,o=r.length;n<o;){if((e=t["@@transducer/step"](e,r[n]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}function _iterableReduce(t,e,r){for(var n=r.next();!n.done;){if((e=t["@@transducer/step"](e,n.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function _methodReduce(t,e,r,n){return t["@@transducer/result"](r[n](bind(t["@@transducer/step"],t),e))}var symIterator="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function _reduce(t,e,r){if("function"==typeof t&&(t=_xwrap(t)),_isArrayLike(r))return _arrayReduce(t,e,r);if("function"==typeof r["fantasy-land/reduce"])return _methodReduce(t,e,r,"fantasy-land/reduce");if(null!=r[symIterator])return _iterableReduce(t,e,r[symIterator]());if("function"==typeof r.next)return _iterableReduce(t,e,r);if("function"==typeof r.reduce)return _methodReduce(t,e,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}function _has(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var toString$1=Object.prototype.toString,_isArguments=function(){return"[object Arguments]"===toString$1.call(arguments)?function(t){return"[object Arguments]"===toString$1.call(t)}:function(t){return _has("callee",t)}}(),hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],hasArgsEnumBug=function(){return arguments.propertyIsEnumerable("length")}(),contains=function(t,e){for(var r=0;r<t.length;){if(t[r]===e)return!0;r+=1}return!1},keys="function"!=typeof Object.keys||hasArgsEnumBug?_curry1((function(t){if(Object(t)!==t)return[];var e,r,n=[],o=hasArgsEnumBug&&_isArguments(t);for(e in t)!_has(e,t)||o&&"length"===e||(n[n.length]=e);if(hasEnumBug)for(r=nonEnumerableProps.length-1;r>=0;)_has(e=nonEnumerableProps[r],t)&&!contains(n,e)&&(n[n.length]=e),r-=1;return n})):_curry1((function(t){return Object(t)!==t?[]:Object.keys(t)}));function _isFunction(t){return"[object Function]"===Object.prototype.toString.call(t)}var type=_curry1((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function _arrayFromIterator(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}function _includesWith(t,e,r){for(var n=0,o=r.length;n<o;){if(t(e,r[n]))return!0;n+=1}return!1}function _functionName(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}function _objectIs(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var _objectIs$1="function"==typeof Object.is?Object.is:_objectIs;function _uniqContentEquals(t,e,r,n){var o=_arrayFromIterator(t);function i(t,e){return _equals(t,e,r.slice(),n.slice())}return!_includesWith((function(t,e){return!_includesWith(i,e,t)}),_arrayFromIterator(e),o)}function _equals(t,e,r,n){if(_objectIs$1(t,e))return!0;var o=type(t);if(o!==type(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(o){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===_functionName(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!_objectIs$1(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!_objectIs$1(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var i=r.length-1;i>=0;){if(r[i]===t)return n[i]===e;i-=1}switch(o){case"Map":return t.size===e.size&&_uniqContentEquals(t.entries(),e.entries(),r.concat([t]),n.concat([e]));case"Set":return t.size===e.size&&_uniqContentEquals(t.values(),e.values(),r.concat([t]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=keys(t);if(a.length!==keys(e).length)return!1;var s=r.concat([t]),c=n.concat([e]);for(i=a.length-1;i>=0;){var u=a[i];if(!_has(u,e)||!_equals(e[u],t[u],s,c))return!1;i-=1}return!0}var equals=_curry2((function(t,e){return _equals(t,e,[],[])}));function _indexOf(t,e,r){var n,o;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(n=1/e;r<t.length;){if(0===(o=t[r])&&1/o===n)return r;r+=1}return-1}if(e!=e){for(;r<t.length;){if("number"==typeof(o=t[r])&&o!=o)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(null===e)return t.indexOf(e,r)}for(;r<t.length;){if(equals(t[r],e))return r;r+=1}return-1}function _includes(t,e){return _indexOf(e,t,0)>=0}function _quote(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var pad=function(t){return(t<10?"0":"")+t},_toISOString="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+pad(t.getUTCMonth()+1)+"-"+pad(t.getUTCDate())+"T"+pad(t.getUTCHours())+":"+pad(t.getUTCMinutes())+":"+pad(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function _complement(t){return function(){return!t.apply(this,arguments)}}function _filter(t,e){for(var r=0,n=e.length,o=[];r<n;)t(e[r])&&(o[o.length]=e[r]),r+=1;return o}function _isObject(t){return"[object Object]"===Object.prototype.toString.call(t)}var XFilter=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=_xfBase.init,t.prototype["@@transducer/result"]=_xfBase.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),_xfilter=_curry2((function(t,e){return new XFilter(t,e)})),filter=_curry2(_dispatchable(["filter"],_xfilter,(function(t,e){return _isObject(e)?_reduce((function(r,n){return t(e[n])&&(r[n]=e[n]),r}),{},keys(e)):_filter(t,e)}))),reject=_curry2((function(t,e){return filter(_complement(t),e)}));function _toString(t,e){var r=function(r){var n=e.concat([t]);return _includes(r,n)?"<Circular>":_toString(r,n)},n=function(t,e){return _map((function(e){return _quote(e)+": "+r(t[e])}),e.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+_map(r,t).join(", ")+"))";case"[object Array]":return"["+_map(r,t).concat(n(t,reject((function(t){return/^\d+$/.test(t)}),keys(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):_quote(_toISOString(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+r(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+r(t.valueOf())+")":_quote(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var o=t.toString();if("[object Object]"!==o)return o}return"{"+n(t,keys(t)).join(", ")+"}"}}var toString=_curry1((function(t){return _toString(t,[])})),concat=_curry2((function(t,e){if(_isArray(t)){if(_isArray(e))return t.concat(e);throw new TypeError(toString(e)+" is not an array")}if(_isString(t)){if(_isString(e))return t+e;throw new TypeError(toString(e)+" is not a string")}if(null!=t&&_isFunction(t["fantasy-land/concat"]))return t["fantasy-land/concat"](e);if(null!=t&&_isFunction(t.concat))return t.concat(e);throw new TypeError(toString(t)+' does not have a method named "concat" or "fantasy-land/concat"')}));function _objectAssign(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1,n=arguments.length;r<n;){var o=arguments[r];if(null!=o)for(var i in o)_has(i,o)&&(e[i]=o[i]);r+=1}return e}var _objectAssign$1="function"==typeof Object.assign?Object.assign:_objectAssign,mergeWithKey=_curry3((function(t,e,r){var n,o={};for(n in e)_has(n,e)&&(o[n]=_has(n,r)?t(n,e[n],r[n]):e[n]);for(n in r)_has(n,r)&&!_has(n,o)&&(o[n]=r[n]);return o})),mergeDeepWithKey=_curry3((function t(e,r,n){return mergeWithKey((function(r,n,o){return _isObject(n)&&_isObject(o)?t(e,n,o):e(r,n,o)}),r,n)})),mergeDeepRight=_curry2((function(t,e){return mergeDeepWithKey((function(t,e,r){return r}),t,e)})),mergeDeepWith=_curry3((function(t,e,r){return mergeDeepWithKey((function(e,r,n){return t(r,n)}),e,r)})),mergeRight=_curry2((function(t,e){return _objectAssign$1({},t,e)})),mergeWith=_curry3((function(t,e,r){return mergeWithKey((function(e,r,n){return t(r,n)}),e,r)})),forage={getItem:function(t){var e=void 0===t?{}:t,r=e.key,n=e.logger,o=e.returner,i=e.before,a=e.store;return function(t){return __awaiter(this,void 0,void 0,(function(){var e,s,c=this;return __generator(this,(function(u){switch(u.label){case 0:return[4,_defineStore({store:a})];case 1:return e=u.sent(),i?[4,handler.maybeCurry(t||null)(r)]:[3,3];case 2:return s=u.sent(),[3,4];case 3:s=r,u.label=4;case 4:return r=s,[2,handler.returner(e.getItem(r).then((function(e){return __awaiter(c,void 0,void 0,(function(){return __generator(this,(function(r){return[2,i?e:handler.maybeCurry(t||null)(e)]}))}))})).catch((function(t){return handler.logger(t)(n)})))(o)]}}))}))}},getKeyValue:function(t){var e=void 0===t?{}:t,r=e.key,n=e.value,o=e.logger,i=e.returner,a=e.before,s=e.store;return function(t){return __awaiter(this,void 0,void 0,(function(){var e,c;return __generator(this,(function(u){switch(u.label){case 0:return[4,_defineStore({store:s})];case 1:return e=u.sent(),a?[4,handler.maybeCurry(t||null)(n)]:[3,3];case 2:return c=u.sent(),[3,4];case 3:c=n,u.label=4;case 4:return n=c,[2,handler.returner(e.getItem(r).then((function(e){return a?e[n]:handler.maybeCurry(t||null)(e[n])})).catch((function(t){return handler.logger(t)(o)})))(i)]}}))}))}},setItem:function(t){var e=void 0===t?{}:t,r=e.key,n=e.value,o=e.logger,i=e.returner,a=e.before,s=e.store;return function(t){return __awaiter(this,void 0,void 0,(function(){var e,c,u=this;return __generator(this,(function(l){switch(l.label){case 0:return e=_defineStore({store:s}),a?[4,handler.maybeCurry(t||null)(n)]:[3,2];case 1:return c=l.sent(),[3,3];case 2:c=n,l.label=3;case 3:return n=c,[2,handler.returner(e.setItem(r,n).then((function(e){return __awaiter(u,void 0,void 0,(function(){return __generator(this,(function(r){return[2,a?e:handler.maybeCurry(t||null)(e)]}))}))})).catch((function(t){return handler.logger(t)(o)})))(i)]}}))}))}},key:function(t){var e=void 0===t?{}:t,r=e.index,n=e.logger,o=e.returner,i=e.before,a=e.store;return function(t){return __awaiter(this,void 0,void 0,(function(){var e,s;return __generator(this,(function(c){switch(c.label){case 0:return[4,_defineStore({store:a})];case 1:return e=c.sent(),i?[4,handler.maybeCurry(t||null)(r)]:[3,3];case 2:return s=c.sent(),[3,4];case 3:s=r,c.label=4;case 4:return r=s,[2,handler.returner(e.key(r).then((function(e){return i?e:handler.maybeCurry(t||null)(e)})).catch((function(t){return handler.logger(t)(n)})))(o)]}}))}))}},mergeItem:function(t){var e=void 0===t?{}:t,r=e.key,n=e.value,o=e.type,i=e.returner,a=e.logger,s=e.before,c=e.store,u=function(t,e,r){return"values"===t?concat(e,r):r};return function(t){return __awaiter(this,void 0,void 0,(function(){var e,l,g,f,h=this;return __generator(this,(function(p){switch(p.label){case 0:return e=_defineStore({store:c}),s?[4,handler.maybeCurry(t||null)(n)]:[3,2];case 1:return l=p.sent(),[3,3];case 2:l=n,p.label=3;case 3:return n=l,f=(g=handler).returner,[4,e.getItem(r).then((function(i){return __awaiter(h,void 0,void 0,(function(){var s,c,l,g,f,h,p,d;return __generator(this,(function(y){switch(y.label){case 0:switch(o){case"custom":return[3,1];case"right":return[3,5];case"deepRight":return[3,8];case"with":return[3,11];case"withKey":return[3,14];case"deepWith":return[3,15];case"deepWithKey":return[3,16]}return[3,16];case 1:return y.trys.push([1,4,,5]),c=(s=e).setItem,l=[r],[4,handler.maybeCurry(t)(i)];case 2:return[4,c.apply(s,l.concat([y.sent()]))];case 3:return[2,y.sent()];case 4:return g=y.sent(),[2,handler.logger(g)(a)];case 5:return y.trys.push([5,7,,8]),[4,e.setItem(r,mergeRight(i,n))];case 6:return[2,y.sent()];case 7:return f=y.sent(),[2,handler.logger(f)(a)];case 8:return y.trys.push([8,10,,11]),[4,e.setItem(r,mergeDeepRight(i,n))];case 9:return[2,y.sent()];case 10:return h=y.sent(),[2,handler.logger(h)(a)];case 11:return y.trys.push([11,13,,14]),[4,e.setItem(r,mergeWith(concat,i,n))];case 12:return[2,y.sent()];case 13:return p=y.sent(),[2,handler.logger(p)(a)];case 14:try{return[2,e.setItem(r,mergeWithKey(u,i,n))]}catch(m){return[2,handler.logger(m)(a)]}y.label=15;case 15:try{return[2,e.setItem(r,mergeDeepWith(concat,i,n))]}catch(m){return[2,handler.logger(m)(a)]}y.label=16;case 16:return y.trys.push([16,18,,19]),[4,e.setItem(r,mergeDeepWithKey(u,i,n))];case 17:return[2,y.sent()];case 18:return d=y.sent(),[2,handler.logger(d)(a)];case 19:return[2]}}))}))})).catch((function(t){return handler.logger(t)(a)}))];case 4:return[2,f.apply(g,[p.sent()])(i)]}}))}))}},removeItem:function(t){var e=void 0===t?{}:t,r=e.key,n=e.logger,o=e.returner,i=e.before,a=e.store;return function(t){return __awaiter(this,void 0,void 0,(function(){var e,s,c,u;return __generator(this,(function(l){switch(l.label){case 0:return i?[4,handler.maybeCurry(t||null)(r)]:[3,2];case 1:return e=l.sent(),[3,3];case 2:e=r,l.label=3;case 3:return r=e,[4,_defineStore({store:a})];case 4:return s=l.sent(),u=(c=handler).returner,[4,s.removeItem(r).then((function(){return!0})).catch((function(t){return handler.logger(t)(n)}))];case 5:return[2,u.apply(c,[l.sent()])(o)]}}))}))}},deleteItemKey:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(o){return n=_mapArgs(r),[2,localforage.getItem(t).then((function(r){return"string"==typeof e?delete r[e]:typeof e==typeof[]&&e.forEach((function(t){return delete r[t]})),localforage.setItem(t,r).then((function(t){return t})).catch((function(t){return handler.logger(t,n[0].logger)}))})).catch((function(t){return handler.logger(t,n[0].logger)}))]}))}))},clear:function(t){var e=void 0===t?{}:t,r=e.logger,n=void 0===r?"none":r,o=e.store;return function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,_defineStore({store:o})];case 1:return[2,e.sent().clear().then((function(){return handler.maybeCurry(t||null)(!0)})).catch((function(t){return handler.logger(t)(n)}))]}}))}))}},length:function(t){var e=void 0===t?{}:t,r=e.logger,n=e.returner,o=e.store;return function(t){return __awaiter(this,void 0,void 0,(function(){var e,i,a;return __generator(this,(function(s){switch(s.label){case 0:return[4,_defineStore({store:o})];case 1:return e=s.sent(),a=(i=handler).returner,[4,e.length().then((function(e){return handler.maybeCurry(t||null)(e)})).catch((function(t){return handler.logger(t)(r)}))];case 2:return[2,a.apply(i,[s.sent()])(n)]}}))}))}},keys:function(t){var e=void 0===t?{}:t,r=e.logger,n=e.returner,o=e.store;return function(t){return __awaiter(this,void 0,void 0,(function(){var e,i,a;return __generator(this,(function(s){switch(s.label){case 0:return[4,_defineStore({store:o})];case 1:return e=s.sent(),a=(i=handler).returner,[4,e.keys().then((function(e){return handler.maybeCurry(t||null)(e)})).catch((function(t){return handler.logger(t)(r)}))];case 2:return[2,a.apply(i,[s.sent()])(n)]}}))}))}},hasKey:function(t){var e=void 0===t?{}:t,r=e.key,n=e.logger,o=e.returner,i=e.store;return function(t){return __awaiter(this,void 0,void 0,(function(){var e,a,s;return __generator(this,(function(c){switch(c.label){case 0:return[4,_defineStore({store:i})];case 1:return e=c.sent(),s=(a=handler).returner,[4,e.keys().then((function(e){return handler.maybeCurry(t||null)(e.includes(r))})).catch((function(t){return handler.logger(t)(n)}))];case 2:return[2,s.apply(a,[c.sent()])(o)]}}))}))}},hasKeyValue:function(t){var e=void 0===t?{}:t,r=e.key,n=e.value,o=e.logger,i=e.returner;return function(t){return __awaiter(this,void 0,void 0,(function(){var e,a;return __generator(this,(function(s){switch(s.label){case 0:return a=(e=handler).returner,[4,localforage.getItem(r).then((function(e){return handler.maybeCurry(t)(!!e[n])})).catch((function(t){return handler.logger(t)(o)}))];case 1:return[2,a.apply(e,[s.sent()])(i)]}}))}))}},iterate:function(t,e){localforage.iterate(t,e)},config:function(t){return localforage.config(t)},driver:function(){return localforage.driver()},ready:function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,localforage.ready().then((function(){return!0})).catch((function(t){return console.error(t),!1}))]}))}))},createInstance:function(t){var e=void 0===t?{}:t,r=e.name;return e.logger,localforage.createInstance({name:r||"tauriForage"})},dropInstance:function(t){var e=t.name;return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,localforage.dropInstance({name:e}).then((function(){return!0})).catch((function(t){return console.log(t),!1}))]}))}))},dropAll:function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,localforage.dropInstance({}).then((function(){return!0})).catch((function(t){return console.log(t),!1}))]}))}))},dropStore:function(t){var e=t.name,r=t.storeName;return localforage.dropInstance({name:e,storeName:r})}},_mapArgs=function(t){return t?t.map((function(t){switch(typeof t){case"function":return{curry:t};case"string":return{logger:t};case"number":return{returner:t};case"boolean":return{before:t};default:return{curry:t}}})):[]},_defineStore=function(t){var e=(void 0===t?{}:t).store;return e?forage.createInstance({name:e}):localforage},debounce_1=createCommonjsModule((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=void 0;const r=()=>{};e.debounce=function(t,e=0,n={}){let o=null,i=!1;const a=n.before||r,s=n.after||r;return function(...r){i||(i=!0,a()),null!=o&&(clearTimeout(o),o=null),n.isImmediate&&null==o?(i=!1,t.apply(this,r),s()):o=setTimeout((()=>{i=!1,o=null,t.apply(this,r),s()}),e)}}})),lib$1=createCommonjsModule((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=void 0,Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return debounce_1.debounce}})}));
/*
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */
class ExtendRegexp{constructor(t,e=""){this.source=t.source,this.flags=e}setGroup(t,e){let r="string"==typeof e?e:e.source;return r=r.replace(/(^|[^\[])\^/g,"$1"),this.source=this.source.replace(t,r),this}getRegexp(){return new RegExp(this.source,this.flags)}}
/**
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */const escapeTest=/[&<>"']/,escapeReplace=/[&<>"']/g,replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;function escape$1(t,e){if(e){if(escapeTest.test(t))return t.replace(escapeReplace,(t=>replacements[t]))}else if(escapeTestNoEncode.test(t))return t.replace(escapeReplaceNoEncode,(t=>replacements[t]));return t}function unescape$1(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))}
/**
 * @license
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */var TokenType,TokenType2;TokenType2=TokenType||(TokenType={}),TokenType2[TokenType2.space=1]="space",TokenType2[TokenType2.text=2]="text",TokenType2[TokenType2.paragraph=3]="paragraph",TokenType2[TokenType2.heading=4]="heading",TokenType2[TokenType2.listStart=5]="listStart",TokenType2[TokenType2.listEnd=6]="listEnd",TokenType2[TokenType2.looseItemStart=7]="looseItemStart",TokenType2[TokenType2.looseItemEnd=8]="looseItemEnd",TokenType2[TokenType2.listItemStart=9]="listItemStart",TokenType2[TokenType2.listItemEnd=10]="listItemEnd",TokenType2[TokenType2.blockquoteStart=11]="blockquoteStart",TokenType2[TokenType2.blockquoteEnd=12]="blockquoteEnd",TokenType2[TokenType2.code=13]="code",TokenType2[TokenType2.table=14]="table",TokenType2[TokenType2.html=15]="html",TokenType2[TokenType2.hr=16]="hr";class MarkedOptions{constructor(){this.gfm=!0,this.tables=!0,this.breaks=!1,this.pedantic=!1,this.sanitize=!1,this.mangle=!0,this.smartLists=!1,this.silent=!1,this.langPrefix="lang-",this.smartypants=!1,this.headerPrefix="",this.xhtml=!1,this.escape=escape$1,this.unescape=unescape$1}}
/**
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */class Renderer{constructor(t){this.options=t||Marked.options}code(t,e,r,n){if(this.options.highlight){const n=this.options.highlight(t,e);null!=n&&n!==t&&(r=!0,t=n)}const o=r?t:this.options.escape(t,!0);if(!e)return`\n<pre><code>${o}\n</code></pre>\n`;return`\n<pre><code class="${this.options.langPrefix+this.options.escape(e,!0)}">${o}\n</code></pre>\n`}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t){return t}heading(t,e,r){return`<h${e} id="${this.options.headerPrefix+r.toLowerCase().replace(/[^\w]+/g,"-")}">${t}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(t,e){const r=e?"ol":"ul";return`\n<${r}>\n${t}</${r}>\n`}listitem(t){return"<li>"+t+"</li>\n"}paragraph(t){return"<p>"+t+"</p>\n"}table(t,e){return`\n<table>\n<thead>\n${t}</thead>\n<tbody>\n${e}</tbody>\n</table>\n`}tablerow(t){return"<tr>\n"+t+"</tr>\n"}tablecell(t,e){const r=e.header?"th":"td";return(e.align?"<"+r+' style="text-align:'+e.align+'">':"<"+r+">")+t+"</"+r+">\n"}strong(t){return"<strong>"+t+"</strong>"}em(t){return"<em>"+t+"</em>"}codespan(t){return"<code>"+t+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return"<del>"+t+"</del>"}link(t,e,r){if(this.options.sanitize){let e;try{e=decodeURIComponent(this.options.unescape(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(o){return r}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return r}let n='<a href="'+t+'"';return e&&(n+=' title="'+e+'"'),n+=">"+r+"</a>",n}image(t,e,r){let n='<img src="'+t+'" alt="'+r+'"';return e&&(n+=' title="'+e+'"'),n+=this.options.xhtml?"/>":">",n}text(t){return t}}
/**
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */class InlineLexer{constructor(t,e,r=Marked.options,n){if(this.staticThis=t,this.links=e,this.options=r,this.renderer=n||this.options.renderer||new Renderer(this.options),!this.links)throw new Error("InlineLexer requires 'links' parameter.");this.setRules()}static output(t,e,r){return new this(this,e,r).output(t)}static getRulesBase(){if(this.rulesBase)return this.rulesBase;const t={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ <>]+(@|:\/)[^ <>]+)>/,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^<'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)([\s\S]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_inside:/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,_href:/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/};return t.link=new ExtendRegexp(t.link).setGroup("inside",t._inside).setGroup("href",t._href).getRegexp(),t.reflink=new ExtendRegexp(t.reflink).setGroup("inside",t._inside).getRegexp(),this.rulesBase=t}static getRulesPedantic(){return this.rulesPedantic?this.rulesPedantic:this.rulesPedantic=Object.assign(Object.assign({},this.getRulesBase()),{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/})}static getRulesGfm(){if(this.rulesGfm)return this.rulesGfm;const t=this.getRulesBase(),e=new ExtendRegexp(t.escape).setGroup("])","~|])").getRegexp(),r=new ExtendRegexp(t.text).setGroup("]|","~]|").setGroup("|","|https?://|").getRegexp();return this.rulesGfm=Object.assign(Object.assign({},t),{escape:e,url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:r})}static getRulesBreaks(){if(this.rulesBreaks)return this.rulesBreaks;const t=this.getRulesGfm(),e=this.getRulesGfm();return this.rulesBreaks=Object.assign(Object.assign({},e),{br:new ExtendRegexp(t.br).setGroup("{2,}","*").getRegexp(),text:new ExtendRegexp(e.text).setGroup("{2,}","*").getRegexp()})}setRules(){this.options.gfm?this.options.breaks?this.rules=this.staticThis.getRulesBreaks():this.rules=this.staticThis.getRulesGfm():this.options.pedantic?this.rules=this.staticThis.getRulesPedantic():this.rules=this.staticThis.getRulesBase(),this.hasRulesGfm=void 0!==this.rules.url}output(t){let e;t=t;let r="";for(;t;)if(e=this.rules.escape.exec(t))t=t.substring(e[0].length),r+=e[1];else if(e=this.rules.autolink.exec(t)){let n,o;t=t.substring(e[0].length),"@"===e[2]?(n=this.options.escape(":"===e[1].charAt(6)?this.mangle(e[1].substring(7)):this.mangle(e[1])),o=this.mangle("mailto:")+n):(n=this.options.escape(e[1]),o=n),r+=this.renderer.link(o,null,n)}else if(!this.inLink&&this.hasRulesGfm&&(e=this.rules.url.exec(t))){let n,o;t=t.substring(e[0].length),n=this.options.escape(e[1]),o=n,r+=this.renderer.link(o,null,n)}else if(e=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(e[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(e[0])&&(this.inLink=!1),t=t.substring(e[0].length),r+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):this.options.escape(e[0]):e[0];else if(e=this.rules.link.exec(t))t=t.substring(e[0].length),this.inLink=!0,r+=this.outputLink(e,{href:e[2],title:e[3]}),this.inLink=!1;else if((e=this.rules.reflink.exec(t))||(e=this.rules.nolink.exec(t))){t=t.substring(e[0].length);const n=(e[2]||e[1]).replace(/\s+/g," "),o=this.links[n.toLowerCase()];if(!o||!o.href){r+=e[0].charAt(0),t=e[0].substring(1)+t;continue}this.inLink=!0,r+=this.outputLink(e,o),this.inLink=!1}else if(e=this.rules.strong.exec(t))t=t.substring(e[0].length),r+=this.renderer.strong(this.output(e[2]||e[1]));else if(e=this.rules.em.exec(t))t=t.substring(e[0].length),r+=this.renderer.em(this.output(e[2]||e[1]));else if(e=this.rules.code.exec(t))t=t.substring(e[0].length),r+=this.renderer.codespan(this.options.escape(e[2].trim(),!0));else if(e=this.rules.br.exec(t))t=t.substring(e[0].length),r+=this.renderer.br();else if(this.hasRulesGfm&&(e=this.rules.del.exec(t)))t=t.substring(e[0].length),r+=this.renderer.del(this.output(e[1]));else if(e=this.rules.text.exec(t))t=t.substring(e[0].length),r+=this.renderer.text(this.options.escape(this.smartypants(e[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return r}outputLink(t,e){const r=this.options.escape(e.href),n=e.title?this.options.escape(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(r,n,this.output(t[1])):this.renderer.image(r,n,this.options.escape(t[1]))}smartypants(t){return this.options.smartypants?t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t}mangle(t){if(!this.options.mangle)return t;let e="";const r=t.length;for(let n=0;n<r;n++){let r;Math.random()>.5&&(r="x"+t.charCodeAt(n).toString(16)),e+="&#"+r+";"}return e}}InlineLexer.rulesBase=null,InlineLexer.rulesPedantic=null,InlineLexer.rulesGfm=null,InlineLexer.rulesBreaks=null;
/**
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */
class Parser{constructor(t){this.simpleRenderers=[],this.line=0,this.tokens=[],this.token=null,this.options=t||Marked.options,this.renderer=this.options.renderer||new Renderer(this.options)}static parse(t,e,r){return new this(r).parse(e,t)}parse(t,e){this.inlineLexer=new InlineLexer(InlineLexer,t,this.options,this.renderer),this.tokens=e.reverse();let r="";for(;this.next();)r+=this.tok();return r}debug(t,e){this.inlineLexer=new InlineLexer(InlineLexer,t,this.options,this.renderer),this.tokens=e.reverse();let r="";for(;this.next();){const t=this.tok();this.token.line=this.line+=t.split("\n").length-1,r+=t}return r}next(){return this.token=this.tokens.pop()}getNextElement(){return this.tokens[this.tokens.length-1]}parseText(){let t,e=this.token.text;for(;(t=this.getNextElement())&&t.type==TokenType.text;)e+="\n"+this.next().text;return this.inlineLexer.output(e)}tok(){switch(this.token.type){case TokenType.space:return"";case TokenType.paragraph:return this.renderer.paragraph(this.inlineLexer.output(this.token.text));case TokenType.text:return this.options.isNoP?this.parseText():this.renderer.paragraph(this.parseText());case TokenType.heading:return this.renderer.heading(this.inlineLexer.output(this.token.text),this.token.depth,this.token.text);case TokenType.listStart:{let t="";const e=this.token.ordered;for(;this.next().type!=TokenType.listEnd;)t+=this.tok();return this.renderer.list(t,e)}case TokenType.listItemStart:{let t="";for(;this.next().type!=TokenType.listItemEnd;)t+=this.token.type==TokenType.text?this.parseText():this.tok();return this.renderer.listitem(t)}case TokenType.looseItemStart:{let t="";for(;this.next().type!=TokenType.listItemEnd;)t+=this.tok();return this.renderer.listitem(t)}case TokenType.code:return this.renderer.code(this.token.text,this.token.lang,this.token.escaped,this.token.meta);case TokenType.table:{let t,e="",r="";t="";for(let n=0;n<this.token.header.length;n++){const e={header:!0,align:this.token.align[n]},r=this.inlineLexer.output(this.token.header[n]);t+=this.renderer.tablecell(r,e)}e+=this.renderer.tablerow(t);for(const n of this.token.cells){t="";for(let e=0;e<n.length;e++)t+=this.renderer.tablecell(this.inlineLexer.output(n[e]),{header:!1,align:this.token.align[e]});r+=this.renderer.tablerow(t)}return this.renderer.table(e,r)}case TokenType.blockquoteStart:{let t="";for(;this.next().type!=TokenType.blockquoteEnd;)t+=this.tok();return this.renderer.blockquote(t)}case TokenType.hr:return this.renderer.hr();case TokenType.html:{const t=this.token.pre||this.options.pedantic?this.token.text:this.inlineLexer.output(this.token.text);return this.renderer.html(t)}default:{if(this.simpleRenderers.length)for(let e=0;e<this.simpleRenderers.length;e++)if(this.token.type=="simpleRule"+(e+1))return this.simpleRenderers[e].call(this.renderer,this.token.execArr);const t=`Token with "${this.token.type}" type was not found.`;if(!this.options.silent)throw new Error(t);console.log(t)}}}}
/**
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */class Marked{static setOptions(t){return Object.assign(this.options,t),this}static setBlockRule(t,e=(()=>"")){return BlockLexer.simpleRules.push(t),this.simpleRenderers.push(e),this}static parse(t,e=this.options){try{const{tokens:r,links:n}=this.callBlockLexer(t,e);return this.callParser(r,n,e)}catch(r){return this.callMe(r)}}static debug(t,e=this.options){const{tokens:r,links:n}=this.callBlockLexer(t,e);let o=r.slice();const i=new Parser(e);i.simpleRenderers=this.simpleRenderers;const a=i.debug(n,r);return o=o.map((t=>{t.type=TokenType[t.type]||t.type;const e=t.line;return delete t.line,e?Object.assign({line:e},t):t})),{tokens:o,links:n,result:a}}static callBlockLexer(t="",e){if("string"!=typeof t)throw new Error(`Expected that the 'src' parameter would have a 'string' type, got '${typeof t}'`);return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n").replace(/^ +$/gm,""),BlockLexer.lex(t,e,!0)}static callParser(t,e,r){if(this.simpleRenderers.length){const n=new Parser(r);return n.simpleRenderers=this.simpleRenderers,n.parse(e,t)}return Parser.parse(t,e,r)}static callMe(t){if(t.message+="\nPlease report this to https://github.com/ts-stack/markdown",this.options.silent)return"<p>An error occured:</p><pre>"+this.options.escape(t.message+"",!0)+"</pre>";throw t}}Marked.options=new MarkedOptions,Marked.simpleRenderers=[];
/**
 * @license
 *
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 *
 * Copyright (c) 2018-2021, Костя Третяк. (MIT Licensed)
 * https://github.com/ts-stack/markdown
 */
class BlockLexer{constructor(t,e){this.staticThis=t,this.links={},this.tokens=[],this.options=e||Marked.options,this.setRules()}static lex(t,e,r,n){return new this(this,e).getTokens(t,r,n)}static getRulesBase(){if(this.rulesBase)return this.rulesBase;const t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};t.item=new ExtendRegexp(t.item,"gm").setGroup(/bull/g,t.bullet).getRegexp(),t.list=new ExtendRegexp(t.list).setGroup(/bull/g,t.bullet).setGroup("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))").setGroup("def","\\n+(?="+t.def.source+")").getRegexp();const e="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";return t.html=new ExtendRegexp(t.html).setGroup("comment",/<!--[\s\S]*?-->/).setGroup("closed",/<(tag)[\s\S]+?<\/\1>/).setGroup("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/).setGroup(/tag/g,e).getRegexp(),t.paragraph=new ExtendRegexp(t.paragraph).setGroup("hr",t.hr).setGroup("heading",t.heading).setGroup("lheading",t.lheading).setGroup("blockquote",t.blockquote).setGroup("tag","<"+e).setGroup("def",t.def).getRegexp(),this.rulesBase=t}static getRulesGfm(){if(this.rulesGfm)return this.rulesGfm;const t=this.getRulesBase(),e=Object.assign(Object.assign({},t),{fences:/^ *(`{3,}|~{3,})[ \.]*((\S+)? *[^\n]*)\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),r=e.fences.source.replace("\\1","\\2"),n=t.list.source.replace("\\1","\\3");return e.paragraph=new ExtendRegexp(t.paragraph).setGroup("(?!",`(?!${r}|${n}|`).getRegexp(),this.rulesGfm=e}static getRulesTable(){return this.rulesTables?this.rulesTables:this.rulesTables=Object.assign(Object.assign({},this.getRulesGfm()),{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/})}setRules(){this.options.gfm?this.options.tables?this.rules=this.staticThis.getRulesTable():this.rules=this.staticThis.getRulesGfm():this.rules=this.staticThis.getRulesBase(),this.hasRulesGfm=void 0!==this.rules.fences,this.hasRulesTables=void 0!==this.rules.table}getTokens(t,e,r){let n,o=t;t:for(;o;)if((n=this.rules.newline.exec(o))&&(o=o.substring(n[0].length),n[0].length>1&&this.tokens.push({type:TokenType.space})),n=this.rules.code.exec(o)){o=o.substring(n[0].length);const t=n[0].replace(/^ {4}/gm,"");this.tokens.push({type:TokenType.code,text:this.options.pedantic?t:t.replace(/\n+$/,"")})}else if(this.hasRulesGfm&&(n=this.rules.fences.exec(o)))o=o.substring(n[0].length),this.tokens.push({type:TokenType.code,meta:n[2],lang:n[3],text:n[4]||""});else if(n=this.rules.heading.exec(o))o=o.substring(n[0].length),this.tokens.push({type:TokenType.heading,depth:n[1].length,text:n[2]});else if(e&&this.hasRulesTables&&(n=this.rules.nptable.exec(o))){o=o.substring(n[0].length);const t={type:TokenType.table,header:n[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:[]};for(let r=0;r<t.align.length;r++)/^ *-+: *$/.test(t.align[r])?t.align[r]="right":/^ *:-+: *$/.test(t.align[r])?t.align[r]="center":/^ *:-+ *$/.test(t.align[r])?t.align[r]="left":t.align[r]=null;const e=n[3].replace(/\n$/,"").split("\n");for(let r=0;r<e.length;r++)t.cells[r]=e[r].split(/ *\| */);this.tokens.push(t)}else if(n=this.rules.lheading.exec(o))o=o.substring(n[0].length),this.tokens.push({type:TokenType.heading,depth:"="===n[2]?1:2,text:n[1]});else if(n=this.rules.hr.exec(o))o=o.substring(n[0].length),this.tokens.push({type:TokenType.hr});else if(n=this.rules.blockquote.exec(o)){o=o.substring(n[0].length),this.tokens.push({type:TokenType.blockquoteStart});const t=n[0].replace(/^ *> ?/gm,"");this.getTokens(t),this.tokens.push({type:TokenType.blockquoteEnd})}else if(n=this.rules.list.exec(o)){o=o.substring(n[0].length);const t=n[2];this.tokens.push({type:TokenType.listStart,ordered:t.length>1});const e=n[0].match(this.rules.item),i=e.length;let a,s,c,u=!1;for(let n=0;n<i;n++){let l=e[n];a=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),-1!==l.indexOf("\n ")&&(a-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+a+"}","gm"),"")),this.options.smartLists&&n!==i-1&&(s=this.staticThis.getRulesBase().bullet.exec(e[n+1])[0],t===s||t.length>1&&s.length>1||(o=e.slice(n+1).join("\n")+o,n=i-1)),c=u||/\n\n(?!\s*$)/.test(l),n!==i-1&&(u="\n"===l.charAt(l.length-1),c||(c=u)),this.tokens.push({type:c?TokenType.looseItemStart:TokenType.listItemStart}),this.getTokens(l,!1,r),this.tokens.push({type:TokenType.listItemEnd})}this.tokens.push({type:TokenType.listEnd})}else if(n=this.rules.html.exec(o)){o=o.substring(n[0].length);const t=n[1],e="pre"===t||"script"===t||"style"===t;this.tokens.push({type:this.options.sanitize?TokenType.paragraph:TokenType.html,pre:!this.options.sanitizer&&e,text:n[0]})}else if(e&&(n=this.rules.def.exec(o)))o=o.substring(n[0].length),this.links[n[1].toLowerCase()]={href:n[2],title:n[3]};else if(e&&this.hasRulesTables&&(n=this.rules.table.exec(o))){o=o.substring(n[0].length);const t={type:TokenType.table,header:n[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:[]};for(let r=0;r<t.align.length;r++)/^ *-+: *$/.test(t.align[r])?t.align[r]="right":/^ *:-+: *$/.test(t.align[r])?t.align[r]="center":/^ *:-+ *$/.test(t.align[r])?t.align[r]="left":t.align[r]=null;const e=n[3].replace(/(?: *\| *)?\n$/,"").split("\n");for(let r=0;r<e.length;r++)t.cells[r]=e[r].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(t)}else{if(this.staticThis.simpleRules.length){const t=this.staticThis.simpleRules;for(let e=0;e<t.length;e++)if(n=t[e].exec(o)){o=o.substring(n[0].length);const t="simpleRule"+(e+1);this.tokens.push({type:t,execArr:n});continue t}}if(e&&(n=this.rules.paragraph.exec(o)))o=o.substring(n[0].length),"\n"===n[1].slice(-1)?this.tokens.push({type:TokenType.paragraph,text:n[1].slice(0,-1)}):this.tokens.push({type:this.tokens.length>0?TokenType.paragraph:TokenType.text,text:n[1]});else if(n=this.rules.text.exec(o))o=o.substring(n[0].length),this.tokens.push({type:TokenType.text,text:n[0]});else if(o)throw new Error("Infinite loop on byte: "+o.charCodeAt(0)+`, near text '${o.slice(0,30)}...'`)}return{tokens:this.tokens,links:this.links}}}BlockLexer.simpleRules=[],BlockLexer.rulesBase=null,BlockLexer.rulesGfm=null,BlockLexer.rulesTables=null;var tsStackMarkdown=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BlockLexer:BlockLexer,ExtendRegexp:ExtendRegexp,InlineLexer:InlineLexer,Marked:Marked,MarkedOptions:MarkedOptions,Parser:Parser,Renderer:Renderer,get TokenType(){return TokenType},escape:escape$1,unescape:unescape$1}),markdown_1=getAugmentedNamespace(tsStackMarkdown),markdown_2=createCommonjsModule((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.markdown=e.removePlugin=e.addPlugin=e.MarkdownRenderer=void 0;class r extends markdown_1.Renderer{static getPlugins(){return this.plugins}static getPlugin(t){return this.plugins[t]}static addPlugin(t,e){return this.plugins[t]=e,this}static removePlugin(t){return delete this.plugins[t],this}getClass(){return Object.getPrototypeOf(this).constructor}getPlugins(){return this.getClass().getPlugins()}getPlugin(t){return this.getClass().getPlugin(t)}addPlugin(t,e){return this.getClass().addPlugin(t,e),this}removePlugin(t){return this.getClass().removePlugin(t),this}code(t,e,r,n){const o=e?this.getPlugin(e):void 0;return o?o(t,r,n):super.code(t,e,r,n)}}e.MarkdownRenderer=r,r.plugins={},markdown_1.Marked.setOptions({renderer:new r}),e.addPlugin=function(t,e){r.addPlugin(t,e)},e.removePlugin=function(t){r.removePlugin(t)},e.markdown=function(t){return markdown_1.Marked.parse(t)}})),lib=createCommonjsModule((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=e.addPlugin=e.removePlugin=e.markdown=void 0,Object.defineProperty(e,"markdown",{enumerable:!0,get:function(){return markdown_2.markdown}}),Object.defineProperty(e,"removePlugin",{enumerable:!0,get:function(){return markdown_2.removePlugin}}),Object.defineProperty(e,"addPlugin",{enumerable:!0,get:function(){return markdown_2.addPlugin}}),Object.defineProperty(e,"MarkdownRenderer",{enumerable:!0,get:function(){return markdown_2.MarkdownRenderer}})}));export{commonjsGlobal as $,assign as A,group_outros as B,writable as C,create_slot as D,append as E,update_slot as F,noop as G,query_selector_all as H,set_input_value as I,listen as J,destroy_each as K,run_all as L,component_subscribe as M,forage as N,automerge as O,get_store_value as P,Automerge as Q,lib$1 as R,SvelteComponent as S,binding_callbacks as T,lib as U,HtmlTag as V,stop_propagation as W,add_render_callback as X,select_option as Y,select_value as Z,createCommonjsModule as _,children as a,commonjsRequire as a0,getDefaultExportFromCjs as a1,attr as b,claim_element as c,detach as d,element as e,insert as f,claim_text as g,set_data as h,init as i,create_component as j,space as k,empty as l,claim_component as m,claim_space as n,mount_component as o,get_spread_update as p,get_spread_object as q,transition_out as r,safe_not_equal as s,text as t,check_outros as u,transition_in as v,destroy_component as w,setContext as x,afterUpdate as y,onMount as z};
